function g(b){throw b;}var i=void 0,j=!0,l=null,m=!1;function aa(){return function(b){return b}}function n(){return function(){}}function ba(b){return function(c){this[b]=c}}function o(b){return function(){return this[b]}}function p(b){return function(){return b}}var q;
function ca(){function b(){if(0!==k.length){var c=k.shift(),d=r.shift();setTimeout(function(){d(c)},0);setTimeout(b,0)}}function c(b,c,t,Z){if(0!==d.length&&0===k.length){var vc=d[0];if(1===d.length&&("byte"===vc.type||vc.xa.length<<1===f+1)){if(h)return c&&(d=[]),b(l,l),j;Z||(k.push(b),r.push(t));return m}var gb,t=0,Z=f,W=vc;if("byte"===W.type)t++,vc=W.xa;else{W=W.xa;gb=W.charCodeAt(Z>>>1);if(Z&1)return c&&(f++,W.length<<1<=f&&(d.shift(),f=0)),b(l,gb),j;vc=gb>>>8&255;Z++;W.length<<1<=Z&&(t++,Z=0)}W=
d[t];"byte"===W.type?(t++,gb=W.xa):(W=W.xa,gb=W.charCodeAt(Z>>>1),gb=(Z&1?gb:gb>>>8)&255,Z++,W.length<<1<=Z&&(t++,Z=0));if(c){for(;t--;)d.shift();f=Z}b(l,vc<<8|gb);return j}if(h)return b(l,l),j;Z||(k.push(b),r.push(t));return m}var d=[],f=0,h=m,k=[],r=[],t={},B=t.gc=function(b,c){if(0!==d.length&&0===k.length){var t=d[0];if("byte"===t.type)d.shift(),b(l,t.xa);else{var t=t.xa,Z=t.charCodeAt(f>>>1),Z=(f&1?Z:Z>>>8)&255;f++;t.length<<1<=f&&(d.shift(),f=0);b(l,Z)}return j}if(h)return b(l,l),j;c||(k.push(b),
r.push(B));return m},M=t.hc=function(b,d){return c(b,j,M,d)},ia=t.gb=function(b,d){return c(b,m,ia,d)};t.close=n();t.Tc=function(){var b=d.length,c=m,h,k=[],r=0;if(f&1){var t=d[0].xa,c=j;h=t.charCodeAt(f>>>1)&255;f++;for(var W=f>>>1,B=t.length;W<B;W++){var Sb=t.charCodeAt(W);k.push(String.fromCharCode(h<<8|Sb>>>8&255));h=Sb&255}f=0;r++}else f&&(k.push(d[0].xa.substring(f>>>1)),f=0,r++);for(b=d.length;r<b;r++)if(t=d[r],"byte"===t.type)c?(k.push(String.fromCharCode(h<<8|t.xa)),c=m):(h=t.xa,c=j);else if(t=
t.xa,c){W=0;for(B=t.length;W<B;W++)Sb=t.charCodeAt(W),k.push(String.fromCharCode(h<<8|Sb>>>8&255)),h=Sb&255}else k.push(t);d=c?[{type:"byte",xa:h}]:[];return k.join("")};return{Qa:t,fc:{Va:function(c){h||""===c||(d.push({type:"string",xa:c}),b())},oc:function(c){h||(d.push({type:"byte",xa:c}),b())},close:function(){h=j;b()},flush:n()}}}function da(b,c,d){b.addEventListener?b.addEventListener(c,d,m):b.attachEvent("on"+c,d)}var ea=ca(),fa=ca(),ga=ca(),ha=ca(),ja=fa.Qa,la=ga.fc,ma=ha.fc;
function na(b){b(new u("No filesystem."));return j}function oa(b,c){c(l,m);return j}
function pa(b,c,d){if(d)return c(new u("Can't access the Web synchronously.")),j;var f=new XMLHttpRequest;if("withCredentials"in f)f.open("GET",b,j);else if("XDomainRequest"in window)f=new XDomainRequest,f.open("GET",b);else return c(new u("No AJAX.")),j;da(f,"error",function(){c(new u("Couldn't open page: "+b+" because of error: "+f.statusText))});da(f,"load",function(){c(l,new qa(f.responseText))});f.send(l);return m}function ra(b){b(new u("No filesystem."));return j}
function sa(b){b(new u("No filesystem."));return j}function ta(b){b(new u("No filesystem."));return j}function ua(b){b(new u("No filesystem."));return j}function va(b){b(new u("No filesystem."));return j}var wa={};function xa(b){la.Va(""+b)}function ya(b){la.Va(""+b+"\n")}function za(b,c){i===c&&(c=ma);for(c.Va(""+b+"\n"+(b.stack||b)+"\n");b instanceof u&&(b=b.Zc);)b instanceof Aa&&(b=b.pa),c.Va("Caused by: "+b+"\n"+(b.stack||b)+"\n")}var w={};function u(b,c){this.message=b;this.stack=Error().stack;this.Zc=c;this.pd=[]}u.prototype=Error();function x(b,c){this.parent=c;this.bb=Array(~~b);this.Gb=0}q=x.prototype;
q.add=function(b){this.bb.length<=this.Gb&&g(new u("Can't add "+b+" to bindings: already full ("+this.Gb+") "+y(this.bb)));this.bb[this.Gb]=b;this.Gb++};q.zb=function(b){return 0===b?this:this.parent.zb(b-1)};q.toString=function(){for(var b=[],c=0;c<this.bb.length;c++)b.push(c),b.push(" : "),b.push(this.bb[c]),b.push("\n");return b.join("")+"\nparent: "+(this.parent===l?"<none>":this.parent.toString())};q.set=function(b,c){return this.bb[b]=c};q.Fb=o("Gb");q.size=function(){return this.bb.length};
function Ba(){}Ba.prototype=Error();function z(){}q=z.prototype;q.Ga=m;q.className="ArcObject";q.Da=p(m);q.m=function(){g(new u("addInstructions not defined on "+this+", a "+this.className))};q.f=function(b,c){var d=Da.value();d instanceof Ea||g(new TypeError);d=d.value(this.type());d instanceof A&&g(new u("No handler for "+this.type()+" in call* table: called "+this+" with args "+c));d.f(b,new C(this,c))};q.wa=function(b){this.f(b,D)};q.r=function(b,c){this.f(b,new C(c,D))};
q.R=function(b,c,d){this.f(b,new C(c,new C(d,D)))};q.Ra=function(b,c,d,f){this.f(b,new C(c,new C(d,new C(f,D))))};q.ha=function(){g(new u("len: expects one string, list or hash argument, got "+this.type()))};q.Qb=function(){g(new u("Can't set car of "+this.type()))};q.kc=function(b,c){g(new u("Can't sref "+this+"( a "+this.type()+"), other args were "+b+", "+c))};q.na=p(0);q.pc=function(){return D};q.a=function(){g(new u("Can't take car of "+this))};q.b=function(){g(new u("Can't take cdr of "+this))};
q.wc=p(m);q.type=i;q.ra=function(){return this};q.Ca=function(b){return this===b};q.copyTo=aa();q.N=p(j);q.yb=function(){g(new Fa)};q.Ka=function(){g(new Ga)};q.Rc=function(){return this};function Ha(b,c,d){for(var f=d,h=0;!(d instanceof A);)E(c,d.a()),d=d.b(),h++;F(c,new Ia(f,c.L,b));d=new Ja(h);d.k(b);F(c,d);d=new G(b);d.k(b);F(c,d)}q.wb=function(){g(new u("has length: not a proper list: ends with "+this))};q.cc=function(){g(new u("longer than: not a proper list: ends with "+this))};q.K=function(){return this};
q.j=n();q.W=function(){return this};q.nc=n();q.Ub=n();q.Vb=function(){return D};q.Na=function(){return this.Vb().toString()};q.add=function(){g(new u("add not implemented for "+this.type()+" "+this))};q.sqrt=function(){g(new u("sqrt not implemented for "+this.type()+" "+this))};q.multiply=function(){g(new u("multiply not implemented for "+this.type()+" "+this))};function Ga(){}q.reduce=function(){return this};q.V=p(m);q.Q=function(){return this};q.P=function(){return this};q.ea=p(m);q.Xa=function(){return this.toString()};
function Ka(b){var c=l;La((new qa(b)).ra(),function(b,f){b&&g(b);c=f},j)||g(new Ba);return c}
function La(b,c,d){function f(c){return b.gb(function(b,d){if(b)return void c(b);c(l,d===l?l:String.fromCharCode(d))},d)}function h(c){return b.hc(function(b,d){if(b)return void c(b);c(l,d===l?l:String.fromCharCode(d))})}function k(b){for(var c=j,d=m;c&&!d;)d=j,h(function(r,t){if(r)return void b(r);t===l||"\n"===t?b(l):"\r"===t?f(function(d,f){if(d)return void b(d);"\n"===f?h(function(c){if(c)return void b(c);b(l)})||(c=m):b(l)})||(c=m):(d=m,c||k(b))})||(c=m);return c}function r(b){for(var c=j,d=
m;c&&!d;)d=j,f(function(f,t){function Ca(f){if(f)return void b(f);d=m;c||r(b)}if(f)return void b(f);";"===t?k(Ca)||(c=m):t===l||/[^ \t\r\n]/.test(t)?b(l):h(Ca)||(c=m)})||(c=m);return c}function t(b,c){function d(f){var h=b.length-1,k=b[h];b="string"===typeof f&&k instanceof Ma?b.slice(0,h).concat([H(k.value()+f)]):"string"===typeof f?b.concat([H(f)]):b.concat([f]);M=m;B||t(b,c)}function k(b){b===i&&(b=new Ba);c(b)}function Ca(){ue(function(b,c){if(b)return k(b);r(function(b){if(b)return k(b);h(function(b,
f){if(b)return k(b);")"===f?d(c):k()})||(B=m)})||(B=m)})||(B=m)}for(var B=j,M=m;B&&!M;)M=j,h(function(r,t){if(r)return k(r);t===l?k():'"'===t?c(l,b):"\\"===t?h(function(b,c){if(b)return k(b);'"'===c?d('"'):"\\"===c?d("\\"):"n"===c?d("\n"):"r"===c?d("\r"):"t"===c?d("\t"):"#"===c?h(function(b,c){if(b)return k(b);"("===c?d("#("):k()})||(B=m):k()})||(B=m):"#"===t?f(function(b,c){if(b)return k(b);if("("!==c)return void d("#");h(function(b){if(b)return k(b);Ca()})||(B=m)})||(B=m):d(t)})||(B=m);return B}
function B(b,c){function d(b){c(l,Na(b))}for(var k=j,r=m;k&&!r;)r=j,f(function(f,t){if(f)return void c(f);t===l||/[^01-9a-zA-Z]/.test(t)?"newline"===b?d(10):"tab"===b?d(9):"space"===b?d(32):"return"===b?d(13):"null"===b?d(0):/^[01-9][01-9]+$/.test(b)?d(parseInt(b,10)):/^u[0-9a-f]+$/i.test(b)?d(parseInt(b.substring(1),16)):1===b.length?d(b.charCodeAt(0)):c(new Ba):h(function(d,f){if(d)return void c(d);r=m;b+=f;k||B(b,c)})||(k=m)})||(k=m);return k}function M(b,c){for(var d=j,k=m;d&&!k;)k=j,f(function(f,
r){if(f)return void c(f);if(r===l||/[^01-9a-fA-F]/.test(r)){if(""===b)return void c(new Ba);c(l,I(parseInt(b,16)))}else h(function(f,h){if(f)return void c(f);k=m;b+=h;d||M(b,c)})||(d=m)})||(d=m);return d}function ia(b,c){for(var d=j,f=m;d&&!f;)f=j,h(function(h,k){if(h)return void c(h);k===l?c(new Ba):"|"===k?c(l,Oa(b)):(f=m,b+=k,d||ia(b,c))})||(d=m);return d}function Ca(b,c,d){for(var k=j,t=m;k&&!t;)t=j,r(function(r){if(r)return void d(r);f(function(f,r){if(f)return void d(f);r===l?d(new Ba):r===
c?h(function(c){if(c)return void d(c);d(l,b)})||(k=m):ue(function(f,h){if(f)return void d(f);t=m;b=b.concat([h]);k||Ca(b,c,d)})||(k=m)})||(k=m)})||(k=m);return k}function sb(b,c){for(var d=j,k=m;d&&!k;)k=j,f(function(f,r){if(f)return void c(f);var t=r!==l&&r.charCodeAt(0);if(r!==l&&(/^[-+$%&*\/<=>?^_~.!:01-9a-zA-Z]+$/.test(r)||128<=t&&65536>t))h(function(f,h){if(f)return void c(f);k=m;b+=h;d||sb(b,c)})||(d=m);else if("\\"===r)h(function(f){if(f)return void c(f);h(function(f,h){if(f)return void c(f);
"|"===h?(k=m,b+="\\|",d||sb(b,c)):c(new Ba)})||(d=m)})||(d=m);else{var B;/^-?[01-9]+\/[01-9]+$/.test(b)?c(l,Pa(b)):/^-?[01-9]+$/.test(b)?c(l,I(parseInt(b,10))):/^[-+]?[01-9]*\.?[01-9]+(e-?[01-9]+)?$/.test(b)?c(l,Qa(parseFloat(b))):"+inf.0"===b?c(l,new J(1/0)):"-inf.0"===b?c(l,new J(-1/0)):"+nan.0"===b?c(l,new J(0/0)):"+i"===b?c(l,new K(0,1)):"-i"===b?c(l,new K(0,-1)):(B=/^([-+]?[01-9]*\.?[01-9]+(?:e-?[01-9]+)?)([-+])([01-9]*\.?[01-9]+(?:e-?[01-9]+)?)?i$/.exec(b))?c(l,new K(Qa(parseFloat(B[1])).value(),
Qa(parseFloat(B[2]+(B[3]||"1"))).value())):c(l,Oa(b))}})||(d=m);return d}function ue(b){function c(){t([],function(c,d){if(c)return void b(c);0===d.length?b(l,H("")):1===d.length?b(l,d[0]):b(l,y([Oa("string")].concat(d)))})||(ka=m)}function d(){ia("",function(c,d){if(c)return void b(c);b(l,Oa(d))})||(ka=m)}function k(){h(function(c,d){if(c)return void b(c);d!==l&&/x/i.test(d)?M("",b)||(ka=m):"\\"===d?h(function(c,d){if(c)return void b(c);if(/[^a-zA-Z]/.test(c))return void b(l,Na(c.charCodeAt(0)));
B(d,b)||(ka=m)})||(ka=m):b(new Ba)})||(ka=m)}function ve(c){ue(function(d,f){if(d)return void b(d);f===l?b(new Ba):b(l,y([L(c),f]))})||(ka=m)}function Sb(){f(function(c,d){if(c)return void b(c);d===l?b(new Ba):"@"===d?h(function(c){if(c)return void b(c);ve("unquote-splicing")})||(ka=m):ve("unquote")})||(ka=m)}function vj(){Ca([],")",function(c,d){if(c)return void b(c);if(0===d.length)b(l,Ra);else{try{var f=d===l||0===d.length?D:d[0]===Sa?Ta(d):new C(d[0],Ua(d.slice(1)))}catch(h){return void b(h)}b(l,
f)}})||(ka=m)}function wj(){Ca([],"]",function(c,d){if(c)return void b(c);b(l,y([L("fn"),y([L("_")]),y(d)]))})||(ka=m)}var ka=j;r(function(f){if(f)return void b(f);h(function(f,h){if(f)return void b(f);h===l?b(l,l):'"'===h?c():"|"===h?d():"#"===h?k():"'"===h?ve("quote"):","===h?Sb():"`"===h?ve("quasiquote"):"("===h?vj():"["===h?wj():sb(h,b)||(ka=m)})||(ka=m)})||(ka=m);return ka}return ue(c)}function N(b,c){this.$=b;this.Sc=c;this.ad=b;this.vb=this.i=l}N.prototype=new z;q=N.prototype;q.className="Symbol";
q.m=function(b){b.push(new Va(this))};function L(b){var c=Oa(b);if(c instanceof N)return c;g(new u("can't make symbol from \""+b+'"'))}
function Oa(b){if("t"===b)b=Wa;else if("nil"===b)b=D;else{var c;if(!(c=Xa.test(b))){a:if(/^-?[01-9]+\/[01-9]+$/.test(b)||/^-?[01-9]+$/.test(b)||/^[-+]?[01-9]*\.?[01-9]+(e-?[01-9]+)?$/.test(b)||"+inf.0"===b||"-inf.0"===b||"+nan.0"===b||"+i"===b||"-i"===b||/^([-+]?[01-9]*\.?[01-9]+(?:e-?[01-9]+)?)([-+])([01-9]*\.?[01-9]+(?:e-?[01-9]+)?)?i$/.test(b)||/\\(?!\|)/.test(b))c=j;else{c=0;for(var d=b.length;c<d;c++){var f=b.charCodeAt(c);if(!(/^[-+$%&*\/<=>?^_~.!:01-9a-zA-Z]+$/.test(b.charAt(c))||128<=f&&65536>
f)){c=j;break a}}c=m}c=c||"."===b}b=c?Ya(b,"|"+b+"|"):Za.test(b)?Ya(b.replace(/\\\|/g,"|"),b):Ya(b,b)}return b}q.Xa=o("$");q.toString=o("Sc");function Ya(b,c){if(b in $a)return $a[b];var d=new N(b,c);return $a[b]=d}q.name=o("$");q.na=function(b){b instanceof N||g(new TypeError);return this.$.localeCompare(b.name)};q.type=function(){return ab};q.ra=function(){return this.name()};q.ya=o("ad");q.ua=function(b){return this===b};function bb(b,c){return c instanceof N&&c.name()===b}
q.da=function(b){var c=this.i;this.i=b;c!==l&&c.nc(this);b.Ub(this)};q.value=function(){this.i===l&&g(new u("Symbol "+this.$+" is not bound"));return this.i};q.bound=function(){return this.i!==l};function cb(b,c){try{return b instanceof N||g(new TypeError),b}catch(d){d instanceof TypeError||g(d),g(new u("Wrong argument type: "+c+" expected a Symbol, got "+b))}}function db(b,c,d){if(b.vb===l)b.vb={};b.vb[c.name()]=d}
var $a={},Xa=/.*(["'; \t\n\)\(]|([^\\]|^)\|).*/,Za=/.*\\\|/,ab=L("sym"),Sa=L("."),eb=L("!");function C(b,c){b===l&&g(new u("Can't create Pair with null car: use NIL instead"));c===l&&g(new u("Can't create Pair with null cdr: use NIL instead"));this.Wa=b;this.ib=c}C.prototype=new z;q=C.prototype;q.className="Pair";q.f=function(b,c){var d=fb(c.a(),this);E(b,this.zb(d.G()).a())};q.pc=o("Wa");q.a=o("Wa");q.b=o("ib");q.Ka=function(){this.Wa!==l&&g(new Ga)};q.N=p(m);q.Qb=function(b){return this.Wa=b};
q.kc=function(b,c){return this.zb(hb(c,this).G()).Qb(b)};q.wc=function(b){return b===this.Wa};q.toString=function(){if(this.a()instanceof N&&this.a().name()in ib&&this.b()instanceof C&&1===this.b().size()){var b=this.a(),b=ib[b.name()],c=this.b();c instanceof C||g(new TypeError);return b+jb(c)}return"("+jb(this)+")"};function jb(b){for(var c=[];!b.N();)c.push(b.a()),b.b().N()||c.push(" "),b=b.b();b instanceof A||c.push(" . ",b);return c.join("")}q.Dc=ba("ib");
function Ua(b){if(0===b.length)return D;if(b[0]===Sa)return 2===b.length?(b=b[1],b instanceof z||g(new TypeError),b):Ta(b);var c=b[0];c instanceof z||g(new TypeError);return new C(c,Ua(b.slice(1)))}function Ta(b){g(new u('Error: illegal use of "." in '+b))}function kb(b,c,d){if(d===b.length)return c;var f=b[d];f instanceof z||g(new TypeError);return new C(f,kb(b,c,d+1))}function lb(b,c){return b===l||0===b.length?c:kb(b,c,0)}function y(b){return lb(b,D)}q.type=function(){return mb};q.ha=function(){return this.size()};
q.size=function(){if(this instanceof A)return 0;for(var b=1,c=this.ib;!(c instanceof A);)c.N()&&g(new u("cannot take size: not a proper list: "+this)),b++,c=c.b();return b};q.na=function(){g(new u("Pair.compareTo:unimplemented"))};q.copyTo=function(b){b.push(this.a());if(this.b()instanceof A)return b;this.b()instanceof C||g(new u("Not a list: "+this));this.b().copyTo(b);return b};
q.ua=function(b){if(this===b)return j;var c=this instanceof A;b instanceof z||g(new TypeError);var d=b instanceof A;if(c!==d)return m;if(c&&d)return j;return b instanceof C?(c=b.Wa.ua(this.Wa),b=b.ib.ua(this.ib),c&&b):m};q.ya=function(){return this.a().ya()+this.b().ya()};q.zb=function(b){try{for(var c,d=this,f=b;0<f;)d.b()instanceof A&&g(new nb),d=d.b(),f--;c=d;c instanceof C||g(new TypeError);return c}catch(h){h instanceof nb||g(e),g(new u("Error: index "+b+" too large for list "+this))}};
q.wb=function(b){return this.b().wb(b-1)};q.cc=function(b){return 0>b||this.b().cc(b-1)};q.Na=function(){return"ref:"+this.type().toString()};function nb(){}nb.prototype=Error();q=C.prototype;q.ra=function(){var b=[];ob(b,this);return b};q.Ca=function(b){return z.prototype.Ca.call(this,b)||this instanceof A&&b instanceof A};function ob(b,c){if(!(c instanceof A)){b.push(c.a().ra());var d=c.b();d instanceof C||g(new TypeError);ob(b,d)}}function pb(b){var c=Array(~~b.size());qb(b,c,0);return c}
function qb(b,c,d){if(d<c.length)c[d]=b.Wa,b=b.ib,b instanceof C||g(new TypeError),b instanceof A||qb(b,c,d+1)}function rb(b,c){try{return b instanceof C||g(new TypeError),b}catch(d){d instanceof TypeError||g(d),g(new u("Wrong argument type: "+c+" expected a cons, got "+b))}}q.yb=n();q.add=function(b){if(b instanceof C){var c=[];this.copyTo(c);b.copyTo(c);return y(c)}g(new u("+ : expects cons, got "+b.type()+" "+b))};
q.j=function(b){b.sa(this);for(var c=this;!c.N();)c.a().j(b),c=c.b();c instanceof A||c.j(b);b.Fa(this)};function Fa(){}var mb=L("cons"),ib={quasiquote:"`",quote:"'",unquote:",","unquote-splicing":",@"};function A(b){this.Wa=this.ib=l;this.rb=b}var tb=new C(i,i);tb.T=tb.M=l;A.prototype=tb;q=A.prototype;q.className="Nil";q.m=function(b){b.push(new G(ub))};q.f=function(b,c){g(new u("Function dispatch on inappropriate object: "+this+" with args "+c))};q.yb=n();q.Da=p(j);q.ha=p(0);q.N=p(j);q.Ka=n();
q.toString=o("rb");q.pc=function(){return this};q.a=function(){return this};q.b=function(){return this};q.wc=p(m);q.Dc=function(){g(Error("can't set the cdr of "+this))};q.size=p(0);q.copyTo=aa();q.type=function(){return vb};q.ya=p("nil");q.ua=function(b){if(this===b)return j;b instanceof z||g(new TypeError);return b instanceof A};q.ra=p(m);q.Ca=function(b){return b instanceof A};q.Rc=aa();q.wb=function(b){return 0===b};q.cc=function(b){return 0>b};var vb=ab,ub=new A("nil"),wb=new A("()");
function xb(){N.call(this,this.$,this.Sc);yb!==i&&g(Error())}xb.prototype=new N("t","t");q=xb.prototype;q.className="Truth";q.Da=p(j);q.m=function(b){b.push(new G(yb))};q.toString=p("t");q.na=function(){g(new u("Truth.compareTo:unimplemented"))};q.type=function(){return ab};function zb(b){return b?yb:D}q.ya=p("t");q.ua=function(b){return this===b};q.ra=p(j);q.da=function(){g(new u("error: can't rebind t!"))};q.value=function(){return this};var yb=new xb;function O(){this.e=l}O.prototype=new z;q=O.prototype;
q.Ib=m;q.ac=m;q.la=m;q.za=m;q.className="Instruction";q.type=function(){return L("instruction")};q.Za=function(){return this.toString()};q.toString=function(){return"("+this.className+")"};q.d=i;q.k=ba("e");q.j=function(b){b.Sb(this)};function Ia(b,c,d){this.e=l;this.ed=b;this.Db=c;this.k(d)}Ia.prototype=new O;Ia.prototype.ac=j;Ia.prototype.className="ArcObject.ConvertError";Ia.prototype.rc=function(b){return b instanceof Error};
Ia.prototype.d=function(b){var c=b.error();if(c!==l)b.Pa=l,b.L=this.Db,g(new u("error invoking "+this.e+" with args "+this.ed+": "+c,c))};var Da=L("call*"),D=ub,Ra=wb,Wa=yb;function Ab(){}Ab.prototype=new z;Ab.prototype.className="LiteralObject";Ab.prototype.Da=p(j);Ab.prototype.m=function(b){b.push(new G(this))};Ab.prototype.Na=function(){return"ref:"+this.type().toString()};function P(b){this.i=b;Bb[b]=this}P.prototype=new Ab;q=P.prototype;q.className="ArcCharacter";
function Na(b){return Bb[b]===i?new P(b):Bb[b]}q.Da=p(j);q.toString=function(){return"#\\"+String.fromCharCode(this.i)};q.na=function(b){b instanceof P||g(new TypeError);return this.i-other.i};q.type=function(){return Cb};q.ra=function(){return this.value()};q.value=o("i");q.Xa=function(){return String.fromCharCode(this.i)};q.ya=function(){return this.Xa()};q.ua=function(b){return this===b||b instanceof P&&b.i===this.i};
function Db(b,c){try{return b instanceof P||g(new TypeError),b}catch(d){d instanceof TypeError||g(d),g(new u("Wrong argument type: "+c+" expected a character, got "+b))}}var Cb=L("char"),Bb=Array(65536);function Eb(){P.call(this,0)}Eb.prototype=new P(0);Eb.prototype.className="ArcCharacter.Anon_NULL_";Eb.prototype.toString=p("#\\null");var Fb=new Eb;function Gb(){P.call(this,10)}Gb.prototype=new P(10);Gb.prototype.className="ArcCharacter.Anon_named_1_";Gb.prototype.toString=p("#\\newline");
function Hb(){P.call(this,9)}Hb.prototype=new P(9);Hb.prototype.className="ArcCharacter.Anon_named_2_";Hb.prototype.toString=p("#\\tab");function Ib(){P.call(this,13)}Ib.prototype=new P(13);Ib.prototype.className="ArcCharacter.Anon_named_3_";Ib.prototype.toString=p("#\\return");function Jb(){P.call(this,32)}Jb.prototype=new P(32);Jb.prototype.className="ArcCharacter.Anon_named_4_";Jb.prototype.toString=p("#\\space");new Gb;new Hb;new Ib;new Jb;function Ma(b){this.i=b}Ma.prototype=new Ab;q=Ma.prototype;
q.className="ArcString";q.f=function(b,c){Kb(c,this.className,1);var d=hb(c.a(),this);d.ja()||g(new u("string-ref: expects exact integer: got "+d));d=~~d.G();0<=d||d<this.value.length()||g(new u("string-ref: index "+d+" out of range [0, "+(this.i.length-1)+"] for string "+this.toString()));E(b,Na(this.i.charCodeAt(d)))};q.value=o("i");q.Xa=o("i");
q.toString=function(){var b=this.i,c=[];c.push('"');for(var d=0;d<b.length;d++)switch(b.charAt(d)){case '"':c.push('\\"');break;case "\\":c.push("\\\\");break;case "\n":c.push("\\n");break;case "\r":c.push("\\r");break;default:c.push(b.charAt(d))}c.push('"');return c.join("")};q.na=function(b){b instanceof Ma||g(new TypeError);return this.i.localeCompare(b.i)};q.ha=function(){return this.i.length};q.Qb=function(b){var c=[Db(b,this).Xa()];c.push(this.value().substring(1));this.da(c.join(""));return b};
q.kc=function(b,c){var d=Db(b,P),f=hb(c,this),f=f.G();0<=f&&f<this.i.length||g(new RangeError);this.i=this.i.substring(0,f-1)+String.fromCharCode(d.value())+this.i.substring(f+1);return b};q.type=function(){return Lb};q.ra=function(){return this.value()};function H(b){return new Ma(b)}q.da=ba("i");q.ya=o("i");q.ua=function(b){return this===b||b instanceof Ma&&b.i===this.i};q.Ca=function(b){return this.ua(b)};
q.add=function(b){var c=[this.i];if(!(b instanceof Ma)){var d=b.type();d instanceof N||g(new TypeError);d=Mb.vb[d]||l;d instanceof Nb||g(new TypeError);b=d.Eb(b);b instanceof Ma||g(new TypeError)}c.push(b.value());return H(c.join(""))};function Ob(b,c){try{return b instanceof Ma||g(new TypeError),b}catch(d){d instanceof TypeError||g(d),g(new u("Wrong argument type: "+c+" expected a string, got "+b))}}var Lb=L("string");function Aa(b,c,d){this.pb=c;this.pa=b;this.jd=d}Aa.prototype=new Ab;
Aa.prototype.className="ArcException";Aa.prototype.type=function(){return Pb};Aa.prototype.message=function(){return this.pa!==l?H(this.pa.message):Qb};Aa.prototype.toString=function(){return this.message().toString()};var Pb=L("exn"),Qb=H("no message");function Q(){}Q.prototype=new Ab;q=Q.prototype;q.className="ArcNumber";q.ja=i;q.C=i;q.G=i;q.nb=i;q.round=i;q.ic=function(){g(new u("round[closest] not implemented for "+this.className+"("+this+")"))};q.Da=p(j);
q.na=function(b){b instanceof Q||g(new TypeError);b=b.C()-this.C();return 0>b?1:0===b?0:-1};q.type=function(){return this.ja()?Rb:Tb};q.Ca=function(b){return this.ua(b)};function fb(b,c){try{return b instanceof Q||g(new TypeError),b}catch(d){d instanceof TypeError||g(d),g(new u("Wrong argument type: "+c+" expected a number, got "+b))}}q.Oc=function(){g(new u("mod: not implemented for "+this.className+"("+this+")"))};var Rb=L("int"),Tb=L("num");function Ub(){this.i=l}Ub.prototype=new Ab;
Ub.prototype.className="ArcThreadLocal";Ub.prototype.set=ba("i");Ub.prototype.get=o("i");Ub.prototype.type=function(){return Vb};function Wb(b,c){try{return b instanceof Ub||g(new TypeError),b}catch(d){d instanceof TypeError||g(d),g(new u("Wrong argument type: "+c+" expected a thread-local, got "+b))}}var Vb=L("thread-local");function K(b,c){this.T=b;this.M=c}K.prototype=new Q;q=K.prototype;q.className="Complex";
function Xb(){var b;if("+i"===soFar)return new K(0,1);if("-i"===soFar)return new K(0,-1);if(b=/^([-+]?[01-9]*\.?[01-9]+(?:e-?[01-9]+)?)([-+])([01-9]*\.?[01-9]+(?:e-?[01-9]+)?)?i$/.exec(soFar))return new K(Qa(parseFloat(b[1])).value(),Qa(parseFloat(b[2]+(b[3]||"1"))).value());g(new Ba)}q.ja=function(){return 0===this.M&&Math.floor(this.T)===real};q.C=function(){g(new u("Cannot convert complex to double"))};q.G=function(){g(new u("Cannot convert complex to int"))};
q.nb=function(){return new K(-this.T,-this.M)};q.toString=function(){return(new J(this.T)).toString()+(0>this.M?"":"+")+(new J(this.M)).toString()+"i"};function Yb(b,c){try{return b instanceof K||g(new TypeError),b}catch(d){d instanceof TypeError||g(d),g(new u("Wrong argument type: "+c+" expected a complex number, got "+b))}}q.round=function(){return new u("Can't convert "+this+" to integer")};function Zb(b){var c=argument.C();return new K(b.T*c,b.M*c)}
q.multiply=function(b){if(b instanceof K)return $b(this,b);b instanceof Q||g(new TypeError);b=b.C();return new K(this.T*b,this.M*b)};function $b(b,c){var d=b.T,f=c.T,h=b.M,k=c.M;return new K(d*f-h*k,d*k+f*h)}q.add=function(b){if(b instanceof K)return new K(this.T+b.T,this.M+b.M);if(b instanceof R||b instanceof J)return new K(this.T+b.C(),this.M);g(new u("+: expects a number, got "+b.type()+" "+b))};q.log=function(){return new K(Math.log(Math.sqrt(this.T*this.T+this.M*this.M)),Math.atan2(this.M,this.T))};
function ac(b,c){var d;if(c instanceof K)d=$b(b.log(),c).exp();else{d=b.log();var f=c.C();d=(new K(d.T*f,d.M*f)).exp()}return d}q.sqrt=function(){return ac(this,Qa(0.5))};q.exp=function(){var b=Math.exp(this.T);return new K(b*Math.cos(this.M),b*Math.sin(this.M))};q.na=function(){g(new u("Compare: complex numbers are unordered and cannot be compared"))};q.Ca=function(b){return b instanceof K?b.T===this.T&&b.M===this.M:b instanceof Q&&0===this.M&&b.C()===this.T};
function R(b,c){0===c&&0!==b&&g(new u("/: division by zero"));var d=bc(this,b,c);this.ca=b/d;this.U=c/d}R.prototype=new Q;q=R.prototype;q.className="Rational";function Pa(b){b=b.split("/");return new R(parseInt(b[0],10),parseInt(b[1],10))}function I(b){return new R(b,1)}q.toString=function(){return this.ca+(1===this.U?"":"/"+this.U)};q.ja=function(){return 1===this.U};q.C=function(){return this.ca/this.U};q.G=function(){if(0===this.ca)return 0;var b=this.ca/this.U;return 0>b?Math.ceil(b):Math.floor(b)};
function bc(b,c,d){return 0===d?c:bc(b,d,c%d)}q.Oc=function(b){(!this.ja()||!b.ja())&&g(new u("modulo: expects integer, got ("+this+" "+b+")"));var b=b.G(),c=this.ca%b;0>c&&(c+=b);return I(c)};function cc(b,c){return new R(b.ca*c.ca,b.U*c.U)}q.Nb=function(b){return new R(this.ca*b.U+b.ca*this.U,this.U*b.U)};q.nb=function(){return new R(-this.ca,this.U)};q.ra=function(){return this.ja()?this.G():this.C()};q.ya=function(){return this.ja()?this.G():this.C()};
q.ya=function(){return 37*this.ca+this.U+""};q.ua=function(b){return b instanceof R&&this.ca===b.ca&&this.U===b.sd};function hb(b,c){try{return b instanceof R||g(new TypeError),b}catch(d){d instanceof TypeError||g(d),g(new u("Wrong argument type: "+c+" expected a Rational, got "+b))}}q.round=function(){if(1===this.U)return this;if(2===this.U){var b=this.ca/this.U,b=0>b?Math.ceil(b):Math.floor(b);return I(b+(1===b%2?1:0))}return I(Math.round(this.ca/this.U))};
q.ic=function(){return 1===this.U?this:I(Math.round(this.ca/this.U))};q.stringify=function(b){var c=this.ca.toString(b.G());if(this.ja())return H(c);b=this.U.toString(b.G());return H(c+"/"+b)};q.sqrt=function(){var b=Math.sqrt(this.ca/this.U);return Math.floor(b)===b?I(b):Qa(b)};q.multiply=function(b){if(b instanceof K)return Zb(b);if(b instanceof J)return Qa(b.i*this.C());if(b instanceof R)return cc(this,b);g(new u("*: expects a number, got "+b.type()+" "+b))};
q.add=function(b){if(b instanceof K)return new K(b.T+this.C(),b.M);if(b instanceof J)return b.Nb(this);if(b instanceof R)return this.Nb(b);g(new u("+: expects a number, got "+b.type()+" "+b))};var dc=I(0),ec=I(1),fc=I(10);function J(b){this.i=b}J.prototype=new Q;q=J.prototype;q.className="Real";function Qa(b){return new J(b)}q.toString=function(){return this.i===-1/0?"-inf.0":this.i===1/0?"+inf.0":this.i!==this.i?"+nan.0":""+this.i};q.ra=function(){this.ja();return this.value()};q.type=function(){return Tb};
q.value=o("i");q.ja=function(){return Math.floor(this.i)===this.i};q.C=o("i");q.G=function(){return 0>this.i?Math.ceil(this.i):Math.floor(this.i)};q.nb=function(){return Qa(-this.i)};q.ya=function(){return""+this.i};q.ua=function(b){return b instanceof K?b.Ca(this):this===b||b instanceof J&&this.i===b.i};q.round=function(){var b=Math.round(this.i);return 0.5===Math.abs(this.i-b)&&1==b%2?b<this.i?I(b+1):I(b-1):I(b)};q.ic=function(){return I(Math.round(this.i))};q.Nb=function(b){return Qa(this.i+b.C())};
q.sqrt=function(){return Qa(Math.sqrt(this.i))};q.multiply=function(b){if(b instanceof K)return Zb(b);if(b instanceof Q)return Qa(this.i*b.C());g(new u("*: expects a number, got "+b.type()+" "+b))};q.add=function(b){if(b instanceof K)return new K(b.T+this.C(),b.M);if(b instanceof R||b instanceof J)return this.Nb(b);g(new u("+: expects a number, got "+b.type()+" "+b))};function gc(b,c){this.Bb=b;this.rb=c}gc.prototype=new Ab;q=gc.prototype;q.className="Tagged";
q.f=function(b,c){var d=Da.value();d instanceof Ea||g(new TypeError);return d.value(this.Bb).f(b,new C(this.rb,c))};q.na=p(0);q.type=o("Bb");function hc(b){return b instanceof gc&&"mac"===b.Bb.toString()?b.rb:l}q.toString=function(){return ic(this)};
function ic(b){var c=jc;if(!c.bound())return"#<tagged "+b.Bb+" "+b.rb+">";c=c.value();c instanceof Ea||g(new TypeError);c=c.value(b.Bb);if(c instanceof A)return"#<tagged "+b.Bb+" "+b.rb+">";b=new kc;c.f(b,y([rep]));var d;lc(b,function(b,c){b&&g(b);d=c},j)||g(new u("An asynchronous operation was attempted during a toString()."));return""+mc(d)}var jc=L("tagged-writers");function nc(b){this.zc=b}nc.prototype=new Ab;q=nc.prototype;q.className="JsObject";q.type=function(){return oc};q.ra=o("zc");
q.toString=function(){return""+this.zc};function pc(b){var c=[];qc(c,b);return c}function qc(b,c){b.push(mc(c.a()));if(!(c.b()instanceof A)){var d=c.b();d instanceof C||g(new TypeError);qc(b,d)}}function mc(b){return b.ra()}
function rc(b){if(b===l)return D;if(b instanceof z)return b;var c=Object.prototype.toString.call(b);if("[object Number]"===c)return b*=1,b===Math.floor(b)?I(b):Qa(b);if("[object String]"===c)b=H(""+b);else if("[object Array]"===c||"[object Arguments]"===c){for(var c=Array(~~b.length),d=0;d<b.length;d++)c[d]=rc(b[d]);b=y(c)}else b="[object Boolean]"===c?b?Wa:D:new nc(b);return b}q.close=function(){g(new u("close: unexpected object: "+this))};var oc=L("java-object");
function Ea(){this.$=D;this.dc={};this.lb=this.$b=l;this.ec=new sc;this.Nc=0}Ea.prototype=new Ab;q=Ea.prototype;q.className="Hash";q.nc=function(b){if(this.$===b)this.$=D,this.ec=new sc};q.Ub=function(b){this.$=b;this.ec=new tc(this)};q.Vb=o("$");q.f=function(b,c){E(b,this.value(c.a()).Rc(c.b().a()))};q.toString=function(){return"#hash"+uc(this)};function uc(b){for(var c=[],d=b.$b;d!==l;d=d.next){var f=d.key,f=new C(f,new C(b.value(f),D));c.push(f)}return lb(c,Ra)}q.ha=function(){return this.size()};
q.kc=function(b,c){if(b instanceof A){var d=this.value(c),f=this.dc[c.ya()];if(f)for(var h=0,k=f.length;h<k;h++){var r=f[h];if(c.ua(r.key)){f.splice(h,1);if(r.Pb)r.Pb.next=r.next;if(r.next)r.next.Pb=r.Pb;if(this.$b===r)this.$b=r.next;if(this.lb===r)this.lb=r.Pb;this.ha--;break}}this.ec.Fc(d,c)}else{d=c.ya();d=this.dc[d]||(this.dc[d]=[]);f=l;h=0;for(k=d.length;h<k;h++)if(r=d[h],c.ua(r.key)){f=r;break}f===l?(f=this.lb,this.lb={key:c,value:b,Pb:f,next:l},f===l?this.$b=this.lb:f.next=this.lb,d.push(this.lb),
this.Nc++):f.value=b;this.ec.name(b,c)}return b};q.value=function(b){var c=this.dc[b.ya()];if(!c)return D;for(var d=0,f=c.length;d<f;d++){var h=c[d];if(b.ua(h.key))return h.value}return D};q.na=p(0);q.type=function(){return wc};q.size=o("Nc");function xc(){}xc.prototype.name=i;xc.prototype.Fc=i;function tc(b){this.Vc=b}tc.prototype=new xc;tc.prototype.name=function(b,c){b.Ub(new C(c,this.Vc))};tc.prototype.Fc=function(b,c){b.nc(new C(c,this.Vc))};function sc(){}sc.prototype=new xc;
sc.prototype.name=n();sc.prototype.Fc=n();var wc=L("table");function kc(){this.Ec=yc++;this.aa=Array(100);this.L=-1;this.ma=[];this.ga=Array(100);this.D=Array(100);this.g=-1;this.Pa=this.Hb=this.q=l;this.kb=zc;this.Yb=m;this.Ba=0;this.Ta=l;this.Ic=0;this.pb=l}kc.prototype=new z;q=kc.prototype;q.className="VM";
function lc(b,c,d){var f=b.Ba;b.Ba=b.g;var h=Ac(b,function(){b.Ba=f;if(b.Pa===l)b.kb.end(b),c(l,S(b));else{var d=b.Pa;b.Pa=l;var h=d.jd,t="\nAt instruction "+d.pb;if(h!==l)for(var B=0,M=h.length;B<M;B++)t+="\n"+h[B].Na();c(new u("Unhandled exception on thread#"+b.Ec+": "+d.pa.message+t,d.pa))}},d);if(d&&!h)b.Ba=f;return h}
function Ac(b,c,d){function f(){for(;h.Ba<=h.g;)try{if(h.D[h.g]instanceof A)h.g--;else{h.q=h.ga[h.g];h.Hb=h.ma[h.g];var b=h.D[h.g].a();b instanceof O||g(new TypeError);h.pb=b;var t=h.D[h.g].b();t instanceof C||g(new TypeError);h.D[h.g]=t;if(h.pb.za){var B=j,B=h.pb.Ha(h,function(b){b?Bc(h,b):h.kb.cb(h);B||f()},d);if(!B){k=m;return}}else h.pb.d(h),h.kb.cb(h)}}catch(M){Bc(h,M)}c()}b.kb.cb(b);var h=b,k=j;f();return k}
function Bc(b,c){for(var d=[],f=[],h=[];b.Ba<=b.g;){var k=Cc(b).a();if(k.ac&&k.rc(c))break;k=Cc(b).a();k.Ib&&(f.push(Cc(b)),h.push(b.ga[b.g]));if(k instanceof O)k=Cc(b).a().e,k!==l&&d.push(k);b.g--}b.Pa=new Aa(c,b.pb,d);for(d=f.length-1;0<=d;d--)T(b,h[d],f[d])}q.error=o("Pa");
q.show=function(){ya("Thread Dump for thread#"+threadId);ya(""+(this.L+1)+" args");for(var b=5<this.L?this.L-5:0;b<this.L+1;b++)ya(""+b+". "+this.aa[b]);ya();b=this.g+1;if(this.D[this.g]instanceof A)b=this.g;ya(""+b+" instruction frames");for(var b=20<this.g?this.g-20:0,c=this.g;b<=c;c--)if(!(this.D[c]instanceof A)){var d=this.D[c],f=this.ga[c],h=this.ma[c];for(xa("\nInstruction Frame "+c+":");!(d instanceof A);){var k=d.a();k instanceof O||g(new TypeError);d=d.b();newInstructions instanceof C||g(new TypeError);
xa(k.Za(f));xa(" ")}xa("[");k=0;for(d=h.length;k<d;k++)xa(""+h[k]+" ");xa("]");la.Va("\n")}};function F(b,c){b.Ba<=b.g&&Cc(b)instanceof A||(b.g++,0<=b.g&&b.g<b.D.length||(Dc(b,2*b.D.length),Ec(b,2*b.ga.length),Fc(b,2*b.ma.length)));b.D[b.g]=new C(c,D)}function T(b,c,d){b.Ba<=b.g&&Cc(b)instanceof A||(b.g++,0<=b.g&&b.g<b.D.length||(Dc(b,2*b.D.length),Ec(b,2*b.ga.length),Fc(b,2*b.ma.length)));b.D[b.g]=d;b.ga[b.g]=c}
function U(b,c,d,f){b.Ba<=b.g&&Cc(b)instanceof A||(b.g++,0<=b.g&&b.g<b.D.length||(Dc(b,2*b.D.length),Ec(b,2*b.ga.length),Fc(b,2*b.ma.length)));b.D[b.g]=d;b.ga[b.g]=c;b.ma[b.g]=f}function Gc(b,c){b.Ba<=b.g&&Cc(b)instanceof A?b.D[b.g]=c:(b.g++,0<=b.g&&b.g<b.D.length||(Dc(b,2*b.D.length),Ec(b,2*b.ga.length),Fc(b,2*b.ma.length)),b.D[b.g]=c,b.ga[b.g]=b.q,b.ma[b.g]=b.Hb)}function Cc(b){return b.D[b.g]}
function E(b,c){b.L++;if(!(0<=b.L&&b.L<b.aa.length)){var d=Array(~~(2*b.aa.length));Hc(b.aa,d);b.aa=d}b.aa[b.L]=c}function Ic(b){return b.aa[b.L]}function S(b){return b.aa[b.L--]}function Jc(b,c){for(var d=Ra,f=0;f<c;f++)d=new C(b.aa[b.L-f],d);b.L-=c;return d}function Kc(b,c){b.kb=c;c.xb(b)}q.type=function(){return Lc};
q.copyTo=function(b){b.L=this.L;b.g=this.g;b.D.length<this.D.length?(b.D=this.D.slice(),b.ga=this.ga.slice(),b.ma=this.ma.slice()):(Hc(this.D,b.D),Hc(this.ga,b.ga),Hc(this.ma,b.ma));b.aa.length!==this.aa.length?b.aa=this.aa.slice():Hc(this.aa,b.aa);b.q=this.q;b.Pa=this.Pa;b.kb=this.kb;b.Yb=this.Yb;b.Ba=this.Ba};q.toString=function(){return"[thread#"+this.Ec+": instruction stack "+this.g+"; arg stack "+this.L+"]"};function Ec(b,c){var d=Array(~~c);Hc(b.ga,d);b.ga=d}
function Dc(b,c){var d=Array(~~c);Hc(b.D,d);b.D=d}function Fc(b,c){var d=Array(~~c);Hc(b.ma,d);b.ma=d}function Hc(b,c){for(var d=0,f=b.length;d<f;d++)c[d]=b[d]}function Mc(b){if(!(b.Ba<=b.g))return l;return b.D[b.g]instanceof A?(b.g--,Mc(b)):b.D[b.g].a()}var Lc=L("thread"),yc=0;function Nc(){this.Ja=[];this.Mc=D}Nc.prototype=new z;q=Nc.prototype;q.className="ListBuilder";q.append=function(b){this.Ja.push(b)};q.Lc=ba("Mc");q.list=function(){return lb(this.Ja,this.Mc)};q.type=function(){return L("list-builder")};
q.toString=function(){return"ListBuilder:"+this.list().toString()};function Oc(){this.e=l}Oc.prototype=new O;Oc.prototype.className="Append";Oc.prototype.d=function(b){var c=S(b),b=Ic(b);b instanceof Nc||g(new TypeError);b.append(c)};Oc.prototype.toString=p("(append)");function Pc(){this.e=l}Pc.prototype=new O;Pc.prototype.className="AppendAll";Pc.prototype.d=function(b){var c=S(b),b=Ic(b);b instanceof Nc||g(new TypeError);c instanceof C||g(new TypeError);c.copyTo(b.Ja)};Pc.prototype.toString=p("(append-all)");
function Qc(){this.e=l}Qc.prototype=new O;Qc.prototype.className="AppendDot";Qc.prototype.d=function(b){var c=S(b),b=Ic(b);b instanceof Nc||g(new TypeError);b.Lc(c)};Qc.prototype.toString=p("(append-dot)");function Rc(b,c){this.e=l;this.Qc=b;this.Db=c}Rc.prototype=new O;q=Rc.prototype;q.ac=j;q.className="Catch";q.rc=p(j);q.d=function(b){var c=b.error();if(c!==l)b.Pa=l,b.L=this.Db,this.Qc.f(b,y([c]))};q.toString=function(){return"(catch "+this.Qc+")"};function Sc(b){this.e=l;this.Kc=b}
Sc.prototype=new O;Sc.prototype.className="Close_Instruction";Sc.prototype.d=function(b){E(b,new Tc(this.Kc,b.q))};Sc.prototype.toString=function(){return"(close "+this.Kc+")"};function Uc(b){this.e=l;this.Gc=b}Uc.prototype=new O;Uc.prototype.Ib=j;Uc.prototype.className="FinallyInvoke";Uc.prototype.d=function(b){this.Gc.f(b,D)};Uc.prototype.toString=function(){return"(finally:"+this.Gc+")"};function Vc(){this.e=l}Vc.prototype=new O;Vc.prototype.className="FinishList";
Vc.prototype.d=function(b){var c=S(b);c instanceof Nc||g(new TypeError);E(b,c.list())};Vc.prototype.toString=p("(finish-list)");function Va(b){this.e=l;this.Ua=b}Va.prototype=new O;Va.prototype.className="FreeSym";Va.prototype.d=function(b){E(b,this.Ua.value())};Va.prototype.toString=function(){return"(free-sym "+this.Ua+")"};Va.prototype.Za=function(){return"(free-sym "+this.Ua+" -> "+(sym.bound()?""+sym.value():"#unbound#")+")"};function Wc(b){this.e=l;this.Ua=b}Wc.prototype=new O;
Wc.prototype.className="LexSym";Wc.prototype.d=function(b){E(b,this.Ua.t(b.q))};Wc.prototype.toString=function(){return"(lex-sym "+this.Ua+")"};Wc.prototype.Za=function(b){return"(lex-sym "+this.Ua+" -> "+this.Ua.t(b)+")"};function Xc(b){this.e=l;this.Uc=b}Xc.prototype=new O;Xc.prototype.className="Listify";Xc.prototype.d=function(b){E(b,Jc(b,this.Uc))};Xc.prototype.toString=function(){return"(listify "+this.Uc+")"};function G(b){this.e=l;this.Hc=b}G.prototype=new O;G.prototype.className="Literal";
G.prototype.d=function(b){E(b,this.Hc)};G.prototype.toString=function(){return"(literal "+this.Hc+")"};function Yc(){this.e=l}Yc.prototype=new O;Yc.prototype.className="NewList";Yc.prototype.d=function(b){E(b,new Nc)};Yc.prototype.toString=p("(new-list)");function Zc(b){this.e=l;this.$=b}Zc.prototype=new O;Zc.prototype.className="PopArg";Zc.prototype.d=function(b){S(b)};Zc.prototype.toString=function(){return"(pop-arg:"+this.$+")"};function $c(b,c){this.e=l;this.ld=b;this.i=c}$c.prototype=new O;
$c.prototype.Ib=j;$c.prototype.className="SetThreadLocal";$c.prototype.d=function(){this.ld.value=this.i};function ad(b,c){this.e=l;this.Ua=b;this.eb=c}ad.prototype=new O;ad.prototype.className="StackSym";ad.prototype.d=function(b){var c=this.eb;b.L++;if(!(0<=b.L&&b.L<b.aa.length)){var d=Array(~~(2*b.aa.length));Hc(b.aa,d);b.aa=d}b.aa[b.L]=b.Hb[c]};ad.prototype.toString=function(){return"(stack-bound symbol:"+this.Ua+")"};function bd(b){this.e=l;this.Jc=b}bd.prototype=new O;
bd.prototype.className="TableMapper";bd.prototype.d=function(b){var c=S(b);c instanceof C||g(new TypeError);if(!(c instanceof A)){E(b,c.b());F(b,this);c=c.a();c instanceof C||g(new TypeError);var d=new Zc("map-table-iterator");d.k(this);F(b,d);this.Jc.f(b,c)}};bd.prototype.toString=function(){return"(table-mapper "+this.Jc+")"};function cd(b){this.e=l;this.name=b}cd.prototype=new O;cd.prototype.className="Assign_Lex";function dd(b,c){cd.call(this,b);this.value=c}dd.prototype=new cd;
dd.prototype.className="Assign_Lex_Free";dd.prototype.d=function(b){var c=this.value.value();ed(this.name,b.q,c);E(b,c)};dd.prototype.toString=function(){return"(assign-lex "+this.name+" "+this.value+")"};function fd(b,c){dd.call(this,b,c)}fd.prototype=new dd;fd.prototype.className="Assign_Lex_Free.Intermediate";fd.prototype.d=function(b){ed(this.name,b.q,this.value.value())};function gd(b,c){cd.call(this,b);this.value=c}gd.prototype=new cd;gd.prototype.className="Assign_Lex_Lex";
gd.prototype.d=function(b){var c=this.value.t(b.q);ed(this.name,b.q,c);E(b,c)};gd.prototype.toString=function(){return"(assign-lex "+this.name+" "+this.value+")"};gd.prototype.Za=function(b){return"(assign-lex "+this.name+"--\>"+this.name.t(b)+this.value+"--\>"+this.value.t(b)+")"};function hd(b,c){gd.call(this,b,c)}hd.prototype=new gd;hd.prototype.className="Assign_Lex_Lex.Intermediate";hd.prototype.d=function(b){ed(this.name,b.q,this.value.t(b.q))};function id(b,c){cd.call(this,b);this.Ya=c}
id.prototype=new cd;id.prototype.className="Assign_Lex_Literal";id.prototype.d=function(b){ed(this.name,b.q,this.Ya);E(b,this.Ya)};id.prototype.toString=function(){return"(assign-lex "+this.name+" "+this.Ya+")"};function jd(b,c){id.call(this,b,c)}jd.prototype=new id;jd.prototype.className="Assign_Lex_Literal.Intermediate";jd.prototype.d=function(b){ed(this.name,b.q,this.Ya)};function kd(b){cd.call(this,b)}kd.prototype=new cd;kd.prototype.className="Assign_Lex_Other";
kd.prototype.d=function(b){ed(this.name,b.q,Ic(b))};kd.prototype.toString=function(){return"(assign-lex "+this.name+")"};kd.prototype.Za=function(b){return"(assign-lex "+this.name+" -> "+this.name.t(b)+")"};function ld(b){cd.call(this,b)}ld.prototype=new kd;ld.prototype.className="Assign_Lex_Other.Intermediate";ld.prototype.d=function(b){ed(this.name,b.q,S(b))};function md(b,c){cd.call(this,b);this.value=c}md.prototype=new cd;md.prototype.className="Assign_Lex_Stack";
md.prototype.d=function(b){var c=this.value.get(b);ed(this.name,b.q,c);E(b,c)};md.prototype.toString=function(){return"(assign-lex "+this.name+" "+this.value+")"};md.prototype.Za=function(b){return"(assign-lex "+this.name+"--\>"+this.name.t(b)+" <-- "+this.value+")"};function nd(b,c){md.call(this,b,c)}nd.prototype=new md;nd.prototype.className="Assign_Lex_Stack.Intermediate";nd.prototype.d=function(b){ed(this.name,b.q,this.value.get(b))};function od(b){this.e=l;this.name=b}od.prototype=new O;
od.prototype.className="Assign_Free";function pd(b,c){od.call(this,b);this.value=c}pd.prototype=new od;pd.prototype.className="Assign_Free_Free";pd.prototype.d=function(b){var c=this.value.value();this.name.da(c);E(b,c)};pd.prototype.toString=function(){return"(assign-free-free "+this.name+" "+this.value+")"};function qd(b,c){pd.call(this,b,c)}qd.prototype=new pd;qd.prototype.className="Assign_Free_Free.Intermediate";qd.prototype.d=function(){this.name.da(this.value.value())};
function rd(b,c){od.call(this,b);this.value=c}rd.prototype=new od;rd.prototype.className="Assign_Free_Lex";rd.prototype.d=function(b){var c=this.value.t(b.q);this.name.da(c);E(b,c)};rd.prototype.toString=function(){return"(assign-free-lex "+this.name+" "+this.value+")"};function sd(b,c){rd.call(this,b,c)}sd.prototype=new rd;sd.prototype.className="Assign_Free_Lex.Intermediate";sd.prototype.d=function(b){this.name.da(this.value.t(b.q))};function td(b,c){od.call(this,b);this.Ya=c}td.prototype=new od;
td.prototype.className="Assign_Free_Literal";td.prototype.d=function(b){this.name.da(this.Ya);E(b,this.Ya)};td.prototype.toString=function(){return"(assign-free-literal "+this.name+" "+this.Ya+")"};function ud(b,c){td.call(this,b,c)}ud.prototype=new td;ud.prototype.className="Assign_Free_Literal.Intermediate";ud.prototype.d=function(){this.name.da(this.Ya)};function vd(b){od.call(this,b)}vd.prototype=new od;vd.prototype.className="Assign_Free_Other";vd.prototype.d=function(b){this.name.da(Ic(b))};
vd.prototype.toString=function(){return"(assign-free-other "+this.name+")"};vd.prototype.Za=function(){return"(assign-free-other "+this.name+" -> "+(name.bound()?""+name.value():"#unbound#")+")"};function wd(b){od.call(this,b)}wd.prototype=new vd;wd.prototype.className="Assign_Free_Other.Intermediate";wd.prototype.d=function(b){this.name.da(S(b))};function xd(b,c){od.call(this,b);this.value=c}xd.prototype=new od;xd.prototype.className="Assign_Free_Stack";
xd.prototype.d=function(b){v=this.value.get(b);this.name.da(v);E(b,v)};xd.prototype.toString=function(){return"(assign-free-stack "+this.name+" "+this.value+")"};function yd(b,c){xd.call(this,b,c)}yd.prototype=new xd;yd.prototype.className="Assign_Free_Stack.Intermediate";yd.prototype.d=function(b){this.name.da(this.value.get(b))};function zd(b){this.e=l;this.name=b}zd.prototype=new O;zd.prototype.className="Assign_Stack";function Ad(b,c){zd.call(this,b);this.value=c}Ad.prototype=new zd;
Ad.prototype.className="Assign_Stack_Free";Ad.prototype.d=function(b){var c=this.value.value();this.name.set(b,c);E(b,c)};Ad.prototype.toString=function(){return"(assign-free "+this.name+" "+this.value+")"};function Bd(b,c){Ad.call(this,b,c)}Bd.prototype=new Ad;Bd.prototype.className="Assign_Stack_Free.Intermediate";Bd.prototype.d=function(b){this.name.set(b,this.value.value())};function Cd(b,c){zd.call(this,b);this.value=c}Cd.prototype=new zd;Cd.prototype.className="Assign_Stack_Lex";
Cd.prototype.d=function(b){var c=this.value.t(b.q);this.name.set(b,c);E(b,c)};Cd.prototype.toString=function(){return"(assign-free "+this.name+" "+this.value+")"};function Dd(b,c){Cd.call(this,b,c)}Dd.prototype=new Cd;Dd.prototype.className="Assign_Stack_Lex.Intermediate";Dd.prototype.d=function(b){this.name.set(b,this.value.t(b.q))};function Ed(b,c){zd.call(this,b);this.value=c}Ed.prototype=new zd;Ed.prototype.className="Assign_Stack_Literal";
Ed.prototype.d=function(b){this.name.set(b,this.value);E(b,this.value)};Ed.prototype.toString=function(){return"(assign-free "+this.name+" "+this.value+")"};function Fd(b,c){Ed.call(this,b,c)}Fd.prototype=new Ed;Fd.prototype.className="Assign_Stack_Literal.Intermediate";Fd.prototype.d=function(b){this.name.set(b,this.value)};function Gd(b){zd.call(this,b)}Gd.prototype=new zd;Gd.prototype.className="Assign_Stack_Other";Gd.prototype.d=function(b){this.name.set(b,Ic(b))};
Gd.prototype.toString=function(){return"(assign-stack "+this.name+")"};function Hd(b){zd.call(this,b)}Hd.prototype=new Gd;Hd.prototype.className="Assign_Stack_Other.Intermediate";Hd.prototype.d=function(b){this.name.set(b,S(b))};function Id(b,c){zd.call(this,b);this.value=c}Id.prototype=new zd;Id.prototype.className="Assign_Stack_Stack";Id.prototype.d=function(b){var c=this.value.get(b);this.name.set(b,c);E(b,c)};Id.prototype.toString=function(){return"(assign-free "+this.name+" "+this.value+")"};
function Jd(b,c){Id.call(this,b,c)}Jd.prototype=new Id;Jd.prototype.className="Assign_Stack_Stack.Intermediate";Jd.prototype.d=function(b){this.name.set(b,this.value.get(b))};function Kd(b,c){this.e=l;this.F=b;this.Oa=Ld(b);this.z=c;this.ka=Ld(c)}Kd.prototype=new O;Kd.prototype.className="Cond";function Ld(b){var c=[];b.m(c);return y(c)}Kd.prototype.d=function(b){Gc(b,S(b)instanceof A?this.ka:this.Oa)};Kd.prototype.j=function(b){O.prototype.j.call(this,b);this.Oa.j(b);this.ka.j(b)};
Kd.prototype.toString=function(){return"(cond then:"+this.F+", else:"+this.z+")"};function Md(b,c,d){this.e=l;this.ba=b;this.F=c;this.z=d}w["rainbow.vm.instructions.cond.optimise.If_bound_bound_literal"]=Md;Md.prototype=new O;Md.prototype.className="If_bound_bound_literal";Md.prototype.d=function(b){this.ba.t(b.q)instanceof A?E(b,this.z):E(b,this.F.t(b.q))};
Md.addInstructions=function(b,c,d,f){c instanceof V||g(new TypeError);d instanceof V||g(new TypeError);f instanceof Nd||g(new TypeError);Od(c,d)?f.l instanceof A?c.m(b):b.push(new Pd(c,f.l)):b.push(new Md(c,d,f.l))};Md.prototype.toString=function(){return"(if "+this.ba+" "+this.F+" "+this.z+")"};function Pd(b,c){this.e=l;this.Cb=b;this.z=c}Pd.prototype=new O;Pd.prototype.className="If_bound_bound_literal.Or";Pd.prototype.d=function(b){var c=this.Cb.t(b.q);c instanceof A?E(b,this.z):E(b,c)};
Pd.prototype.toString=function(){return"(if[bbl$or] "+a+" "+a+" "+elseExpr+")"};function Qd(b,c,d){this.e=l;this.ba=b;this.F=c;this.ka=Ld(d);this.z=d}w["rainbow.vm.instructions.cond.optimise.If_bound_bound_other"]=Qd;Qd.prototype=new O;Qd.prototype.className="If_bound_bound_other";Qd.prototype.d=function(b){this.ba.t(b.q)instanceof A?Gc(b,this.ka):E(b,this.F.t(b.q))};
Qd.addInstructions=function(b,c,d,f){c instanceof V||g(new TypeError);d instanceof V||g(new TypeError);Od(c,d)?b.push(new Rd(c,f)):b.push(new Qd(c,d,f))};Qd.prototype.j=function(b){O.prototype.j.call(this,b);this.ka.j(b)};Qd.prototype.toString=function(){return"(if "+this.ba+" "+this.F+" "+this.z+")"};function Rd(b,c){this.e=l;this.Cb=b;this.ka=Ld(c);this.z=c}Rd.prototype=new O;Rd.prototype.className="If_bound_bound_other.Or";
Rd.prototype.d=function(b){var c=this.Cb.t(b.q);c instanceof A?Gc(b,this.ka):E(b,c)};Rd.prototype.j=function(b){O.prototype.j.call(this,b);this.ka.j(b)};Rd.prototype.toString=function(){return"(if "+a+" "+a+" "+elseExpr+")"};function Sd(b,c,d){this.e=l;this.ba=b;this.F=c;this.z=d}w["rainbow.vm.instructions.cond.optimise.If_bound_literal_literal"]=Sd;Sd.prototype=new O;Sd.prototype.className="If_bound_literal_literal";Sd.prototype.d=function(b){this.ba.t(b.q)instanceof A?E(b,this.z):E(b,this.F)};
Sd.prototype.toString=function(){return"(if "+this.ba+" "+this.F+" "+this.z+")"};Sd.addInstructions=function(b,c,d,f){f instanceof Nd||g(new TypeError);c instanceof V||g(new TypeError);b.push(new Sd(c,d,f.l))};function Td(b,c,d){this.e=l;this.ba=b;this.F=c;this.Oa=Ld(c);this.z=d}w["rainbow.vm.instructions.cond.optimise.If_bound_other_literal"]=Td;Td.prototype=new O;Td.prototype.className="If_bound_other_literal";Td.prototype.d=function(b){this.ba.t(b.q)instanceof A?E(b,this.z):Gc(b,this.Oa)};
Td.prototype.toString=function(){return"(if "+this.ba+" "+this.F+" "+this.z+")"};Td.prototype.j=function(b){O.prototype.j.call(this,b);this.Oa.j(b)};Td.addInstructions=function(b,c,d,f){c instanceof V||g(new TypeError);f instanceof Nd||g(new TypeError);b.push(new Td(c,d,f.l))};function Ud(b,c,d){this.e=l;this.ba=b;this.F=c;this.Oa=Ld(c);this.z=d;this.ka=Ld(d)}w["rainbow.vm.instructions.cond.optimise.If_bound_other_other"]=Ud;Ud.prototype=new O;Ud.prototype.className="If_bound_other_other";
Ud.prototype.d=function(b){this.ba.t(b.q)instanceof A?Gc(b,this.ka):Gc(b,this.Oa)};Ud.prototype.toString=function(){return"(if "+this.ba+" "+this.F+" "+this.z+")"};Ud.prototype.j=function(b){O.prototype.j.call(this,b);this.Oa.j(b)};Ud.addInstructions=function(b,c,d,f){c instanceof V||g(new TypeError);b.push(new Ud(c,d,f))};function Vd(b,c){this.e=l;this.ka=Ld(c);this.F=b;this.z=c}w["rainbow.vm.instructions.cond.optimise.If_other_bound_other"]=Vd;Vd.prototype=new O;Vd.prototype.className="If_other_bound_other";
Vd.prototype.d=function(b){S(b)instanceof A?Gc(b,this.ka):E(b,this.F.t(b.q))};Vd.prototype.toString=function(){return"(if ? "+this.F+" "+this.z+")"};Vd.prototype.j=function(b){O.prototype.j.call(this,b);this.ka.j(b)};Vd.addInstructions=function(b,c,d,f){c.m(b);d instanceof V||g(new TypeError);b.push(new Vd(d,f))};function Wd(b,c){this.e=l;this.Oa=Ld(b);this.F=b;this.z=c}w["rainbow.vm.instructions.cond.optimise.If_other_other_literal"]=Wd;Wd.prototype=new O;Wd.prototype.className="If_other_other_literal";
Wd.prototype.d=function(b){S(b)instanceof A?E(b,this.z):Gc(b,this.Oa)};Wd.prototype.toString=function(){return"(if ? "+this.F+" "+this.z+")"};Wd.prototype.j=function(b){O.prototype.j.call(this,b);this.Oa.j(b)};Wd.addInstructions=function(b,c,d,f){f instanceof Nd||g(new TypeError);c.m(b);b.push(new Wd(d,f.l))};function Xd(b,c){this.e=l;this.F=b;this.z=c}w["rainbow.vm.instructions.cond.optimise.If_other_stack_literal"]=Xd;Xd.prototype=new O;Xd.prototype.className="If_other_stack_literal";
Xd.prototype.d=function(b){S(b)instanceof A?E(b,this.z):E(b,this.F.get(b))};Xd.prototype.toString=function(){return"(if ? "+this.F+" "+this.z+")"};Xd.addInstructions=function(b,c,d,f){f instanceof Nd||g(new TypeError);c.m(b);d instanceof X||g(new TypeError);b.push(new Xd(d,f.l))};function Yd(b,c){this.e=l;this.F=b;this.ka=Ld(c);this.z=c}w["rainbow.vm.instructions.cond.optimise.If_other_stack_other"]=Yd;Yd.prototype=new O;Yd.prototype.className="If_other_stack_other";
Yd.prototype.d=function(b){S(b)instanceof A?Gc(b,this.ka):E(b,this.F.get(b))};Yd.prototype.toString=function(){return"(if ? "+this.F+" "+this.z+")"};Yd.prototype.j=function(b){O.prototype.j.call(this,b);this.ka.j(b)};Yd.addInstructions=function(b,c,d,f){c.m(b);d instanceof X||g(new TypeError);b.push(new Yd(d,f))};function Zd(b,c,d){this.ba=b;this.F=c;this.z=d}w["rainbow.vm.instructions.cond.optimise.If_stack_literal_free"]=Zd;Zd.prototype=new O;Zd.prototype.className="If_stack_literal_free";
Zd.prototype.d=function(b){this.ba.get(b)instanceof A?E(b,this.z.value()):E(b,this.F)};Zd.prototype.toString=function(){return"(if "+this.ba+" "+this.F+" "+this.z+")"};Zd.addInstructions=function(b,c,d,f){c instanceof X||g(new TypeError);f instanceof Nd||g(new TypeError);f=f.l;f instanceof N||g(new TypeError);b.push(new Zd(c,d,f))};function $d(b,c,d){this.e=l;this.ba=b;this.F=c;this.z=d}w["rainbow.vm.instructions.cond.optimise.If_stack_stack_literal"]=$d;$d.prototype=new O;
$d.prototype.className="If_stack_stack_literal";$d.prototype.d=function(b){this.ba.get(b)instanceof A?E(b,this.z):E(b,this.F.get(b))};$d.prototype.toString=function(){return"(if "+this.ba+" "+this.F+" "+this.z+")"};$d.addInstructions=function(b,c,d,f){c instanceof X||g(new TypeError);d instanceof X||g(new TypeError);f instanceof Nd||g(new TypeError);ae(c,d)?f.l instanceof A?c.m(b):b.push(new be(c,f.l)):b.push(new $d(c,d,f.l))};function be(b,c){this.e=l;this.Cb=b;this.z=c}be.prototype=new O;
be.prototype.className="If_stack_stack_literal.Or";be.prototype.d=function(b){var c=this.Cb.get(b);c instanceof A?E(b,this.z):E(b,c)};be.prototype.toString=function(){return"(if[ssl$or] "+a+" "+a+" "+elseExpr+")"};function ce(b){this.e=l;this.p=b}ce.prototype=new O;q=ce.prototype;q.la=j;q.className="Invoke_0.Lex";q.d=function(b){this.p.t(b.q).f(b,D)};q.toString=function(){return"(invoke "+this.p+")"};q.oa=function(b){return this.p.t(b.q)};function de(b){this.e=l;this.p=b}de.prototype=new O;q=de.prototype;
q.la=j;q.className="Invoke_0.Free";q.d=function(b){this.p.value().f(b,D)};q.toString=function(){return"(invoke "+this.p+")"};q.oa=function(){return this.p.value()};function ee(){this.e=l}ee.prototype=new O;q=ee.prototype;q.la=j;q.className="Invoke_0.Other";q.d=function(b){S(b).f(b,D)};q.toString=p("(invoke <0>)");q.oa=function(b){return Ic(b)};function fe(b){this.e=l;this.p=b}fe.prototype=new O;q=fe.prototype;q.la=j;q.className="Invoke_1.Lex";q.d=function(b){this.p.t(b.q).f(b,new C(S(b),D))};
q.toString=function(){return"(invoke "+this.p+" <1>)"};q.oa=function(b){return this.p.t(b.q)};function ge(b){this.e=l;this.p=b}ge.prototype=new O;q=ge.prototype;q.la=j;q.className="Invoke_1.Free";q.d=function(b){this.p.value().f(b,new C(S(b),D))};q.toString=function(){return"(invoke "+this.p+" <1>)"};q.oa=function(){return this.p.value()};function he(){this.e=l}he.prototype=new O;q=he.prototype;q.la=j;q.className="Invoke_1.Other";q.d=function(b){S(b).f(b,new C(S(b),D))};q.toString=p("(invoke <1>)");
q.oa=function(b){return Ic(b)};function ie(b){this.e=l;this.p=b}ie.prototype=new O;q=ie.prototype;q.la=j;q.className="Invoke_2.Lex";q.d=function(b){var c=S(b),d=S(b);this.p.t(b.q).f(b,new C(d,new C(c,D)))};q.toString=function(){return"(invoke "+this.p+" <2>)"};q.Za=function(b){return"(invoke "+this.p+" -> "+this.p.t(b)+" <2>)"};q.oa=function(b){return this.p.t(b.q)};function je(b){this.e=l;this.p=b}je.prototype=new O;q=je.prototype;q.la=j;q.className="Invoke_2.Free";
q.d=function(b){var c=S(b),d=S(b);this.p.value().f(b,new C(d,new C(c,D)))};q.toString=function(){return"(invoke_2:free "+this.p+" <2>)"};q.Za=function(){return"(invoke_2:free "+this.p+" -> "+this.p.value()+" <2>)"};q.oa=function(){return this.p.value()};function ke(){this.e=l}ke.prototype=new O;q=ke.prototype;q.la=j;q.className="Invoke_2.Other";q.d=function(b){var c=S(b),d=S(b),f=S(b);try{c.f(b,new C(f,new C(d,D)))}catch(h){h instanceof Error||g(h),za(h)}};q.toString=p("(invoke <2>)");q.oa=function(b){return Ic(b)};
function le(b){this.e=l;this.p=b}le.prototype=new O;q=le.prototype;q.la=j;q.className="Invoke_3.Lex";q.d=function(b){var c=S(b),d=S(b),f=S(b);this.p.t(b.q).f(b,new C(f,new C(d,new C(c,D))))};q.toString=function(){return"(invoke "+this.p+" <3>)"};q.oa=function(b){return this.p.t(b.q)};function me(b){this.e=l;this.p=b}me.prototype=new O;q=me.prototype;q.la=j;q.className="Invoke_3.Free";q.d=function(b){var c=S(b),d=S(b),f=S(b);this.p.value().f(b,new C(f,new C(d,new C(c,D))))};
q.toString=function(){return"(invoke_3:free "+this.p+" <3>)"};q.oa=function(){return this.p.value()};function ne(){this.e=l}ne.prototype=new O;q=ne.prototype;q.la=j;q.className="Invoke_3.Other";q.d=function(b){var c=S(b),d=S(b),f=S(b),h=S(b);c.f(b,new C(h,new C(f,new C(d,D))))};q.toString=p("(invoke <3>)");q.oa=function(b){return Ic(b)};function oe(b,c){this.e=l;this.p=b;this.$a=c}oe.prototype=new O;q=oe.prototype;q.la=j;q.className="Invoke_N.Lex";q.d=function(b){this.p.t(b.q).f(b,Jc(b,this.$a))};
q.toString=function(){return"(invoke "+this.p+" <"+this.$a+">)"};q.oa=function(b){return this.p.t(b.q)};function pe(b,c){this.e=l;this.p=b;this.$a=c}pe.prototype=new O;q=pe.prototype;q.la=j;q.className="Invoke_N.Free";q.d=function(b){this.p.value().f(b,Jc(b,this.$a))};q.toString=function(){return"(invoke "+this.p+" <"+this.$a+">)"};q.oa=function(){return this.p.value()};function Ja(b){this.e=l;this.$a=b}Ja.prototype=new O;q=Ja.prototype;q.la=j;q.className="Invoke_N.Other";
q.d=function(b){S(b).f(b,Jc(b,this.$a))};q.toString=function(){return"(invoke <"+this.$a+">)"};q.oa=function(b){return Ic(b)};function X(b,c){this.name=b;this.eb=c}X.prototype=new z;q=X.prototype;q.className="StackSymbol";q.get=function(b){return b.Hb[this.eb]};q.set=function(b,c){b.ma[b.g][this.eb]=c};q.m=function(b){b.push(new ad(this.name,this.eb))};q.type=function(){return L("stack-symbol")};q.toString=function(){return this.name.toString()};
function ae(b,c){return b.name===c.name&&b.eb===c.eb}q.P=function(b,c,d){return ae(this,b)?c:d<this.eb?new X(this.name,this.index-1):this};function V(b,c,d){this.La=c;this.index=d;this.name=b}V.prototype=new z;q=V.prototype;q.className="BoundSymbol";function ed(b,c,d){c.zb(b.La).set(b.index,d)}q.t=function(b){for(var c=this.La;0<c;)b=b.parent,c--;return b.bb[this.index]};q.m=function(b){b.push(new Wc(this))};q.type=function(){return qe};q.toString=function(){return this.name.toString()};
function Od(b,c){return b.La===c.La&&b.name===c.name&&b.index===c.index}q.K=function(b){return b<=this.La?new V(this.name,this.La+1,this.index):this};function re(b){return new V(b.name,b.La-1,b.index)}q.Q=function(b,c,d,f,h){if(Od(this,b))return c;return d?(0===this.La&&g(new u("can't unnest "+this+", looking for "+b+" to inline with "+c)),re(this)):f===this.La&&h<this.index?new V(this.name,this.La,this.index-1):this};q.j=function(b){b.qc(this)};
q.W=function(b){b=b[this.name.name()];if(b===i)return re(this);if(b===this.index)return new X(this.name,b);g(new u("error: parameter index mismatch: expected "+b+", got "+this.index))};var qe=L("bound-symbol");function se(b){this.A=this.name=l;this.Ma=b}se.prototype=new z;q=se.prototype;q.className="SingleAssignment";q.Ia=function(b){this.name===l?b instanceof N||b instanceof V?this.name=b:g(new u("assign: can't assign to "+b)):this.A===l?this.A=b:this.Ma.Ia(b)};
q.toString=function(){return""+this.name+" "+this.A};q.m=function(b){te(this,b,m);this.Ma.m(b)};
function te(b,c,d){if(b.name instanceof V){var f=b.name,b=b.A;b instanceof V?d?c.push(new gd(f,b)):c.push(new hd(f,b)):b instanceof X?d?c.push(new md(f,b)):c.push(new nd(f,b)):b instanceof N?d?c.push(new dd(f,b)):c.push(new fd(f,b)):b.Da()?d?c.push(new id(f,b)):c.push(new jd(f,b)):b instanceof we?(b=b.Ab,d?c.push(new id(f,b)):c.push(new jd(f,b))):(b.m(c),d?c.push(new kd(f)):c.push(new ld(f)))}else b.name instanceof X?(f=b.name,b=b.A,b instanceof V?d?c.push(new Cd(f,b)):c.push(new Dd(f,b)):b instanceof
X?d?c.push(new Id(f,b)):c.push(new Jd(f,b)):b instanceof N?d?c.push(new Ad(f,b)):c.push(new Bd(f,b)):b.Da()?d?c.push(new Ed(f,b)):c.push(new Fd(f,b)):b instanceof we?(b=b.Ab,d?c.push(new Ed(f,b)):c.push(new Fd(f,b))):(b.m(c),d?c.push(new Gd(f)):c.push(new Hd(f)))):b.name instanceof N?(f=b.name,b=b.A,b instanceof V?d?c.push(new rd(f,b)):c.push(new sd(f,b)):b instanceof X?d?c.push(new xd(f,b)):c.push(new yd(f,b)):b instanceof N?d?c.push(new pd(f,b)):c.push(new qd(f,b)):b.Da()?d?c.push(new td(f,b)):
c.push(new ud(f,b)):b instanceof we?(b=b.Ab,d?c.push(new td(f,b)):c.push(new ud(f,b))):(b.m(c),d?c.push(new vd(f)):c.push(new wd(f)))):g(new u("what kind of symbol is "+b.name+"??"))}q.type=function(){return L("assignment")};q.ea=p(j);q.V=function(){return this.A instanceof Y?xe(this.A)||this.Ma.V():this.A.V()||this.Ma.V()};
q.Q=function(b,c,d,f,h){var k=new se(l);this.name instanceof V&&Od(b,this.name)&&g(new u("Can't inline "+b+" -> "+c+"; assignment"));k.name=this.name;k.A=this.A.Q(b,c,d,f,h);k.Ma=this.zd(b,c,d,f,h);return k};q.P=function(b,c,d){var f=new se(l);this.name instanceof X&&ae(b,this.name)&&g(new u("Can't inline "+b+" -> "+c+"; assignment"));f.name=this.name;f.A=this.A.P(b,c,d);f.Ma=this.yd(b,c,d);return f};q.K=function(b){var c=new se(l);c.name=this.name.K(b);c.A=this.A.K(b);c.Ma=this.Ma.K(b);return c};
q.W=function(b){var c=new se(l);c.name=this.name.W(b);c.A=this.A.W(b);b=this.Ma.W(b);b instanceof se||g(new TypeError);c.Ma=b;return c};q.j=function(b){b.sa(this);this.name.j(b);this.A.j(b);this.Ma.j(b);b.Fa(this)};function ye(){se.call(this,l)}ye.prototype=new se(l);q=ye.prototype;q.className="LastAssignment";q.Ia=function(b){this.name===l?b instanceof N||b instanceof V?this.name=b:g(new u("assign: can't assign to "+b)):this.A===l?this.A=b:g(new u("assign: error: unexpected "+b))};
q.toString=function(){return""+this.name+" "+this.A};q.m=function(b){te(this,b,j)};q.V=function(){return this.A instanceof Y?xe(this.A):this.A.V()};q.Q=function(b,c,d,f,h){var k=new ye;this.name instanceof V&&Od(b,this.name)&&g(new u("Can't inline "+b+" -> "+c+"; assignment"));k.name=this.name.Q(b,c,d,f,h);k.A=this.A.Q(b,c,d,f,h);return k};
q.P=function(b,c,d){var f=new ye;this.name instanceof X&&ae(b,this.name)&&g(new u("Can't inline "+b+" -> "+c+"; assignment"));f.name=this.name.P(b,c,d);f.A=this.A.P(b,c,d);return f};q.K=function(b){var c=new ye;c.name=this.name.K(b);c.A=this.A.K(b);return c};q.W=function(b){var c=new ye;c.name=this.name.W(b);c.A=this.A.W(b);return c};q.j=function(b){b.sa(this);this.name.j(b);this.A.j(b);b.Fa(this)};function ze(){this.Y=l}ze.prototype=new z;q=ze.prototype;q.className="Assignment";q.type=function(){return L("assignment")};
q.Ia=function(b){this.Y.Ia(b)};q.m=function(b){this.Y.m(b)};q.toString=function(){return"(assign "+this.Y+")"};q.ea=function(b){return this.Y.ea(b)};q.V=function(){return this.Y.V()};q.Q=function(b,c,d,f,h){var k=new ze;k.Y=this.Y.Q(b,c,d,f,h);return k};q.P=function(b,c,d){var f=new ze;f.Y=this.Y.P(b,c,d);return f};q.K=function(b){var c=new ze;c.Y=this.Y.K(b);return c};q.j=function(b){b.sa(this);this.Y.j(b);b.Fa(this)};
q.W=function(b){var c=new ze,b=this.Y.W(b);b instanceof se||g(new TypeError);c.Y=b;return c};function Nd(){this.l=l}Nd.prototype=new z;q=Nd.prototype;q.Ga=j;q.className="Else";q.type=function(){return L("else-clause")};q.add=function(b){g(new u("Internal error: if clause: unexpected extra condition: "+b))};q.Ia=function(b){this.l===l?this.l=b:g(new u("Internal error: if clause: unexpected: "+b))};q.m=function(b){this.l.m(b)};q.reduce=function(){return this};q.toString=function(){return""+this.l};
q.ea=function(b){return this.l.ea(b)};q.V=function(){return this.l instanceof Y?xe(this.l):this.l.V()};q.Q=function(b,c,d,f,h){var k=new Nd;k.l=this.l.Q(b,c,d,f,h).reduce();return k};q.P=function(b,c,d){var f=new Nd;f.l=this.l.P(b,c,d).reduce();return f};q.K=function(b){var c=new Nd;c.l=this.l.K(b);return c};q.W=function(b){var c=new Nd;c.l=this.l.W(b);return c};q.j=function(b){b.sa(this);this.l.j(b);b.Fa(this)};q.jc=function(){return"_"+Ae(this.l)};function Be(){this.X=l}Be.prototype=new z;q=Be.prototype;
q.className="IfClause";q.type=function(){return Ce};q.append=function(b){this.X!==l?this.X.add(b):this.X=b};q.reduce=function(){var b=this.X.reduce();b.Ga||g(new TypeError);this.X=b;return b instanceof Nd?b.l:this};q.Ia=function(b){this.X.Ia(b)};q.m=function(b){this.X.m(b)};q.toString=function(){return"(if "+this.X+")"};q.ea=function(b){return this.X.ea(b)};q.V=function(){return this.X.V()};q.Q=function(b,c,d,f,h){var k=new Be,b=this.X.Q(b,c,d,f,h).reduce();b.Ga||g(new TypeError);k.X=b;return k};
q.P=function(b,c,d){var f=new Be,b=this.X.P(b,c,d).reduce();b.Ga||g(new TypeError);f.X=b;return f};q.K=function(b){var c=new Be,b=this.X.K(b);b.Ga||g(new TypeError);c.X=b;return c};q.W=function(b){var c=new Be,b=this.X.W(b);b.Ga||g(new TypeError);c.X=b;return c};q.j=function(b){b.sa(this);this.X.j(b);b.Fa(this)};q.O=function(){var b=this.X;b instanceof De||g(new TypeError);return b.O};var Ce=L("if-clause");function De(){this.next=this.O=this.l=l}De.prototype=new z;q=De.prototype;q.Ga=j;
q.className="IfThen";q.type=function(){return L("if-then-clause")};q.add=function(b){this.next!==l?this.next.add(b):this.next=b};q.Ia=function(b){this.l===l?this.l=b:this.O===l?this.O=b:this.next.Ia(b)};
q.m=function(b){var c=this.jc(),d="rainbow.vm.instructions.cond.optimise.If"+c;try{if(d in Ee){var f=Ee[d];f===l?this.sc(b,c):f(b,this.l,this.O,this.next)}else{var h=w[d];if(h===i)Ee[d]=l;else{var k=h.addInstructions;k===i&&g(new u("couldn't find handler method 'addInstructions(List,ArcObject,ArcObject,ArcObject) on "+d));Ee[d]=k}this.m(b)}}catch(r){r instanceof Error||g(r),g(new u("Couldn't instantiate "+d+": "+r,r))}};q.sc=function(b){this.l.m(b);b.push(new Kd(this.O,this.next))};
q.reduce=function(){var b=this.next.reduce();b.Ga||g(new TypeError);this.next=b;if(this.l instanceof A)return this.next;!(this.l instanceof V)||!(this.O instanceof V)||!(this.next instanceof Nd)?b=m:(b=this.next,b=Od(this.l,this.O)&&b.l instanceof A);if(!b)!(this.l instanceof X)||!(this.O instanceof X)||!(this.next instanceof Nd)?b=m:(b=this.next,b=ae(this.l,this.O)&&b.l instanceof A);return b?(b=new Nd,b.Ia(this.l),b):this};q.toString=function(){return""+this.l+" "+this.O+" "+this.next};
q.ea=function(b){return this.l.ea(b)||this.O.ea(b)||this.next.ea(b)};q.V=function(){return this.l instanceof Y&&xe(this.l)||this.O instanceof Y&&xe(this.O)?j:this.l.V()||this.O.V()||this.next.V()};q.Q=function(b,c,d,f,h){var k=new De;k.l=this.l.Q(b,c,d,f,h).reduce();k.O=this.O.Q(b,c,d,f,h).reduce();b=this.next.Q(b,c,d,f,h).reduce();b.Ga||g(new TypeError);k.next=b;return k};
q.P=function(b,c,d){var f=new De;f.l=this.l.P(b,c,d).reduce();f.O=this.O.P(b,c,d).reduce();b=this.next.P(b,c,d).reduce();b.Ga||g(new TypeError);f.next=b;return f};q.K=function(b){var c=new De;c.l=this.l.K(b);c.O=this.O.K(b);b=this.next.K(b);b.Ga||g(new TypeError);c.next=b;return c};q.W=function(b){var c=new De;c.l=this.l.W(b);c.O=this.O.W(b);b=this.next.W(b);b.Ga||g(new TypeError);c.next=b;return c};q.j=function(b){b.sa(this);this.l.j(b);this.O.j(b);this.next.j(b);b.Fa(this)};
q.jc=function(){var b;b="_"+Ae(this.l);b=b+"_"+Ae(this.O);return b=this.next instanceof Nd?b+"_"+Ae(this.next.l):b+"_other"};var Ee={};function we(b){this.Ab=b}we.prototype=new z;q=we.prototype;q.className="Quotation";q.m=function(b){b.push(new G(this.Ab))};q.type=function(){return L("quotation")};q.t=o("Ab");q.toString=function(){return"'"+this.Ab};function Fe(b){this.w=b;this.Xb={}}Fe.prototype=new z;q=Fe.prototype;q.className="Invocation";q.type=function(){return L("if-then-clause")};
q.toString=function(){return(this.w.a()instanceof Y?Ge(He(this.w)):this.w).toString()};q.m=function(b){var c;1===this.w.ha()&&this.w.a()instanceof Ie?(Je(this.w.a(),b),c=j):c=m;c||Ke(this,b)||this.sc(b)};
q.reduce=function(){if(this.w.cc(1)&&this.w.a()instanceof Y){var b=this.w.a(),c=b.v;if(c.N()||!(c.a()instanceof N))return this;var c=c.a(),d=this.w.b().a();if(b.hb(c,d)){try{var f=b.jb(c,d,j)}catch(h){h instanceof Error||g(h),g(new u("couldn't curry "+c+"->"+d+" for "+b+" in expression "+this+": "+h,h))}return(new Fe(new C(f,this.w.b().b()))).reduce()}}return this};
function Ke(b,c){for(var d="",f=b.w;!(f instanceof A);)d+="_",d+=Ae(f.a()),f=f.b(),f instanceof C||g(new TypeError);d="rainbow.vm.instructions.invoke.optimise.Invoke"+d;if(d in b.Xb){f=b.Xb[d];if(f===l)return m;try{var h=new f(b.w),k=b.w.b();for(k instanceof C||g(new TypeError);!(k instanceof A);)"other"===b.jc(k.a())&&k.a().m(c),k=k.b(),k instanceof C||g(new TypeError);"other"===b.jc(b.w.a())&&b.w.a().m(c);c.push(h);return j}catch(r){r instanceof Error||g(r),g(new u("couldn't create optimiser "+
d,r))}}else{h=w[d];if(h===i)return b.Xb[d]=l,m;b.Xb[d]=h;return Ke(b,c)}}function Ae(b){return b instanceof V?"bound":b instanceof N?"free":b instanceof X?"stack":b.Da()?"literal":b instanceof we?"quote":"other"}
q.sc=function(b){switch(this.w.ha()){case 1:var c=this.w.a();c instanceof V?b.push(new ce(c)):c instanceof N?b.push(new de(c)):(c.m(b),b.push(new ee));break;case 2:c=this.w.a();this.w.b().a().m(b);c instanceof V?b.push(new fe(c)):c instanceof N?b.push(new ge(c)):(c.m(b),b.push(new he));break;case 3:var c=this.w.a(),d=this.w.b().a(),f=this.w.b().b().a();d.m(b);f.m(b);c instanceof V?b.push(new ie(c)):c instanceof N?b.push(new je(c)):(c.m(b),b.push(new ke));break;case 4:var c=this.w.a(),d=this.w.b().a(),
f=this.w.b().b().a(),h=this.w.b().b().b().a();d.m(b);f.m(b);h.m(b);c instanceof V?b.push(new le(c)):c instanceof N?b.push(new me(c)):(c.m(b),b.push(new ne));break;default:c=this.w.a();d=this.w.b();d instanceof C||g(new TypeError);for(f=d.ha();!(d instanceof A);)d.a().m(b),d=d.b(),d instanceof C||g(new TypeError);c instanceof V?b.push(new oe(c,f)):c instanceof N?b.push(new pe(c,f)):(c.m(b),b.push(new Ja(f)))}return j};
q.ea=function(b){for(var c=this.w;!(c instanceof A);){if(c.a().ea(b))return j;c=c.b();c instanceof C||g(new TypeError)}return m};q.V=function(){for(var b=this.w;!(b instanceof A);){if(b.a()instanceof Y){if(xe(b.a()))return j}else if(b.a().V())return j;b=b.b();b instanceof C||g(new TypeError)}return m};
q.Q=function(b,c,d,f,h){for(var k=this.w,r=[];!(k instanceof A);){try{r.push(k.a().Q(b,c,d,f,h))}catch(t){t instanceof Error||g(t),g(new u("couldn't inline "+b+"->"+c+"(unnest:"+d+";nesting:"+f+") in "+this+" : "+t,t))}k=k.b();k instanceof C||g(new TypeError)}return new Fe(y(r))};q.P=function(b,c,d){for(var f=this.w,h=[];!(f instanceof A);){try{h.push(f.a().P(b,c,d))}catch(k){k instanceof Error||g(k),g(new u("couldn't inline "+b+"->"+c+") in "+this+" : "+k,k))}f=f.b();f instanceof C||g(new TypeError)}return new Fe(y(h))};
q.K=function(b){for(var c=this.w,d=[];!(c instanceof A);)d.push(c.a().K(b)),c=c.b(),c instanceof C||g(new TypeError);return new Fe(y(d))};q.W=function(b){for(var c=this.w,d=[];!(c instanceof A);)d.push(c.a().W(b)),c=c.b(),c instanceof C||g(new TypeError);return new Fe(y(d))};q.j=function(b){b.sa(this);for(var c=this.w;!(c instanceof A);)c.a().j(b),c=c.b(),c instanceof C||g(new TypeError);b.Fa(this)};function Le(b){this.Ea=b}Le.prototype=new z;q=Le.prototype;q.className="QuasiQuotation";q.type=function(){return L("quasiquotation")};
q.m=function(b){Me(this,b,this.Ea,1)};q.toString=function(){return"`"+this.Ea};function Ne(b){var c=[];Oe(b,c,b.Ea,1);return c}function Oe(b,c,d,f){if(Pe(d))1===f?c.push(d.b().a()):Oe(b,c,d.b().a(),f-1);else if(Qe(d))1===f?c.push(d.b().a()):Oe(b,c,d.b().a(),f-1);else if(Re(d))Oe(b,c,d.b().a(),f+1);else if(!d.N())for(;!d.N();)if(Pe(d)||Re(d))Oe(b,c,d,f),d=d.b().b();else{var h=d.a(),d=d.b();Qe(h)?Oe(b,c,h,f):(Pe(h)||Re(h)||Se(h))&&Oe(b,c,h,f)}}
function Me(b,c,d,f){if(Pe(d))1===f?d.b().a().m(c):(c.push(new G(Te)),Me(b,c,d.b().a(),f-1),c.push(new Xc(2)));else if(Qe(d))1===f?(d.b().a().m(c),c.push(new Pc)):(c.push(new G(Ue)),Me(b,c,d.b().a(),f-1),c.push(new Xc(2)),c.push(new Oc));else if(Re(d))c.push(new G(Ve)),Me(b,c,d.b().a(),f+1),c.push(new Xc(2));else if(d.N())c.push(new G(d));else{for(c.push(new Yc);!d.N();)if(Pe(d)||Re(d))Me(b,c,d,f),d=d.b().b(),c.push(new Qc);else{var h=d.a(),d=d.b();Qe(h)?Me(b,c,h,f):(Pe(h)||Re(h)||Se(h)?Me(b,c,h,
f):c.push(new G(h)),c.push(new Oc))}d instanceof A||(c.push(new G(d)),c.push(new Qc));c.push(new Vc)}}function We(b,c){return b instanceof C&&b.wc(c)&&b.b().b()instanceof A}function Pe(b){return We(b,Te)}function Qe(b){return We(b,Ue)}function Re(b){return We(b,Ve)}function Se(b){return b instanceof C}q.ea=function(b){for(var c=Ne(this),d=0,f=c.length;d<f;d++)if(c[d].ea(b))return j;return m};q.V=function(){for(var b=Ne(this),c=0,d=b.length;c<d;c++){var f=b[c];if(f instanceof Y){if(xe(f))return j}else if(f.V())return j}return m};
q.Q=function(b,c,d,f,h){return new Le(Xe(b,c,d,f,h,this.Ea,1))};
function Xe(b,c,d,f,h,k,r){if(Pe(k))return 1===r?y([Te,k.b().a().Q(b,c,d,f,h)]):y([Te,Xe(b,c,d,f,h,k.b().a(),r-1)]);if(Qe(k))return 1===r?y([Ue,k.b().a().Q(b,c,d,f,h)]):y([Ue,Xe(b,c,d,f,h,k.b().a(),r-1)]);if(Re(k))return y([Ve,Xe(b,c,d,f,h,k.b().a(),r+1)]);if(k.N())return k;for(var t=[],B=D;!k.N();)if(Pe(k)||Re(k))B=Xe(b,c,d,f,h,k,r),k=k.b().b();else{var M=k.a(),k=k.b();Qe(M)?t.push(Xe(b,c,d,f,h,M,r)):Pe(M)||Re(M)||Se(M)?t.push(Xe(b,c,d,f,h,M,r)):t.push(M)}k instanceof A||(B=k);return lb(t,B)}
q.P=function(b,c,d){return new Le(Ye(b,c,d,this.Ea,1))};
function Ye(b,c,d,f,h){if(Pe(f))return 1===h?y([Te,f.b().a().P(b,c,d)]):y([Te,Xe(b,c,d,f.b().a(),h-1)]);if(Qe(f))return 1===h?y([Ue,f.b().a().P(b,c,d)]):y([Ue,Ye(b,c,d,f.b().a(),h-1)]);if(Re(f))return y([Ve,Ye(b,c,d,f.b().a(),h+1)]);if(f.N())return f;for(var k=[],r=D;!f.N();)if(Pe(f)||Re(f))r=Ye(b,c,d,f,h),f=f.b().b();else{var t=f.a(),f=f.b();Qe(t)?k.push(Ye(b,c,d,t,h)):Pe(t)||Re(t)||Se(t)?k.push(Ye(b,c,d,t,h)):k.push(t)}f instanceof A||(r=f);return lb(k,r)}
q.K=function(b){return new Le(Ze(b,this.Ea,1))};function Ze(b,c,d){if(Pe(c))return 1===d?y([Te,c.b().a().K(b)]):y([Te,Ze(b,c.b().a(),d-1)]);if(Qe(c))return 1===d?y([Ue,c.b().a().K(b)]):y([Ue,Ze(b,c.b().a(),d-1)]);if(Re(c))return y([Ve,Ze(b,c.b().a(),d+1)]);if(c.N())return c;for(var f=[],h=D;!c.N();)if(Pe(c)||Re(c))h=Ze(b,c,d),c=c.b().b();else{var k=c.a(),c=c.b();Qe(k)||Pe(k)||Re(k)||Se(k)?f.push(Ze(b,k,d)):f.push(k)}c instanceof A||(h=c);return lb(f,h)}q.W=function(b){return new Le($e(b,this.Ea,1))};
function $e(b,c,d){if(Pe(c))return 1===d?y([Te,c.b().a().W(b)]):y([Te,$e(b,c.b().a(),d-1)]);if(Qe(c))return 1===d?y([Ue,c.b().a().W(b)]):y([Ue,$e(b,c.b().a(),d-1)]);if(Re(c))return y([Ve,$e(b,c.b().a(),d+1)]);if(c.N())return c;for(var f=[],h=D;!c.N();)if(Pe(c)||Re(c))h=$e(b,c,d),c=c.b().b();else{var k=c.a(),c=c.b();Qe(k)||Pe(k)||Re(k)||Se(k)?f.push($e(b,k,d)):f.push(k)}c instanceof A||(h=c);return lb(f,h)}q.j=function(b){b.sa(this);for(var c=Ne(this),d=0,f=c.length;d<f;d++)c[d].j(b);b.Fa(this)};
function af(){}q=af.prototype;q.sa=n();q.Fa=n();q.Tb=function(b){this.sa(b)};q.qc=function(b){this.sa(b)};q.Sb=function(b){this.sa(b)};q.Zb=function(b){this.Fa(b)};function bf(b){this.Lb=new C(b,D)}bf.prototype=new af;bf.prototype.Tb=function(b){b.k(this.Lb.a());this.Lb=new C(b,this.Lb)};bf.prototype.Zb=function(){this.Lb=this.Lb.b()};function cf(){this.sb=[];this.Cc=[];this.ob=0;this.Bc=-1}cf.prototype=new af;q=cf.prototype;q.Tb=function(b){b.Kb()&&this.ob++};q.sa=n();q.Fa=n();
q.Zb=function(b){b.Kb()&&this.ob--};q.qc=function(b){b=b.La-this.ob;if(this.Bc<b)this.Bc=b};function df(b){this.sb=[];this.Cc=[];this.Ea=b}df.prototype=new af;q=df.prototype;q.Fb=function(){return this.Cc.length};q.Tb=function(b){this.sb.unshift(b);if(b.Kb())this.Ea=this.Ea.K(0)};q.sa=function(b){this.sb.unshift(b)};q.Fa=function(){this.sb.shift()};q.Zb=function(b){this.sb.shift();if(b.Kb())this.Ea=re(this.Ea)};q.qc=function(b){Od(b,this.Ea)&&0<this.sb.length&&this.Cc.push(this.sb[0])};
function ef(){this.name=this.target=l;this.mc=this.Pc=this.bd=0;this.children=[];this.parent=l;this.Yc={};this.Xc={}}function ff(b,c){var d=c.Na(),f=b[d];if(f===i&&(f=new ef,f.target=c,f.name=d,b[d]=f,c instanceof Y&&(d=c.bc,d!==l)))d=ff(b,d),d.children.push(f),f.parent=d;return f}function gf(b){this.target=b;this.Fb=0;this.key=b.Na()}function hf(b,c){var d=b[c.Na()];d===i&&(d=new gf(c),b[d.key]=d);return d}function jf(){this.vc={};this.ud={};this.xc=l;this.now=0}function kf(){}kf.prototype.cb=i;
kf.prototype.end=i;kf.prototype.xb=i;function lf(b){b.show();var c=prompt("q to resume execution, f to skip to the end of this frame, any other key to step");if(c!==l)if(/^q$/i.test(c))Kc(b,zc);else if(/^f$/i.test(c))b.Ic=b.g-1,Kc(b,mf)}function nf(){}nf.prototype=new kf;nf.prototype.cb=n();nf.prototype.end=n();nf.prototype.xb=n();var zc=new nf;function of(){}of.prototype=new kf;of.prototype.cb=function(b){lf(b)};of.prototype.end=function(b){ya("VM thread finished: returning.");lf(b)};
of.prototype.xb=n();var pf=new of;function qf(){}qf.prototype=new kf;qf.prototype.cb=function(b){b.Yb=j;for(var c=[],d=[];0<=b.g;)Cc(b).a().Ib&&(c.push(Cc(b)),d.push(b.ga[b.g])),b.g--;for(var f=c.length-1;0<=f;f--)T(b,d[f],c[f])};qf.prototype.end=n();qf.prototype.xb=n();var rf=new qf;function sf(){}sf.prototype=new kf;sf.prototype.cb=function(b){b.g<=b.Ic&&Kc(b,pf)};sf.prototype.end=n();sf.prototype.xb=n();var mf=new sf;function tf(){}tf.prototype=new kf;
tf.prototype.cb=function(b){var c=b.Ta.xc;if(c!==l){var d=ff(b.Ta.vc,c),c=1E6*(new Date).getTime()-b.Ta.now;d.Pc+=c;d.mc+=c;for(d=d.parent;d!==l;)d.mc+=c,d=d.parent}var f=Mc(b);if(f!==l)b.q=b.ga[b.g],b.Hb=b.ma[b.g],this.nd(f,b),f.la?(c=f.oa(b),c instanceof Tc&&(c=c.p()),d=ff(b.Ta.vc,c),f=f.e,f!==l&&hf(d.Yc,f).Fb++,f=ff(b.Ta.vc,f),c!==l&&hf(f.Xc,c).Fb++,d.bd++,b.Ta.xc=c):b.Ta.xc=f.e!==l?f.e:D,b.Ta.now=1E6*(new Date).getTime()};tf.prototype.end=n();
tf.prototype.xb=function(b){b.Ta=new jf;b.Ta.now=1E6*(new Date).getTime()};var uf=new tf;function vf(b,c,d){this.e=l;this.Wb=b;this.J=c;this.s=d;this.k(H("AssignmentBuilder.build"))}vf.prototype=new O;vf.prototype.className="AssignmentBuilder.BuildAssignment1";vf.prototype.d=function(b){if(!(this.J instanceof A)){try{this.J.yb()}catch(c){c instanceof Fa||g(c),g(new u("assign: unexpected: "+this.J))}F(b,new wf(this.Wb,this.J.b(),this.s));xf(b,this.J.a(),this.s)}};
function wf(b,c,d){this.e=l;this.Wb=b;this.J=c;this.s=d;this.k(H("AssignmentBuilder.build"))}wf.prototype=new O;wf.prototype.className="AssignmentBuilder.BuildAssignment2";wf.prototype.d=function(b){this.Wb.Ia(S(b).reduce());F(b,new vf(this.Wb,this.J,this.s))};var yf=D,zf=L("at-string");
function xf(b,c,d){if(c instanceof A)E(b,c);else if(c instanceof Ma&&!(yf instanceof A))F(b,new Af(d)),zf.bound()?Ha(zf.value(),b,new C(c,D)):E(b,c);else if(c instanceof N&&Bf(c))xf(b,Cf(cb(c,"ssexpand")),d);else if(c instanceof C){var f,h=c.a();f=!(h instanceof N)||!h.bound()?l:hc(h.value());if(f!==l)h=c.b(),h instanceof C||g(new TypeError),F(b,new Df(d)),Ha(f,b,h);else if(f=c.a(),bb("quote",f))E(b,new we(c.b().a()));else if(f===Ve)F(b,new Ef),Ff(b,c.b().a(),d,1);else if(bb("fn",f))h=c.b(),h instanceof
C||g(new TypeError),c=h,h=d,h===l&&g(new ReferenceError("can't have null lexical bindings!")),f={},d=c.a(),d instanceof A||(h=[f].concat(h)),F(b,new Gf(c,h,f)),d instanceof A?E(b,new C(D,D)):(c=h,Hf(d,c[0],[0],m),If(b,d,c));else if(bb("if",f)){h=c=c.b();for(f=new Be;0<c.ha();)switch(c.ha()){case 0:break;case 1:f.append(new Nd);c=c.b();break;case 2:f.append(new De);c=c.b();c instanceof C||g(new TypeError);c.Dc(new C(D,D));c=c.b();break;default:f.append(new De),c=c.b().b()}c=h;F(b,new Jf(f));F(b,new Kf(f,
c,d))}else if(bb("assign",f)){c=c.b();h=new ze;f=c.ha();0!==f%2&&g(new u("assign: requires even number of arguments"));f=f/2-1;0>f&&g(new u("assign: nothing to assign"));for(h.Y=new ye;0<f;)h.Y=new se(h.Y),f--;f=new G(h);f.k(H("AssignmentBuilder.build"));F(b,f);F(b,new vf(h,c,d))}else bb("compose",f.pc())?(h=f.b(),h instanceof C||g(new TypeError),c=c.b(),c instanceof C||g(new TypeError),xf(b,Lf(h,c),d)):bb("complement",f.pc())?(h=c.b(),h instanceof C||g(new TypeError),c=xf,f=f.b().a(),h=new C(L("no"),
new C(new C(f,h),D)),c(b,h,d)):f instanceof N&&Bf(f)?xf(b,new C(Cf(cb(f,"ssexpand")),c.b()),d):F(b,new Mf(c,d,c,[]))}else{if(c instanceof N)for(h=0;h<d.length;h++)if(c.name()in d[h]){d=d[h][c.name()];E(b,new V(c,h,d));return}E(b,c)}}function Af(b){this.e=l;this.s=b;this.k(H("Compiler.compile"))}Af.prototype=new O;Af.prototype.className="Compiler.FinishAtString";Af.prototype.d=function(b){var c=S(b);c instanceof Ma?E(b,c):xf(b,c,this.s)};
function Df(b){this.e=l;this.s=b;this.k(H("Compiler.compilePair"))}Df.prototype=new O;Df.prototype.className="Compiler.ThenCompile";Df.prototype.d=function(b){xf(b,S(b),this.s)};function Ef(){this.e=l;this.k(H("Compiler.compilePair"))}Ef.prototype=new O;Ef.prototype.className="Compiler.WrapQuasiQuotation";Ef.prototype.d=function(b){E(b,new Le(S(b)))};function Lf(b,c){var d=b.a();if(b.b()instanceof A)return new C(d,c);var f=b.b();f instanceof C||g(new TypeError);return new C(d,new C(Lf(f,c),D))}
function Gf(b,c,d){this.e=l;this.ab=b;this.s=c;this.yc=d;this.k(H("FunctionBodyBuilder.build"))}Gf.prototype=new O;Gf.prototype.className="FunctionBodyBuilder.Intermediate";Gf.prototype.d=function(b){var c=S(b),d=c.a(),c=c.b(),f=this.ab.b();f instanceof C||g(new TypeError);F(b,new Nf(c,this.yc,f,d,b.L));F(b,new Of(f,this.s,[]))};function Nf(b,c,d,f,h){this.e=l;this.v=b;this.yc=c;this.J=d;this.ta=f;this.Db=h;this.k(H("FunctionBodyBuilder.build"))}Nf.prototype=new O;Nf.prototype.ac=j;
Nf.prototype.className="FunctionBodyBuilder.Finish";Nf.prototype.rc=function(b){return b instanceof Error};Nf.prototype.d=function(b){var c=b.error();if(c!==l)b.Pa=l,b.L=this.Db,g(new u("building function fn "+this.v+" "+this.J+": "+c,c));E(b,Pf(this.v,this.yc,S(b),this.ta))};
function Pf(b,c,d,f){var h="rainbow.function.interpreted.optimise.Bind"+Qf(b,m),k=w[h];if(k===i)return f instanceof A?new Rf(b,c,d):new Sf(b,c,d);try{var r=k.of(b,c,d);r instanceof z||g(new TypeError);return r}catch(t){t instanceof Error||g(t),g(new u("Couldn't instantiate "+h+": "+t,t))}}
function Qf(b,c){if(b instanceof A)return"";if(b instanceof C){if(c){if(Tf(b)){var d=b.b().b().a();return d.Da()?"_Oliteral":d instanceof V?"_Obound":"_Oother"}d=b.a();return"_D"+Qf(d,j)+Qf(b.b(),m)+"_d"}return Qf(b.a(),j)+Qf(b.b(),m)}return c?"_A":"_R"}function Uf(b,c,d){!(c instanceof A)&&c instanceof C&&(d&&Tf(c)?c.b().b().a().j(b):(Uf(b,c.a(),j),Uf(b,c.b(),m)))}var Vf=L("o"),Wf=L("#NIL#");function If(b,c,d){var f={value:D},h=[];F(b,new Xf(h,f));F(b,new Yf(h,f,c,d))}
function Xf(b,c){this.e=l;this.I=b;this.ta=c;this.k(H("FunctionParameterListBuilder.buildParams_"))}Xf.prototype=new O;Xf.prototype.className="FunctionParameterListBuilder.ReturnParams";Xf.prototype.d=function(b){if(0===this.I.length){var c;c=S(b)}else c=lb(this.I,S(b));c=new C(this.ta.value,c);E(b,c)};function Yf(b,c,d,f){this.e=l;this.I=b;this.ta=c;this.qa=d;this.s=f;this.k(H("FunctionParameterListBuilder.buildParams_"))}Yf.prototype=new O;Yf.prototype.className="FunctionParameterListBuilder.BuildParams1";
Yf.prototype.d=function(b){if(this.qa.N()){var c=new G(this.qa);c.k(this);F(b,c)}else{var c=this.qa.a(),d=this.qa.b();if(c instanceof C)if(c instanceof A)this.I.push(Wf),F(b,new Yf(this.I,this.ta,d,this.s));else if(this.ta.value=Wa,Tf(c)){var f=c.b().a();F(b,new Zf(this.I,this.ta,d,this.s,f));xf(b,c.b().b().a(),this.s)}else F(b,new $f(this.I,this.ta,d,this.s)),If(b,c,this.s);else this.I.push(c),F(b,new Yf(this.I,this.ta,d,this.s))}};
function Zf(b,c,d,f,h){this.e=l;this.I=b;this.ta=c;this.qa=d;this.s=f;this.dd=h;this.k(H("FunctionParameterListBuilder.buildParams_"))}Zf.prototype=new O;Zf.prototype.className="FunctionParameterListBuilder.BuildParams2a";Zf.prototype.d=function(b){this.I.push(y([Vf,this.dd,S(b)]));F(b,new Yf(this.I,this.ta,this.qa,this.s))};function $f(b,c,d,f){this.e=l;this.I=b;this.ta=c;this.qa=d;this.s=f;this.k(H("FunctionParameterListBuilder.buildParams_"))}$f.prototype=new O;$f.prototype.className="FunctionParameterListBuilder.BuildParams2b";
$f.prototype.d=function(b){this.I.push(S(b).b());F(b,new Yf(this.I,this.ta,this.qa,this.s))};function ag(b){for(;!b.N();){if(b.a()instanceof C)return Wa;b=b.b()}return D}function Hf(b,c,d,f){b instanceof A||(b instanceof C?f&&Tf(b)?Hf(b.b().a(),c,d,j):(f=b.a(),f instanceof A?(c[Wf.name()]=d[0],d[0]++):Hf(f,c,d,j),Hf(b.b(),c,d,m)):(b instanceof N||g(new TypeError),c[b.name()]=d[0],d[0]++))}
function bg(b,c,d,f){var h=l;f instanceof N&&!f.Ca(b.name)?h=f:Tf(f)&&!f.b().a().Ca(b.name)?h=y([Vf,f.b().a(),f.b().b().a().P(b,c,d)]):!Tf(f)&&f instanceof C&&(h=f);return h}function cg(b,c,d,f){var h=l;f instanceof N&&!f.Ca(b.name)?h=f:Tf(f)&&!f.b().a().Ca(b.name)?h=y([Vf,f.b().a(),f.b().b().a().Q(b,c,m,0,d)]):!Tf(f)&&f instanceof C&&(h=f);return h}function Jf(b){this.e=l;this.tb=b;this.k(H("IfBuilder.build"))}Jf.prototype=new O;Jf.prototype.className="IfBuilder.Reduce";
Jf.prototype.d=function(b){E(b,this.tb.reduce())};function Kf(b,c,d){this.e=l;this.tb=b;this.J=c;this.s=d;this.k(H("IfBuilder.build"))}Kf.prototype=new O;Kf.prototype.className="IfBuilder.BuildIf1";Kf.prototype.d=function(b){if(!(this.J instanceof A)){try{this.J.yb()}catch(c){c instanceof Fa||g(c),g(new u("if: unexpected: "+this.J))}F(b,new dg(this.tb,this.J.b(),this.s));xf(b,this.J.a(),this.s)}};function dg(b,c,d){this.e=l;this.tb=b;this.J=c;this.s=d;this.k(H("AssignmentBuilder.build"))}
dg.prototype=new O;dg.prototype.className="IfBuilder.BuildIf2";dg.prototype.d=function(b){this.tb.Ia(S(b).reduce());F(b,new Kf(this.tb,this.J,this.s))};function Mf(b,c,d,f){this.e=l;this.J=b;this.s=c;this.pa=d;this.Ja=f;this.k(H("InvocationBuilder.build"))}Mf.prototype=new O;Mf.prototype.className="InvocationBuilder.BuildInvocation";
Mf.prototype.d=function(b){if(this.J instanceof A)E(b,(new Fe(y(this.Ja))).reduce());else{try{this.J.yb()}catch(c){c instanceof Fa||g(c),g(new u("can't compile "+this.pa+"; not a proper list"))}F(b,new Mf(this.J.b(),this.s,this.pa,this.Ja));F(b,new eg(this.Ja));xf(b,this.J.a(),this.s)}};function eg(b){this.e=l;this.Ja=b;this.k(H("InvocationBuilder.build"))}eg.prototype=new O;eg.prototype.className="InvocationBuilder.ReducePush";eg.prototype.d=function(b){this.Ja.push(S(b).reduce())};
function Of(b,c,d){this.e=l;this.J=b;this.s=c;this.I=d;this.k(H("PairExpander.expand"))}Of.prototype=new O;Of.prototype.className="PairExpander.ExpandPair";Of.prototype.d=function(b){if(this.J instanceof A||!(this.J instanceof C))F(b,new fg(this.I)),xf(b,this.J,this.s);else{F(b,new Of(this.J.b(),this.s,this.I));var c=this.J.a();F(b,new gg(this.I));xf(b,c,this.s)}};function gg(b){this.e=l;this.Ja=b;this.k(H("PairExpander.expand"))}gg.prototype=new O;gg.prototype.className="PairExpander.ReducePush";
gg.prototype.d=function(b){this.Ja.push(S(b).reduce())};function fg(b){this.e=l;this.I=b;this.k(H("PairExpander.expand"))}fg.prototype=new O;fg.prototype.className="PairExpander.FinishPair";fg.prototype.d=function(b){var c=lb(this.I,S(b).reduce());c instanceof C||g(new TypeError);E(b,c)};var Ve=L("quasiquote"),Te=L("unquote"),Ue=L("unquote-splicing");function Ff(b,c,d,f){c.N()?E(b,c):Pe(c)?hg(b,Te,c,f,d):Qe(c)?hg(b,Ue,c,f,d):Re(c)?(F(b,new ig(Ve)),Ff(b,c.b().a(),d,f+1)):F(b,new jg([],c,d,f))}
function jg(b,c,d,f){this.e=l;this.I=b;this.va=c;this.s=d;this.ob=f;this.k(H("QuasiQuoteCompiler.compile"))}jg.prototype=new O;jg.prototype.className="QuasiQuoteCompiler.CompileQuasiQuote";jg.prototype.d=function(b){if(this.va.N())F(b,new kg(this.I)),Ff(b,this.va,this.s,this.ob);else{var c=this.va.a();F(b,new jg(this.I,this.va.b(),this.s,this.ob));c.N()?this.I.push(c):(F(b,new lg(this.I)),Ff(b,c,this.s,this.ob))}};function kg(b){this.e=l;this.I=b;this.k(H("QuasiQuoteCompiler.compile"))}
kg.prototype=new O;kg.prototype.className="QuasiQuoteCompiler.FinishQuasiQuote";kg.prototype.d=function(b){E(b,lb(this.I,S(b)))};function lg(b){this.e=l;this.I=b;this.k(H("QuasiQuoteCompiler.compile"))}lg.prototype=new O;lg.prototype.className="QuasiQuoteCompiler.Push";lg.prototype.d=function(b){this.I.push(S(b))};function hg(b,c,d,f,h){d=d.b().a();F(b,new ig(c));1===f?xf(b,d,h):Ff(b,d,h,f-1)}function ig(b){this.e=l;this.fd=b;this.k(H("QuasiQuoteCompiler.compile"))}ig.prototype=new O;
ig.prototype.className="QuasiQuoteCompiler.Prefix";ig.prototype.d=function(b){E(b,y([this.fd,S(b)]))};var mg={},ng=L("let"),og=L("self"),pg=L("it");L("afn");var qg=L("do"),rg=L("with"),sg=L("aif");
function Ge(b){if(b.a()===ng)a:{b=b.b();if(b.a()===pg){var c=b.b().a(),d=b.b().b();if(d.b()instanceof A&&d.a()instanceof Be&&(d=d.a(),!(d.X instanceof De)?0:"it"===d.X.l.toString())){b=d.O();d=d.X;d instanceof De||g(new TypeError);b=y([sg,c,b,d.next]);break a}}else if(b.a()===og&&b.b().a()instanceof A&&(d=b.b().b(),d.a()instanceof ze&&d.b()instanceof A)){c=d.a();var d=c.Y,f="self";if(d.name instanceof N)d=d.name.name()===f;else{if(!(d.name instanceof X))f=d.name,f instanceof V||g(new TypeError);d=
d.name.name.name()===f}if(d&&c.Y.A instanceof Y&&c.Y instanceof ye){b=mg.xd(c.Y.A);break a}}b=new C(ng,b)}return b}function He(b){var c=b.a(),d=b.b(),f=c.v;if(d.ha()===f.ha())if(0===d.ha())c=y([qg].concat(c.body));else if(1===d.ha())c=y([ng,f.a(),d.a()].concat(c.body));else{b=d;for(d=[];!(f instanceof A);)d.push(f.a()),d.push(b.a()),f=f.b(),b=b.b();c=y([rg,y(d)].concat(c.body))}else c=b;return c}function $(){}$.prototype=new z;q=$.prototype;q.className="Builtin";
q.c=function(b){this.$=b;L(b).da(this);return this};q.h=function(b){g(new u("Builtin:invoke(args):provide implementation! "+this.name()+" args "+b))};q.f=function(b,c){E(b,this.h(c))};q.na=p(0);q.type=function(){return tg};function Kb(b,c,d){d<b.ha()&&(ya(c+" got args "+b+" was expecting expecting at most "+d),g(new u(c.toLowerCase()+" expects at most "+d+" arguments: given "+b)))}function ug(b,c,d){b.ha()!==c&&g(new u(d.toLowerCase()+" expects "+c+" arguments: given "+b))}
q.toString=function(){return"[builtin:"+(this.$===l||0===this.$.length?this.className:this.$)+"]"};q.Na=function(){return this.toString()};q.name=function(){return""===this.$?this.className.toLowerCase():this.$};var tg=L("fn");function Tc(b,c){this.va=b;this.fa=c}Tc.prototype=new z;q=Tc.prototype;q.className="Closure";q.wa=function(b){this.va.ia(b,this.fa)};q.r=function(b,c){this.va.u(b,this.fa,c)};q.R=function(b,c,d){this.va.Aa(b,this.fa,c,d)};q.f=function(b,c){this.va.B(b,this.fa,c)};q.type=function(){return tg};
q.toString=function(){return this.va.toString()};q.Na=function(){return this.va.Na()};q.p=o("va");function vg(b){return 0===b.length?m:b.charCodeAt(0)===wg?vg(b.substring(1)):b.charAt(b.length-1)===wg?vg(b.substring(0,b.length-1)):-1!==b.indexOf(xg)}function Y(){}Y.prototype=new z;q=Y.prototype;q.H=Y;q.className="InterpretedFunction";q.c=function(b,c,d){this.name=D;this.v=b;this.o=c;this.body=pb(d);this.wd=this.qb=this.Z=this.bc=this.n=l;yg(this);return this};
q.nc=function(b){if(this.name===b)this.name=D};q.Ub=function(b){this.name=b;for(var b=new bf(this),c=0,d=this.body.length;c<d;c++)this.body[c].j(b)};q.Vb=function(){return name};q.Na=function(){if(this.qb!==l)return this.qb;this.name instanceof A?(this.qb=this.toString(),this.bc!==l&&(this.qb+=" in "+this.bc.Na())):this.qb=this.Vb().toString();return this.qb};
q.reduce=function(){var b;if(zg&&!this.V()&&!(this.v instanceof A)){var c="rainbow.function.interpreted.optimise.stack.Stack"+Qf(this.v,m),d=w[c];if(d===i)b=this;else try{var f=d.of1(this);f instanceof z||g(new TypeError);b=f}catch(h){h instanceof Error||g(h),g(new u("Couldn't instantiate "+c+": "+h,h))}}else b=this;return b};function yg(b){var c=[];Je(b,c);b.n=y(c);b.n.j(new Ag(b))}q.k=ba("bc");function Ag(b){this.e=b}Ag.prototype=new af;Ag.prototype.Sb=function(b){b.k(this.e)};
function Je(b,c){if(0===b.body.length)c.push(new G(D));else for(var d=0;d<b.body.length;d++){var f=d===b.body.length-1;b.body[d].m(c);f||c.push(new Zc("intermediate-fn-expression"))}}q=Y.prototype;q.hb=function(b,c){return 1===this.body.length&&this.uc(b,c)&&!this.ea(0)&&!this.V()};
q.uc=function(b,c){var d=this.o[b.name()],d=new V(b,0,d),f;if(!(f=c.Da()))if(!(f=c instanceof we))if(!(f=c instanceof N))if(!(f=c instanceof V)){d=new df(d);f=0;for(var h=this.body.length;f<h;f++)this.body[f].j(d);f=1>=d.Fb()}return f};q.V=function(){for(var b=0,c=this.body.length;b<c;b++){var d=this.body[b];if(d instanceof Y){if(xe(d))return j}else if(d.V())return j}return m};function Bg(b,c){for(var d=0,f=b.body.length;d<f;d++)if(b.body[d].ea(c))return j;return m}
q.Kb=function(){return!(this.v instanceof A)};q.ea=function(b){return this.v instanceof A?Bg(this,b):Bg(this,b+1)};q.wa=function(b){return this.ia(b,l)};q.ia=function(b,c){return this.B(b,c,D)};q.r=function(b,c){return this.u(b,l,c)};q.u=function(b,c,d){return this.B(b,c,new C(d,D))};q.R=function(b,c,d){return this.Aa(b,l,c,d)};q.Aa=function(b,c,d,f){return this.B(b,c,new C(d,new C(f,D)))};q.Ra=function(b,c,d,f){return this.Jb(b,l,c,d,f)};
q.Jb=function(b,c,d,f,h){return this.B(b,c,new C(d,new C(f,new C(h,D))))};q.f=function(b,c){return this.B(b,l,c)};q.B=function(){g(new u("error: invoke(vm, lc, args) not implemented in "+this.className+"; "+this))};q.m=function(b){xe(this)?b.push(new Sc(this)):b.push(new G(this))};q.Da=function(){return!xe(this)};function xe(b){var c=new cf;b.j(c);return-1<c.Bc}q.j=function(b){b.Tb(this);Uf(b,this.v,m);for(var c=0,d=this.body.length;c<d;c++)this.body[c].j(b);b.Zb(this);this.Z!==l&&this.Z.j(b)};
q.na=function(b){g(new u("Can't compare "+this+" to "+b))};q.toString=function(){if(this.v instanceof C&&this.v.a()===L("_")&&this.v.b()instanceof A&&1===this.body.length&&!(this.body[0]instanceof Ab)){if(this.body[0]instanceof A)return"[]";var b=this.body[0].toString();return"["+b.substring(1,b.length-1)+"]"}return y([L("fn"),this.v].concat(this.body)).toString()};q.type=function(){return tg};q.zb=function(b){return this.body[b]};q.Lc=function(){return this.body[this.body.length-1]};q.length=function(){return this.body.length};
function Cg(b,c,d){try{c.b().Ka()}catch(f){f instanceof Fa||g(f),Dg(b,d)}}function Dg(b,c){g(new u("args "+c+" doesn't match signature for "+b))}
q.jb=function(b,c,d){var f=this.o[b.name()];f===i&&g(new ReferenceError);var b=new V(b,0,f),h;for(var k=this.v,r=c,t=D,B=[];!k.N();){var M=cg(b,r,f,k.a());M!==l&&B.push(M);k=k.b()}k instanceof N&&(r=cg(b,r,f,k),r!==l&&(t=r));try{h=lb(B,t)}catch(ia){ia instanceof Error||g(ia),g(new u("couldn't curry params "+k+", got list "+B+" and last "+t))}k={};Hf(h,k,[0],m);t=h instanceof A;!t&&d&&(c=c.K(0));d=[];for(B=0;B<this.body.length;B++)d.push(this.body[B].Q(b,c,t,0,f).reduce());c=y(d);f=ag(h);return Pf(h,
k,c,f)};q.Q=function(b,c,d,f,h){for(var b=this.v instanceof A?b:b.K(0),d=Eg(this),k=[],r=0;r<this.body.length;r++)k.push(this.body[r].Q(b,c,m,f+1,h).reduce());b=y(k);d.body=pb(b);yg(d);return d};q.P=function(b,c,d){if(!(this.v instanceof A))return this;for(var f=Eg(this),h=[],k=0;k<this.body.length;k++)h.push(this.body[k].P(b,c,d).reduce());b=y(h);f.body=pb(b);yg(f);return f};
q.K=function(b){this.v instanceof A||b++;for(var c=Eg(this),d=[],f=0;f<this.body.length;f++)d.push(this.body[f].K(b));b=y(d);c.body=pb(b);yg(c);return c};function Eg(b){var c=new b.H,d;for(d in b)b.hasOwnProperty(d)&&(c[d]=b[d]);return c}function Fg(b,c,d){d.wb(c)||g(new u("error: "+b+" expects "+c+" args, got "+d))}function Rf(b,c,d){this.c(b,c,d)}Rf.prototype=new Y;Rf.prototype.H=Rf;Rf.prototype.className="SimpleArgs";
Rf.prototype.B=function(b,c,d){var f=0,h;for(h in this.o)f++;f=c=new x(f,c);for(h=this.v;!(h instanceof A);)if(h instanceof N){f.add(d);break}else f.add(d.a()),d=d.b(),h=h.b();T(b,c,this.n)};function Sf(b,c,d){this.c(b,c,d)}Sf.prototype=new Y;Sf.prototype.H=Sf;Sf.prototype.className="ComplexArgs";Sf.prototype.B=function(b,c,d){var f=0,h;for(h in this.o)f++;c=new x(f,c);F(b,new Gg(c,this.n,this));F(b,new Hg(c,this.v,d,this))};function Gg(b,c,d){this.e=l;this.fa=b;this.n=c;this.k(d)}Gg.prototype=new O;
Gg.prototype.className="ComplexArgs.Run";Gg.prototype.d=function(b){T(b,this.fa,this.n)};function Hg(b,c,d,f){this.e=l;this.fa=b;this.qa=c;this.ab=d;this.k(f)}Hg.prototype=new O;Hg.prototype.className="ComplexArgs.BuildComplex";
Hg.prototype.d=function(b){if(this.qa.N())this.qa instanceof N&&this.fa.add(this.ab);else{var c=this.qa.a(),d=this.ab.a();F(b,new Hg(this.fa,this.qa.b(),this.ab.b(),this.e));if(c instanceof N)this.fa.add(d);else if(Tf(c))if(c=c.b(),c instanceof C||g(new TypeError),this.ab instanceof A){F(b,new Ig(this.fa,this));var d=this.fa,f=[];c.b().a().m(f);T(b,d,y(f))}else this.fa.add(d);else{try{d.yb()}catch(h){h instanceof Fa||g(h),g(new u("Expected list argument for destructuring parameter "+c+", got "+d))}F(b,
new Hg(this.fa,c,d,this.e))}this.qa=this.qa.b();this.ab=this.ab.b()}};function Ig(b,c){this.e=l;this.fa=b;this.k(c)}Ig.prototype=new O;Ig.prototype.className="ComplexArgs.AddToLc";Ig.prototype.d=function(b){this.fa.add(S(b))};function Tf(b){return!(b instanceof C)?m:b.a()===Jg}var Jg=L("o");function Kg(){}Kg.prototype=new Y;q=Kg.prototype;q.H=Kg;q.className="StackFunctionSupport";q.hb=function(b,c){return this.uc(b,c)&&!this.ea(0)};
q.uc=function(b,c){var d=this.o[b.name()],d=new X(b,d);return c.Da()||c instanceof we||c instanceof N||1===this.body.length&&this.body[0]instanceof X&&ae(d,this.body[0])};q.Kb=p(m);
q.jb=function(b,c){var d=this.o[b.name()],f=new X(b,d),h;for(var k=this.v,r=D,t=[];!k.N();){var B=bg(f,c,d,k.a());B!==l&&t.push(B);k=k.b()}k instanceof N&&(B=bg(f,c,d,k),B!==l&&(r=B));try{h=lb(t,r)}catch(M){M instanceof Error||g(M),g(new u("couldn't curry params "+k+", got list "+t+" and last "+r))}k={};Hf(h,k,[0],m);r=[];for(t=0;t<this.body.length;t++)r.push(this.body[t].P(f,c,d).reduce());var d=y(r),f=ag(h),ia;r=Qf(h,m);if(""===r)ia=Pf(h,k,d,f);else{f="rainbow.function.interpreted.optimise.stack.Stack"+
r;r=w[f];r===i&&g(new u("no stack-based function implementation for "+h+"; couldn't find "+f));try{var Ca=r.of3(h,k,d);Ca instanceof z||g(new TypeError);ia=Ca}catch(sb){sb instanceof Error||g(sb),g(new u("Couldn't instantiate "+f+": "+sb,sb))}}return ia};function Lg(b,c){for(var d=Array(~~c.length),f=0;f<c.length;f++)d[f]=c[f].W(b);return y(d)}function Ie(){}w["rainbow.function.interpreted.optimise.Bind"]=Ie;Ie.prototype=new Y;Ie.prototype.H=Ie;Ie.prototype.className="Bind";
Ie.of=function(b,c,d){return(new Ie).c(b,c,d)};Ie.prototype.ia=function(b,c){T(b,c,this.n)};Ie.prototype.B=function(b,c,d){try{d.Ka()}catch(f){f instanceof Ga||g(f),g(new u("expected 0 args, got "+d))}T(b,c,this.n)};function Mg(){}w["rainbow.function.interpreted.optimise.Bind_A"]=Mg;Mg.prototype=new Y;Mg.prototype.H=Mg;Mg.prototype.className="Bind_A";Mg.of=function(b,c,d){return(new Mg).c(b,c,d)};Mg.prototype.ia=function(){g(new u("function "+this+" expects 1 arg, got none"))};
Mg.prototype.u=function(b,c,d){var f=0,h;for(h in this.o)f++;c=new x(f,c);c.add(d);T(b,c,this.n)};Mg.prototype.B=function(b,c,d){d instanceof A&&this.ia(b,c);try{d.b().Ka()}catch(f){f instanceof Ga||g(f),g(new u("expected 1 arg, got "+d+" calling "+this))}this.u(b,c,d.a())};function Ng(){}w["rainbow.function.interpreted.optimise.Bind_A_A"]=Ng;Ng.prototype=new Y;Ng.prototype.H=Ng;Ng.prototype.className="Bind_A_A";Ng.of=function(b,c,d){return(new Ng).c(b,c,d)};Ng.prototype.ia=function(){g(new u("error: expected 2 args, got none"))};
Ng.prototype.u=function(b,c,d){g(new u("error: expected 2 args, got 1: "+d))};Ng.prototype.Aa=function(b,c,d,f){var h=0,k;for(k in this.o)h++;c=new x(h,c);c.add(d);c.add(f);T(b,c,this.n)};Ng.prototype.B=function(b,c,d){try{d.b().b().Ka()}catch(f){f instanceof Ga||g(f),g(new u("expected 2 args, got "+d))}this.Aa(b,c,d.a(),d.b().a())};function Og(){}w["rainbow.function.interpreted.optimise.Bind_A_A_A"]=Og;Og.prototype=new Y;Og.prototype.H=Og;Og.prototype.className="Bind_A_A_A";
Og.of=function(b,c,d){return(new Og).c(b,c,d)};Og.prototype.Jb=function(b,c,d,f,h){var k=0,r;for(r in this.o)k++;c=new x(k,c);c.add(d);c.add(f);c.add(h);T(b,c,this.n)};Og.prototype.B=function(b,c,d){Cg(this,d.b().b().b(),d);this.Jb(b,c,d.a(),d.b().a(),d.b().b().a())};function Pg(){}w["rainbow.function.interpreted.optimise.Bind_A_A_R"]=Pg;Pg.prototype=new Y;Pg.prototype.H=Pg;Pg.prototype.className="Bind_A_A_R";Pg.of=function(b,c,d){return(new Pg).c(b,c,d)};Pg.prototype.ia=function(){g(new u("error: expected at least 2 arg, got none"))};
Pg.prototype.u=function(b,c,d){g(new u("error: expected at least 2 args, got one: "+d))};Pg.prototype.B=function(b,c,d){var f=0,h;for(h in this.o)f++;c=new x(f,c);c.add(d.a());c.add(d.b().a());c.add(d.b().b());T(b,c,this.n)};function Qg(){}w["rainbow.function.interpreted.optimise.Bind_A_Obound"]=Qg;Qg.prototype=new Y;Qg.prototype.H=Qg;Qg.prototype.className="Bind_A_Obound";
Qg.of=function(b,c,d){c=(new Qg).c(b,c,d);d=b.b().a().b().b().a();d instanceof V||g(new TypeError);c.S=d;b=b.b().a().b().a();b instanceof N||g(new TypeError);if(c.hb(b,c.S))try{var f=c.jb(b,c.S,m);f instanceof Y||g(new TypeError);c.Z=f}catch(h){h instanceof Error||g(h),za(h)}return c};Qg.prototype.u=function(b,c,d){if(this.Z!==l)this.Z.u(b,c,d);else{var f=0,h;for(h in this.o)f++;c=new x(f,c);c.add(d);c.add(this.S.t(c));T(b,c,this.n)}};
Qg.prototype.Aa=function(b,c,d,f){var h=0,k;for(k in this.o)h++;c=new x(h,c);c.add(d);c.add(f);T(b,c,this.n)};Qg.prototype.B=function(b,c,d){d instanceof A&&Dg(this,d);var f=d.a(),h=d.b();h instanceof A?this.u(b,c,f):(Cg(this,h.b(),d),this.Aa(b,c,f,h.a()))};function Rg(){}w["rainbow.function.interpreted.optimise.Bind_A_Oliteral"]=Rg;Rg.prototype=new Y;Rg.prototype.H=Rg;Rg.prototype.className="Bind_A_Oliteral";
Rg.of=function(b,c,d){c=(new Rg).c(b,c,d);c.S=b.b().a().b().b().a();b=b.b().a().b().a();b instanceof N||g(new TypeError);if(c.hb(b,c.S))try{var f=c.jb(b,c.S,m);f instanceof Y||g(new TypeError);c.Z=f}catch(h){h instanceof Error||g(h),za(h)}return c};Rg.prototype.u=function(b,c,d){if(this.Z!==l)this.Z.u(b,c,d);else{var f=0,h;for(h in this.o)f++;c=new x(f,c);c.add(d);c.add(this.S);T(b,c,this.n)}};Rg.prototype.Aa=function(b,c,d,f){var h=0,k;for(k in this.o)h++;c=new x(h,c);c.add(d);c.add(f);T(b,c,this.n)};
Rg.prototype.B=function(b,c,d){d instanceof A&&Dg(this,d);var f=d.a(),h=d.b();h instanceof A?this.u(b,c,f):(Cg(this,h.b(),d),this.Aa(b,c,f,h.a()))};function Sg(){}w["rainbow.function.interpreted.optimise.Bind_A_Oother"]=Sg;Sg.prototype=new Y;Sg.prototype.H=Sg;Sg.prototype.className="Bind_A_Oother";Sg.of=function(b,c,d){c=(new Sg).c(b,c,d);d=[];b.b().a().b().b().a().m(d);c.Ac=y(d);return c};
Sg.prototype.u=function(b,c,d){var f=0,h;for(h in this.o)f++;c=new x(f,c);c.add(d);F(b,new Tg(c,this.n,this));T(b,c,this.Ac)};Sg.prototype.Aa=function(b,c,d,f){var h=0,k;for(k in this.o)h++;c=new x(h,c);c.add(d);c.add(f);T(b,c,this.n)};Sg.prototype.B=function(b,c,d){d instanceof A&&Dg(this,d);var f=d.a(),h=d.b();h instanceof A?this.u(b,c,f):(Cg(this,h.b(),d),this.Aa(b,c,f,h.a()))};function Ug(){}w["rainbow.function.interpreted.optimise.Bind_A_R"]=Ug;Ug.prototype=new Y;Ug.prototype.H=Ug;
Ug.prototype.className="Bind_A_R";Ug.of=function(b,c,d){return(new Ug).c(b,c,d)};Ug.prototype.ia=function(){g(new u("error: expected at least 1 arg, got none"))};Ug.prototype.B=function(b,c,d){var f=0,h;for(h in this.o)f++;c=new x(f,c);c.add(d.a());c.add(d.b());T(b,c,this.n)};function Vg(){}w["rainbow.function.interpreted.optimise.Bind_D_A_A_A_d"]=Vg;Vg.prototype=new Y;Vg.prototype.H=Vg;Vg.prototype.className="Bind_D_A_A_A_d";Vg.of=function(b,c,d){return(new Vg).c(b,c,d)};
Vg.prototype.u=function(b,c,d){var f=0,h;for(h in this.o)f++;c=new x(f,c);d instanceof C||g(new TypeError);c.add(d.a());d=d.b();d instanceof C||g(new TypeError);c.add(d.a());d=d.b();d instanceof C||g(new TypeError);c.add(d.a());T(b,c,this.n)};Vg.prototype.B=function(b,c,d){try{d.b().Ka()}catch(f){f instanceof Ga||g(f),g(new u("expected 1 arg, got extra "+d.b()+" calling "+this))}this.u(b,c,d.a())};function Wg(){}w["rainbow.function.interpreted.optimise.Bind_D_A_A_d"]=Wg;Wg.prototype=new Y;
Wg.prototype.H=Wg;Wg.prototype.className="Bind_D_A_A_d";Wg.of=function(b,c,d){return(new Wg).c(b,c,d)};Wg.prototype.u=function(b,c,d){var f=0,h;for(h in this.o)f++;c=new x(f,c);d instanceof C||g(new TypeError);c.add(d.a());d=d.b();d instanceof C||g(new TypeError);c.add(d.a());T(b,c,this.n)};Wg.prototype.B=function(b,c,d){Cg(this,d.b(),d);this.u(b,c,d.a())};function Xg(){}w["rainbow.function.interpreted.optimise.Bind_Obound"]=Xg;Xg.prototype=new Y;Xg.prototype.H=Xg;Xg.prototype.className="Bind_Obound";
Xg.of=function(b,c,d){c=(new Xg).c(b,c,d);b=b.a();b instanceof C||g(new TypeError);b=b.b().b().a();b instanceof V||g(new TypeError);c.cd=b;return c};Xg.prototype.ia=function(b,c){var d=0,f;for(f in this.o)d++;c=new x(d,c);c.add(this.cd.t(c));T(b,c,this.n)};Xg.prototype.u=function(b,c,d){var f=0,h;for(h in this.o)f++;c=new x(f,c);c.add(d);T(b,c,this.n)};
Xg.prototype.B=function(b,c,d){if(d instanceof A)this.ia(b,c);else{try{d.b().Ka()}catch(f){f instanceof Ga||g(f),g(new u("expected 0 or 1 args, got extra "+d.b()+" calling "+this))}this.u(b,c,d.a())}};function Yg(){}w["rainbow.function.interpreted.optimise.Bind_Oliteral"]=Yg;Yg.prototype=new Y;Yg.prototype.H=Yg;Yg.prototype.className="Bind_Oliteral";
Yg.of=function(b,c,d){c=(new Yg).c(b,c,d);c.S=b.a().b().b().a();b=b.a().b().a();b instanceof N||g(new TypeError);if(c.hb(b,c.S))b=c.jb(b,c.S,m),b instanceof Y||g(new TypeError),c.Z=b;return c};Yg.prototype.ia=function(b,c){if(this.Z!==l)this.Z.ia(b,c);else{var d=0,f;for(f in this.o)d++;c=new x(d,c);c.add(this.S);T(b,c,this.n)}};Yg.prototype.u=function(b,c,d){var f=0,h;for(h in this.o)f++;c=new x(f,c);c.add(d);T(b,c,this.n)};
Yg.prototype.B=function(b,c,d){if(d instanceof A)this.ia(b,c);else{try{d.b().Ka()}catch(f){f instanceof Ga||g(f),g(new u("expected 0 or 1 args, got extra "+d.b()+" calling "+this))}this.u(b,c,d.a())}};function Zg(){}w["rainbow.function.interpreted.optimise.Bind_Oother"]=Zg;Zg.prototype=new Y;Zg.prototype.H=Zg;Zg.prototype.className="Bind_Oother";Zg.of=function(b,c,d){var f=(new Zg).c(b,c,d);f.c(b,c,d);f.S=b.a().b().b().a();b=[];f.S.m(b);f.Ac=y(b);return f};
Zg.prototype.ia=function(b,c){var d=0,f;for(f in this.o)d++;c=new x(d,c);F(b,new Tg(c,this.n,this));T(b,c,this.Ac)};Zg.prototype.u=function(b,c,d){var f=0,h;for(h in this.o)f++;c=new x(f,c);c.add(d);T(b,c,this.n)};Zg.prototype.B=function(b,c,d){if(d instanceof A)this.ia(b,c);else{try{d.b().Ka()}catch(f){f instanceof Ga||g(f),g(new u("expected 0 or 1 args, got extra "+d.b()+" calling "+this))}this.u(b,c,d.a())}};function $g(){}w["rainbow.function.interpreted.optimise.Bind_R"]=$g;$g.prototype=new Y;
$g.prototype.H=$g;$g.prototype.className="Bind_R";$g.of=function(b,c,d){return(new $g).c(b,c,d)};$g.prototype.B=function(b,c,d){var f=0,h;for(h in this.o)f++;c=new x(f,c);c.add(d);T(b,c,this.n)};function ah(){}w["rainbow.function.interpreted.optimise.stack.Stack_A"]=ah;ah.prototype=new Kg;ah.prototype.H=ah;ah.prototype.className="Stack_A";ah.of1=function(b){return ah.of3(b.v,b.o,Lg(b.o,b.body))};ah.of3=function(b,c,d){return(new ah).c(b,c,d)};ah.prototype.r=function(b,c){U(b,l,this.n,[c])};
ah.prototype.u=function(b,c,d){U(b,c,this.n,[d])};ah.prototype.f=function(b,c){Fg(this,1,c);this.r(b,c.a())};ah.prototype.B=function(b,c,d){Fg(this,1,d);this.u(b,c,d.a())};function bh(){}w["rainbow.function.interpreted.optimise.stack.Stack_A_A"]=bh;bh.prototype=new Kg;bh.prototype.H=bh;bh.prototype.className="Stack_A_A";bh.of1=function(b){return bh.of3(b.v,b.o,Lg(b.o,b.body))};bh.of3=function(b,c,d){return(new bh).c(b,c,d)};bh.prototype.R=function(b,c,d){U(b,l,this.n,[c,d])};
bh.prototype.Aa=function(b,c,d,f){U(b,c,this.n,[d,f])};bh.prototype.f=function(b,c){Fg(this,2,c);this.R(b,c.a(),c.b().a())};bh.prototype.B=function(b,c,d){Fg(this,2,d);this.Aa(b,c,d.a(),d.b().a())};function ch(){}w["rainbow.function.interpreted.optimise.stack.Stack_A_A_A"]=ch;ch.prototype=new Kg;ch.prototype.H=ch;ch.prototype.className="Stack_A_A_A";ch.of1=function(b){return ch.of3(b.v,b.o,Lg(b.o,b.body))};ch.of3=function(b,c,d){return(new ch).c(b,c,d)};
ch.prototype.Ra=function(b,c,d,f){U(b,l,this.n,[c,d,f])};ch.prototype.Jb=function(b,c,d,f,h){U(b,c,this.n,[d,f,h])};ch.prototype.f=function(b,c){Fg(this,3,c);this.Ra(b,c.a(),c.b().a(),c.b().b().a())};ch.prototype.B=function(b,c,d){Fg(this,3,d);this.Jb(b,c,d.a(),d.b().a(),d.b().b().a())};function dh(){}w["rainbow.function.interpreted.optimise.stack.Stack_A_A_A_A"]=dh;dh.prototype=new Kg;dh.prototype.H=dh;dh.prototype.className="Stack_A_A_A_A";dh.of1=function(b){return dh.of3(b.v,b.o,Lg(b.o,b.body))};
dh.of3=function(b,c,d){return(new dh).c(b,c,d)};dh.prototype.f=function(b,c){Fg(this,4,c);var d=c.a(),f=c.b().a(),h=c.b().b().a(),k=c.b().b().b().a();U(b,l,this.n,[d,f,h,k])};dh.prototype.B=function(b,c,d){Fg(this,4,d);var f=d.a(),h=d.b().a(),k=d.b().b().a(),d=d.b().b().b().a();U(b,c,this.n,[f,h,k,d])};function eh(){}w["rainbow.function.interpreted.optimise.stack.Stack_A_A_R"]=eh;eh.prototype=new Kg;eh.prototype.H=eh;eh.prototype.className="Stack_A_A_R";
eh.of1=function(b){return eh.of3(b.v,b.o,Lg(b.o,b.body))};eh.of3=function(b,c,d){return(new eh).c(b,c,d)};eh.prototype.B=function(b,c,d){U(b,c,this.n,[d.a(),d.b().a(),d.b().b()])};function fh(){}w["rainbow.function.interpreted.optimise.stack.Stack_A_R"]=fh;fh.prototype=new Kg;fh.prototype.H=fh;fh.prototype.className="Stack_A_R";fh.of1=function(b){return fh.of3(b.v,b.o,Lg(b.o,b.body))};fh.of3=function(b,c,d){return(new fh).c(b,c,d)};fh.prototype.B=function(b,c,d){U(b,c,this.n,[d.a(),d.b()])};
function gh(){}w["rainbow.function.interpreted.optimise.stack.Stack_R"]=gh;gh.prototype=new Kg;gh.prototype.H=gh;gh.prototype.className="Stack_R";gh.of1=function(b){return gh.of3(b.v,b.o,Lg(b.o,b.body))};gh.of3=function(b,c,d){return(new gh).c(b,c,d)};gh.prototype.B=function(b,c,d){U(b,c,this.n,[d])};function hh(){}w["rainbow.function.interpreted.optimise.stack.Stack_D_A_A_A_A_d"]=hh;hh.prototype=new Kg;hh.prototype.H=hh;hh.prototype.className="Stack_D_A_A_A_A_d";
hh.of1=function(b){return hh.of3(b.v,b.o,Lg(b.o,b.body))};hh.of3=function(b,c,d){return(new hh).c(b,c,d)};hh.prototype.r=function(b,c){U(b,l,this.n,[c.a(),c.b().a(),c.b().b().a(),c.b().b().b().a()])};hh.prototype.u=function(b,c,d){U(b,c,this.n,[d.a(),d.b().a(),d.b().b().a(),d.b().b().b().a()])};hh.prototype.f=function(b,c){Fg(this,1,c);this.r(b,c.a())};hh.prototype.B=function(b,c,d){Fg(this,1,d);this.u(b,c,d.a())};function ih(){}w["rainbow.function.interpreted.optimise.stack.Stack_D_A_A_d"]=ih;
ih.prototype=new Kg;ih.prototype.H=ih;ih.prototype.className="Stack_D_A_A_d";ih.of1=function(b){return ih.of3(b.v,b.o,Lg(b.o,b.body))};ih.of3=function(b,c,d){return(new ih).c(b,c,d)};ih.prototype.r=function(b,c){U(b,l,this.n,[c.a(),c.b().a()])};ih.prototype.u=function(b,c,d){U(b,c,this.n,[d.a(),d.b().a()])};ih.prototype.f=function(b,c){Fg(this,1,c);this.r(b,c.a())};ih.prototype.B=function(b,c,d){Fg(this,1,d);this.u(b,c,d.a())};function jh(){}
w["rainbow.function.interpreted.optimise.stack.Stack_A_Oliteral"]=jh;jh.prototype=new Kg;jh.prototype.H=jh;jh.prototype.className="Stack_A_Oliteral";jh.of1=function(b){var c=new jh,d=Lg(b.o,b.body),b=c.c(b.v,b.o,d);b.S=b.v.b().a().b().b().a();c=b.v.b().a().b().a();c instanceof N||g(new TypeError);if(b.hb(c,b.S))c=b.jb(c,b.S,m),c instanceof Y||g(new TypeError),b.Z=c;return b};jh.of3=function(b,c,d){c=(new jh).c(b,c,d);c.S=b.a().b().b().a();return c};q=jh.prototype;
q.r=function(b,c){this.Z!==l?this.Z.r(b,c):U(b,l,this.n,[c,this.S])};q.R=function(b,c,d){U(b,l,this.n,[c,d])};q.u=function(b,c,d){this.Z!==l?this.Z.u(b,c,d):U(b,c,this.n,[d,this.S])};q.Aa=function(b,c,d,f){U(b,c,this.n,[d,f])};q.f=function(b,c){if(c instanceof A)Dg(this,c);else{var d=c.a();c.b()instanceof A?this.r(b,d):this.R(b,d,c.b().a())}};q.B=function(b,c,d){if(d instanceof A)Dg(this,d);else{var f=d.a();d.b()instanceof A?this.u(b,c,f):this.vd(b,c,f,d.b().a())}};function kh(){}
w["rainbow.function.interpreted.optimise.stack.Stack_Oliteral"]=kh;kh.prototype=new Kg;kh.prototype.H=kh;kh.prototype.className="Stack_Oliteral";kh.of1=function(b){var c=new kh,d=Lg(b.o,b.body),b=c.c(b.v,b.o,d);b.S=b.v.a().b().b().a();c=b.v.a().b().a();c instanceof N||g(new TypeError);if(b.hb(c,b.S))c=b.jb(c,b.S,m),c instanceof Y||g(new TypeError),b.Z=c;return b};kh.of3=function(b,c,d){c=(new kh).c(b,c,d);c.S=b.a().b().b().a();return c};q=kh.prototype;
q.wa=function(b){this.Z!==l?this.Z.r(b):U(b,l,this.n,[this.S])};q.r=function(b,c){U(b,l,this.n,[c])};q.ia=function(b,c){this.Z!==l?this.Z.u(b,c):U(b,c,this.n,[this.S])};q.u=function(b,c,d){U(b,c,this.n,[d])};q.f=function(b,c){c instanceof A?this.wa(b):(Fg(this,1,c),this.r(b,c.a()))};q.B=function(b,c,d){d instanceof A?this.ia(b):(Fg(this,1,d),this.u(b,c,d.a()))};function lh(){this.c("macex")}lh.prototype=new $;lh.prototype.className="Macex";
lh.prototype.f=function(b,c){if(c instanceof A)E(b,D);else{var d=c.a();if(d instanceof C){var f=d.a();f instanceof N?f.bound()?(f=f.value(),f=hc(f),f===l?E(b,d):(d=d.b(),d instanceof C||g(new TypeError),F(b,new mh(this)),Ha(f,b,d))):E(b,d):E(b,d)}else E(b,d)}};function mh(b){this.e=l;this.k(b)}mh.prototype=new O;mh.prototype.className="Macex.Again";mh.prototype.d=function(b){this.e.f(b,new C(S(b),D))};function nh(){this.c("uniq")}nh.prototype=new $;nh.prototype.className="Uniq";
nh.prototype.wa=function(b){E(b,L("gs"+ ++oh))};nh.prototype.h=function(b){try{b.Ka()}catch(c){c instanceof Ga||g(new u("uniq: expects no args, got "+b))}return L("gs"+ ++oh)};var oh=0;function ph(){this.c("details")}ph.prototype=new $;ph.prototype.className="Details";ph.prototype.h=function(b){b=b.a();try{b instanceof Aa||g(new TypeError)}catch(c){c instanceof TypeError||g(c),g(new u("Wrong argument type: "+this+" expected an exception, got "+b))}return b.message()};function qh(){this.c("err")}
qh.prototype=new $;qh.prototype.className="Err";qh.prototype.h=function(b){g(new u(Ob(b.a(),this).value()))};function rh(){this.c("on-err")}rh.prototype=new $;rh.prototype.className="OnErr";rh.prototype.h=function(b){var c=new Rc(b.a(),vm.L);c.k(this);F(vm,c);b.b().a().f(vm,D)};function sh(){this.c("protect");this.md=new th(this)}sh.prototype=new $;sh.prototype.className="Protect";function th(b){this.kd=b}th.prototype=new af;th.prototype.Sb=function(b){b.k(this.kd)};
sh.prototype.f=function(b,c){var d=new C(new Uc(c.b().a()),new C(new Zc("clear up 'protect/after' return value"),D));d.j(this.md);T(b,l,d);c.a().f(b,D)};function uh(){this.c("apply")}uh.prototype=new $;q=uh.prototype;q.className="Apply";q.wa=function(){g(new u("apply: expects at least 2 args, got none"))};q.r=function(b,c){g(new u("apply: expects at least 2 args, got "+c))};q.R=function(b,c,d){d instanceof C||g(new TypeError);c.f(b,d)};q.Ra=function(b,c,d,f){c.f(b,new C(d,f))};
q.f=function(b,c){var d=c.a(),f=c.b();f instanceof C||g(new TypeError);d.f(b,vh(this,f))};function vh(b,c){return c.b()instanceof A?rb(c.a(),b):new C(c.a(),vh(b,rb(c.b(),b)))}function wh(){this.c("eval")}wh.prototype=new $;wh.prototype.className="Eval";wh.prototype.f=function(b,c){F(b,new xh(this));xf(b,c.a(),[])};function xh(b){this.e=l;this.k(b)}xh.prototype=new O;xh.prototype.className="Eval.ReduceAndExecute";xh.prototype.d=function(b){var c=[];S(b).reduce().m(c);T(b,l,y(c))};
function yh(){this.c("ssexpand")}yh.prototype=new $;yh.prototype.className="SSExpand";yh.prototype.h=function(b){return Cf(cb(b.a(),this))};
function Cf(b){b=b.name();if(/:/.test(b)||/^~/.test(b)){b=b.split(":");if(1===b.length)b=zh(b[0]);else{for(var c=[L("compose")],d=0,f=b.length;d<f;d++)c.push(zh(b[d]));b=lb(c,D)}return b}if(vg(b)){c=[L("andf")];d=0;for(b=Ah(b).length;d<b;d++)f=Oa(s),f instanceof N||g(new TypeError),c.add(Bh(f));return y(c)}if(/[.!]/.test(b)){for(var c=b.replace(/#/g,"#h").replace(/%/g,"#p").replace(/([.!])/g,"%$1%").split(/%+/),d=[],f=m,h=0,k=c.length;h<k;h++)if(""!==c[h]){var r=Oa(c[h].replace(/#p/g,"%").replace(/#h/g,
"#"));r===Sa||r===eb?(f&&g(new u("Bad syntax "+b)),f=j):f=m;d.unshift(r)}f&&d.unshift(L("#<eof>"));return Ch(d,0)}g(new u("Unknown syntax "+b))}function Ah(b){if(0===b.length)return[""];if(b.charCodeAt(0)===wg)return b=Ah(b.substring(1)),b[0]=xg+b[0],b;return b.charCodeAt(b.length-1)===wg?(b=Ah(b.substring(0,b.length-1)),b[b.length-1]+=xg,b):b.split(xg)}
function Ch(b,c){var d=Bh(b[c++]),f=l;c<b.length&&(f=b[c++],f instanceof N||g(new TypeError));d=f===eb?y([L("quote"),d]):d;return c<b.length?y([Ch(b,c),d]):f!==l?y([L("get"),d]):d}function Dh(b){try{return Ka(b)}catch(c){c instanceof Ba||g(c),g(new u("Couldn't read value of symbol: "+b,c))}}function Bh(b){if(b instanceof A)return b;b instanceof N||g(new TypeError);return Dh(b.name())}function zh(b){return/^~/.test(b)?y([L("complement"),Dh(b.substring(1))]):Dh(b)}var xg="&",wg=38;
function Eh(){this.c("ssyntax")}Eh.prototype=new $;Eh.prototype.className="SSyntax";Eh.prototype.h=function(b){return b.a()instanceof N&&Bf(b.a())?Wa:D};function Bf(b){var c;c=b.name();if(!(c=/:/.test(c)||/^~/.test(c)))if(!(c=vg(b.name())))c=/[.!]/.test(b.name());return c}function Fh(){this.c("java-debug")}Fh.prototype=new $;Fh.prototype.className="JavaDebug";Fh.prototype.h=function(b){return b.a()};function Gh(){this.c("java-invoke")}Gh.prototype=new $;Gh.prototype.className="JavaInvoke";
Gh.prototype.h=function(b){var c;var d=b.a();try{d instanceof nc||g(new TypeError),c=d}catch(f){f instanceof TypeError||g(f),g(new u("Wrong argument type: "+this+" expected a java-object, got "+d))}var d=cb(b.b().a(),this).name(),h=b.b().b().a();h instanceof C||g(new TypeError);b=rc;c=c.zc;var k=Object(c)[d];"[object Function]"!==Object.prototype.toString.call(k)&&g(new u("Field "+d+" is not a method on "+c));d=k.apply(c,pc(h));return b(d)};function Hh(){this.c("car")}Hh.prototype=new $;
Hh.prototype.className="Car";Hh.prototype.r=function(b,c){E(b,c.a())};Hh.prototype.h=function(b){ug(b,1,this.className);return b.a().a()};function Ih(){this.c("cdr")}Ih.prototype=new $;Ih.prototype.className="Cdr";Ih.prototype.r=function(b,c){E(b,c.b())};Ih.prototype.h=function(b){ug(b,1,this.className);return b.a().b()};function Jh(){this.c("cons")}Jh.prototype=new $;Jh.prototype.className="Cons";Jh.prototype.R=function(b,c,d){E(b,new C(c,d))};
Jh.prototype.h=function(b){ug(b,2,this.className);return new C(b.a(),b.b().a())};function Kh(){this.c("len")}Kh.prototype=new $;Kh.prototype.className="Len";Kh.prototype.h=function(b){Kb(b,this.className,1);return new R(b.a().ha(),1)};function Lh(){this.c("newstring")}Lh.prototype=new $;Lh.prototype.className="NewString";
Lh.prototype.h=function(b){var c=b.a();c instanceof Q||g(new TypeError);var d=Fb;b.b()instanceof A||(d=b.b().a(),d instanceof P||g(new TypeError));for(var b=[],f=0;f<c.G();f++)b.push(d.value());return H(b.join(""))};function Mh(){this.c("scar")}Mh.prototype=new $;Mh.prototype.className="Scar";Mh.prototype.R=function(b,c,d){E(vm,c.Qb(d))};Mh.prototype.h=function(b){return b.a().Qb(b.b().a())};function Nh(){this.c("scdr")}Nh.prototype=new $;Nh.prototype.className="Scdr";
Nh.prototype.h=function(b){var c=b.a();c instanceof C||g(new TypeError);b=b.b().a();c.Dc(b);return b};function Oh(){this.c("acos")}Oh.prototype=new $;Oh.prototype.className="Acos";Oh.prototype.h=function(b){Kb(b,this.className,1);b=Math.acos(fb(b.a(),this).C());return new J(b)};function Ph(){this.c("+")}Ph.prototype=new $;q=Ph.prototype;q.className="Add";q.wa=function(b){E(b,dc)};q.r=function(b,c){E(b,c)};q.R=function(b,c,d){E(b,c.add(d))};q.Ra=function(b,c,d,f){E(b,c.add(d).add(f))};
q.h=function(b){if(b instanceof A)return dc;for(var c=b.a(),b=b.b();!(b instanceof A);)c=c.add(b.a()),b=b.b();return c};function Qh(){this.c("asin")}Qh.prototype=new $;Qh.prototype.className="Asin";Qh.prototype.h=function(b){Kb(b,this.className,1);b=Math.asin(fb(b.a(),this).C());return new J(b)};function Rh(){this.c("atan")}Rh.prototype=new $;Rh.prototype.className="Atan";Rh.prototype.h=function(b){Kb(b,this.className,1);b=Math.atan(fb(b.a(),this).C());return new J(b)};
function Sh(){this.c("complex-parts")}Sh.prototype=new $;Sh.prototype.className="ComplexParts";Sh.prototype.h=function(b){Kb(b,this.className,1);b=Yb(b.a(),this);return y([new J(b.T),new J(b.M)])};function Th(){this.c("cos")}Th.prototype=new $;Th.prototype.className="Cosine";Th.prototype.h=function(b){Kb(b,this.className,1);b=Math.cos(fb(b.a(),this).C());return new J(b)};function Uh(){this.c("/")}Uh.prototype=new $;Uh.prototype.className="Divide";
Uh.prototype.h=function(b){b instanceof A&&g(new u("Function `/` expected at least 1 arg"));return Vh(b).tc(b)};function Wh(){this.c("expt")}Wh.prototype=new $;Wh.prototype.className="Expt";Wh.prototype.h=function(b){Kb(b,this.className,2);var c=b.a();c instanceof Q||g(new TypeError);b=b.b().a();b instanceof Q||g(new TypeError);if(c instanceof K)return ac(c,b);if(b instanceof K)return ac(new K(c.C(),0),b);c=c.C();b=b.C();return new J(Math.pow(c,b))};function Xh(){this.c("log")}Xh.prototype=new $;
Xh.prototype.className="Logarithm";Xh.prototype.h=function(b){Kb(b,this.className,1);b=fb(b.a(),this);return b instanceof K?b.log():new J(Math.log(b.C()))};function Yh(){this.c("make-complex")}Yh.prototype=new $;Yh.prototype.className="MakeComplex";Yh.prototype.h=function(b){Kb(b,this.className,2);var c=fb(b.a(),this),b=fb(b.b().a(),this);return new K(c.C(),b.C())};function Zh(){for(;;){var b=Math.floor(9007199254740992*Math.gd());if(9007199254740992>b)return b}}
function Vh(b){if(b instanceof A)return $h;if(b.a()instanceof J)return ai;if(b.a()instanceof K)return complexOps;b.b()instanceof C||g(new TypeError);return Vh(b.b())}function bi(){}bi.prototype.lc=i;bi.prototype.multiply=i;bi.prototype.tc=i;function ci(){}ci.prototype=new bi;ci.prototype.lc=function(b){return Qa(di(this,b))};function di(b,c){if(c instanceof A)return 0;var d=c.a();d instanceof Q||g(new TypeError);var d=d.C(),f=c.b();f instanceof C||g(new TypeError);return d+di(b,f)}
ci.prototype.multiply=function(b){return Qa(ei(this,b))};ci.prototype.tc=function(b){var c=b.b(),d=b.a();d instanceof Q||g(new TypeError);c=c instanceof A?1/d.C():d.C();b=b.b();b instanceof C||g(new TypeError);return Qa(c/ei(this,b))};function ei(b,c){if(c instanceof A)return 1;var d=c.a();d instanceof Q||g(new TypeError);var d=d.C(),f=c.b();f instanceof C||g(new TypeError);f=ei(b,f);return d*f}var ai=new ci;function fi(){}fi.prototype=new bi;
fi.prototype.lc=function(b){if(b instanceof A)return dc;var c=b.a();c instanceof R||g(new TypeError);b=b.b();b instanceof C||g(new TypeError);return c.Nb(this.lc(b))};fi.prototype.multiply=function(b){if(b instanceof A)return ec;var c=b.a();c instanceof R||g(new TypeError);b=b.b();b instanceof C||g(new TypeError);return cc(c,this.multiply(b))};
fi.prototype.tc=function(b){var c=b.b(),d=b.a();d instanceof R||g(new TypeError);c=c instanceof A?new R(d.U,d.ca):d;b=b.b();b instanceof C||g(new TypeError);b=this.multiply(b);b=new R(b.U,b.ca);return cc(c,b)};var $h=new fi;function gi(){this.c("mod")}gi.prototype=new $;gi.prototype.className="Mod";gi.prototype.R=function(b,c,d){c instanceof Q||g(new TypeError);d instanceof Q||g(new TypeError);E(b,c.Oc(d))};gi.prototype.f=function(b,c){Kb(c,this.className,2);this.R(b,c.a(),c.b().a())};
function hi(){this.c("*")}hi.prototype=new $;q=hi.prototype;q.className="Multiply";q.wa=function(b){E(b,ec)};q.r=function(b,c){E(b,c)};q.R=function(b,c,d){E(b,c.multiply(d))};q.Ra=function(b,c,d,f){E(b,c.multiply(d).multiply(f))};q.h=function(b){if(b instanceof A)return ec;for(var c=b.a(),b=b.b();!(b instanceof A);)c=c.multiply(b.a()),b=b.b();return c};function ii(){this.c("polar-coordinates")}ii.prototype=new $;ii.prototype.className="PolarCoordinates";
ii.prototype.h=function(b){Kb(b,this.className,1);b=Yb(b.a(),this);return y([new J(Math.sqrt(b.T*b.T+b.M*b.M)),new J(Math.atan2(b.M,b.T))])};function ji(){this.c("quotient")}ji.prototype=new $;ji.prototype.className="Quotient";ji.prototype.h=function(b){ug(b,2,this.className);var c=hb(b.a(),this),d=hb(b.b().a(),this);(!c.ja()||!d.ja())&&g(new u("Type error: "+this+" : expected integer, got "+b));b=c.G()/d.G();return I(0>b?Math.ceil(b):Math.floor(b))};function ki(){this.c("rand")}ki.prototype=new $;
ki.prototype.className="Rand";ki.prototype.h=function(b){if(b instanceof A)return new J(Math.gd());var c=b.a();c instanceof Q||g(new TypeError);c.ja()||g(new u("rand: requires one exact integer argument, got "+b));return new R(Math.abs(Zh()%c.G()),1)};function li(){this.c("sin")}li.prototype=new $;li.prototype.className="Sine";li.prototype.h=function(b){Kb(b,this.className,1);b=Math.sin(fb(b.a(),this).C());return new J(b)};function mi(){this.c("sqrt")}mi.prototype=new $;mi.prototype.className="Sqrt";
mi.prototype.r=function(b,c){E(b,c.sqrt())};mi.prototype.f=function(b,c){ug(c,1,this.className);this.r(b,c.a())};function ni(){this.c("-")}ni.prototype=new $;q=ni.prototype;q.className="Subtract";q.r=function(){g(new u("- : expected at least 1 arg"))};q.r=function(b,c){c instanceof Q||g(new TypeError);E(b,c.nb())};q.R=function(b,c,d){d instanceof Q||g(new TypeError);E(b,c.add(d.nb()))};
q.h=function(b){b instanceof A&&g(new u("Function `-` expected at least 1 arg"));var c=b.a();c instanceof Q||g(new TypeError);c=c.nb();b=b.b();b instanceof C||g(new TypeError);b instanceof A?b=c:(b=new C(c,b),b=Vh(b).lc(b).nb());return b};function oi(){this.c("tan")}oi.prototype=new $;oi.prototype.className="Tangent";oi.prototype.h=function(b){Kb(b,this.className,1);b=Math.tan(fb(b.a(),this).C());return new J(b)};function pi(){this.c("trunc")}pi.prototype=new $;pi.prototype.className="Trunc";
pi.prototype.h=function(b){Kb(b,this.className,1);b=b.a();b instanceof Q||g(new TypeError);b=b.C();return new R(Math.floor(b),1)};function qi(){this.c("bound")}qi.prototype=new $;qi.prototype.className="Bound";qi.prototype.wa=function(){g(new u("bound: requires 1 arg"))};qi.prototype.r=function(b,c){c instanceof N||g(new TypeError);E(b,zb(c.bound()))};qi.prototype.h=function(b){Kb(b,this.className,1);b=cb(b.a(),this);return zb(b.bound())};function ri(){this.c("exact")}ri.prototype=new $;
ri.prototype.className="Exact";ri.prototype.h=function(b){b=fb(b.a(),this);return zb(b instanceof R&&b.ja())};function si(){this.c(">")}si.prototype=new $;q=si.prototype;q.className="GreaterThan";q.wa=function(b){E(b,Wa)};q.r=function(b){E(b,Wa)};q.R=function(b,c,d){E(b,0>=c.na(d)?D:Wa)};q.h=function(b){if(2>b.ha())return Wa;var c=b.a(),b=b.b();for(b instanceof C||g(new TypeError);!(b instanceof A);){var d=b.a();if(0>=c.na(d))return D;c=d;b=b.b();b instanceof C||g(new TypeError)}return Wa};
function ti(){this.c("is")}ti.prototype=new $;q=ti.prototype;q.className="Is";q.wa=function(b){E(b,Wa)};q.r=function(b){E(b,Wa)};q.R=function(b,c,d){E(b,zb(c.Ca(d)))};q.h=function(b){return ui(this,b.a(),b.b())};function ui(b,c,d){return d instanceof A?Wa:!c.Ca(d.a())?D:ui(b,c,d.b())}function vi(){this.c("<")}vi.prototype=new $;q=vi.prototype;q.className="LessThan";q.wa=function(b){E(b,Wa)};q.r=function(b){E(b,Wa)};q.R=function(b,c,d){E(b,0>c.na(d)?Wa:D)};
q.h=function(b){var c=b.a(),b=b.b();for(b instanceof C||g(new TypeError);!(b instanceof A);){var d=b.a();if(0<=c.na(d))return D;c=d;b=b.b();b instanceof C||g(new TypeError)}return Wa};function wi(){this.c("rainbow-debug")}wi.prototype=new $;wi.prototype.className="RainbowDebug";wi.prototype.f=function(b){Kc(b,pf);E(b,L(this.$))};function xi(){this.c("rainbow-profile")}xi.prototype=new $;xi.prototype.className="RainbowProfile";xi.prototype.wa=function(b){this.profile(b);E(b,D)};
xi.prototype.r=function(b,c){c instanceof kc||g(new TypeError);this.profile(c);E(b,D)};xi.prototype.profile=function(b){Kc(b,uf)};function yi(){this.c("rainbow-profile-report")}yi.prototype=new $;yi.prototype.className="RainbowProfileReport";yi.prototype.wa=function(b){E(b,this.hd(b))};yi.prototype.r=function(b,c){c instanceof kc||g(new TypeError);E(b,this.hd(b))};function zi(){this.c("current-gc-milliseconds")}zi.prototype=new $;zi.prototype.className="CurrentGcMilliseconds";
zi.prototype.f=function(b){E(b,I(1))};function Ai(){this.c("current-process-milliseconds")}Ai.prototype=new $;Ai.prototype.className="CurrentProcessMilliseconds";Ai.prototype.f=function(b){E(b,I(1))};function Bi(){this.c("declare")}Bi.prototype=new $;Bi.prototype.className="Declare";Bi.prototype.R=function(b,c,d){c===Ci?(c=yf,yf=d,E(b,c)):E(b,D)};Bi.prototype.f=function(b,c){this.R(b,c.a(),c.b().a())};var Ci=L("atstrings");function Di(){this.c("msec")}Di.prototype=new $;Di.prototype.className="MSec";
Di.prototype.h=function(){return I((new Date).getTime())};function Ei(){this.c("seconds")}Ei.prototype=new $;Ei.prototype.className="Seconds";Ei.prototype.h=function(){var b=(new Date).getTime()/1E3;return I(0>b?Math.ceil(b):Math.floor(b))};function Fi(){this.c("maptable")}Fi.prototype=new $;Fi.prototype.className="MapTable";Fi.prototype.R=function(b,c,d){E(b,d);d instanceof Ea||g(new TypeError);E(b,uc(d));c=new bd(c);c.k(this);F(b,c)};
Fi.prototype.f=function(b,c){ug(c,2,this.className);this.R(b,c.a(),c.b().a())};function Gi(){this.c("sref")}Gi.prototype=new $;Gi.prototype.className="Sref";Gi.prototype.Ra=function(b,c,d,f){E(b,c.kc(d,f))};Gi.prototype.f=function(b,c){ug(c,3,this.className);this.Ra(b,c.a(),c.b().a(),c.b().b().a())};function Hi(){this.c("table")}Hi.prototype=new $;Hi.prototype.className="Table";
Hi.prototype.f=function(b,c){var d=new Ea;E(b,d);if(!(c instanceof A)){var f=new Zc("table-initialiser");f.k(this);F(b,f);c.a().f(b,y([d]))}};function Ii(){this.c("atomic-invoke")}Ii.prototype=new $;Ii.prototype.className="AtomicInvoke";Ii.prototype.r=function(b,c){for(;b!==Ji&&Ji!==l;);Ji=b;Ki++;var d=new Li;d.k(this);F(b,d);c.f(b,D)};Ii.prototype.f=function(b,c){this.r(b,c.a())};function Li(){this.e=l}Li.prototype=new O;Li.prototype.className="AtomicInvoke.ReleaseLock";
Li.prototype.d=function(){Ki--;0===Ki&&(Ji=l)};var Ji=l,Ki=0;function Mi(){this.c("break-thread")}Mi.prototype=new $;Mi.prototype.className="BreakThread";Mi.prototype.h=function(b){b=b.a();b instanceof kc||g(new TypeError);Kc(b,rf);return D};function Ni(){this.c("ccc")}Ni.prototype=new $;Ni.prototype.className="CCC";Ni.prototype.r=function(b,c){c instanceof A&&g(new u("Can't ccc nil!"));c.r(b,new Oi(b))};Ni.prototype.f=function(b,c){Kb(c,this.className,1);this.r(b,c.a())};
function Oi(b){this.Rb=b;this.rd=m}Oi.prototype=new z;q=Oi.prototype;q.className="CCC.ContinuationWrapper";q.r=function(b,c){var d;a:{for(d=0;d<b.g;d++)if(b.D[d]!==this.Rb.D[d]){d-=1;break a}d=b.g}for(var f=[],h=[];d<b.g;)Cc(b).a().Ib&&(f.push(Cc(b)),h.push(b.ga[b.g])),b.g--;d=[f,h];this.Rb.copyTo(b);E(b,c);for(f=d[0].length-1;0<=f;f--)h=d[1][f],h instanceof x||g(new TypeError),d[0][f]instanceof C||g(new TypeError),T(b,h,instructions)};q.f=function(b,c){this.r(b,c.a())};q.type=function(){return tg};
q.toString=function(){return"#<continuation ip:"+this.Rb.g+";ap:"+this.Rb.L+";VM#"+this.Rb.Ec+">"};function Pi(){this.c("dead")}Pi.prototype=new $;Pi.prototype.className="Dead";Pi.prototype.f=function(b,c){var d=c.a();d instanceof kc||g(new TypeError);E(b,zb(d.Yb))};function Qi(){this.c("kill-thread")}Qi.prototype=new $;Qi.prototype.className="KillThread";Qi.prototype.f=function(b,c){var d=c.a();d instanceof kc||g(new TypeError);Kc(d,rf);E(b,D)};function Ri(){this.c("thread-local")}Ri.prototype=new $;
Ri.prototype.className="NewThreadLocal";Ri.prototype.h=function(){return new Ub};function Si(){this.c("thread-local-ref")}Si.prototype=new $;Si.prototype.className="ThreadLocalGet";Si.prototype.h=function(b){return Wb(b.a(),this).get()};function Ti(){this.c("thread-local-set")}Ti.prototype=new $;Ti.prototype.className="ThreadLocalSet";Ti.prototype.h=function(b){var c=Wb(b.a(),this),b=b.b().a();c.set(b);return b};function Ui(){this.c("annotate")}Ui.prototype=new $;Ui.prototype.className="Annotate";
Ui.prototype.h=function(b){var c=b.a(),b=b.b().a();return c===b.type()?b:new gc(c,b)};function Vi(){this.c("coerce");Wi()}Vi.prototype=new $;Vi.prototype.className="Coerce";Vi.prototype.R=function(b,c,d){var f=c.type();if(f===d)E(b,c);else try{d instanceof N||g(new TypeError),f instanceof N||g(new TypeError),(d.vb[f]||l).r(b,c)}catch(h){h instanceof Xi&&g(new u("Can't coerce "+c+" to "+d)),g(new u("Can't coerce "+c+" ( a "+c.type()+" ) to "+d,h))}};
Vi.prototype.Ra=function(b,c,d,f){var h=c.type();if(h===d)E(b,c);else try{d instanceof N||g(new TypeError),h instanceof N||g(new TypeError),(d.vb[h]||l).R(b,c,f)}catch(k){k instanceof Xi&&g(new u("Can't coerce "+c+" to "+d)),g(new u("Can't coerce "+c+" ( a "+c.type()+" ) to "+d,k))}};Vi.prototype.f=function(b,c){c.wb(2)?this.R(b,c.a(),c.b().a()):c.wb(3)?this.Ra(b,c.a(),c.b().a(),c.b().b().a()):g(new u("coerce expects 2 or 3 args, got "+c))};function Yi(){this.c("rep")}Yi.prototype=new $;
Yi.prototype.className="Rep";Yi.prototype.h=function(b){var c=b.a();if(c instanceof gc){b=b.a();try{b instanceof gc||g(new TypeError)}catch(d){d instanceof TypeError||g(d),g(new u("Wrong argument type: "+this+" expected a Tagged, got "+b))}b=b.rb}else b=c;return b};function Zi(){this.c("type")}Zi.prototype=new $;Zi.prototype.className="Type";Zi.prototype.r=function(b,c){E(b,c.type())};Zi.prototype.h=function(b){Kb(b,this.className,1);return b.a().type()};
var Mb=L("string"),$i=L("sym"),aj=L("int"),bj=L("num"),cj=L("cons"),dj=L("char");
function Wi(){db(cj,Mb,new Nb("string-cons",function(b){b instanceof Ma||g(new TypeError);for(var b=b.value(),c=[],d=0;d<b.length;d++)c.push(Na(b.charCodeAt(d)));return y(c)}));db(Mb,cj,new Nb("cons-string",function(b){b instanceof C||g(new TypeError);for(var c=[];!(b instanceof A);)c.push(b.a().Xa()),b=b.b(),b instanceof C||g(new TypeError);return H(c.join(""))}));db(Mb,aj,new Nb("int-string",function(b){return this.ub(b,fc)},function(b,c){c instanceof Q||g(new TypeError);b instanceof Q||g(new TypeError);
var d;b instanceof K?d=H(b.toString()):(b instanceof J&&10!==c.G()&&g(new Xi),d=b instanceof R?b.stringify(c):ej(b,c));return d}));db(Mb,bj,new Nb("num-string",function(b){return this.ub(b,fc)},function(b,c){c instanceof Q||g(new TypeError);b instanceof Q||g(new TypeError);var d;b instanceof K?d=H(b.toString()):(b instanceof J&&10!==c.G()&&g(new Xi),d=b instanceof R?b.stringify(c):ej(b,c));return d}));db($i,Mb,new Nb("string-sym",function(b){b instanceof Ma||g(new TypeError);return Oa(b.value())}));
db(Mb,$i,new Nb("sym-string",function(b){return b instanceof A?H(""):H(b.Xa())}));db(aj,dj,new Nb("char-int",function(b){b instanceof P||g(new TypeError);b=b.value();return I(b)},function(b){return this.Eb(b)}));db(aj,bj,new Nb("num-int",function(b){b instanceof Q||g(new TypeError);return b.round()},function(b){return this.Eb(b)}));db(bj,aj,new Nb("int-num",aa()));db(dj,aj,new Nb("int-char",function(b){b instanceof Q||g(new TypeError);b.ja()||g(new Xi);return Na(b.G())}));db(Mb,dj,new Nb("char-string",
function(b){b instanceof P||g(new TypeError);b=b.value();return H(String.fromCharCode(b))}));db($i,dj,new Nb("char-sym",function(b){b instanceof P||g(new TypeError);b=b.value();return Oa(String.fromCharCode(b))}));db(bj,Mb,new Nb("string-num",function(b){return this.ub(b,fc)},function(b,c){c instanceof Q||g(new TypeError);b instanceof Ma||g(new TypeError);var d=b.value().toLowerCase();if("+inf.0"===d)d=new J(1/0);else if("-inf.0"===d)d=new J(-1/0);else if("+nan.0"===d)d=new J(0/0);else{var f;if(/i$/i.test(d))try{f=
Xb()}catch(h){h instanceof Ba||g(h),g(new Xi)}else/\./.test(d)||15>c.G()&&/.e./.test(d)?d=fj(d,c.G()):/\//.test(d)?d=gj(d,c.G()):(f=c.G(),d=I(parseInt(d,~~f))),f=d;d=f}return d}));db(aj,Mb,new Nb("string-int",function(b){return this.ub(b,fc)},function(b,c){c instanceof Q||g(new TypeError);b instanceof Ma||g(new TypeError);var d=b.value().toLowerCase();("+inf.0"===d||"-inf.0"===d||"+nan.0"===d||/i$/i.test(d))&&g(new Xi);if(/\./.test(d)||15>c.G()&&/.e./i.test(d))return d=fj(d,c.G()),d instanceof J||
g(new TypeError),d.ic();if(/\//.test(d))return d=gj(d,c.G()),d instanceof R||g(new TypeError),d.ic();var f=c.G();return I(parseInt(d,~~f))}))}function ej(b,c){if(10===c.G())return H(b.toString());var d=b.G().toString(~~c.G());return H(""+d+".0")}function gj(b,c){var d=b.split(/\//g);2<d.length&&g(new Xi);return new R(parseInt(d[0],~~c),parseInt(d[1],~~c))}
function fj(b,c){var d=m;/^-/.test(b)&&(d=j,b=b.substring(1));b=b.toUpperCase();/E/.test(b)||(b+="E0");if(/\./.test(b))/^\./.test(b)&&(b="0"+b);else var f=b.split(/E/g),b=f[0]+".0E"+f[1];var f=b.split(/\./g),h=parseInt(f[0],~~c),f=f[1].split(/E/g);/^\+/.test(f[1])&&(f[1]=f[1].substring(1));f=(h+parseInt(f[0],~~c)/Math.pow(c,f[0].length))*Math.pow(c,parseInt(f[1],~~c));d&&(f=-f);return Qa(f)}function Nb(b,c,d){this.$=b;if(c!==i)this.Eb=c;if(d!==i)this.ub=d}Nb.prototype=new z;q=Nb.prototype;
q.className="Typing.Coercion";q.type=function(){return L("fn")};q.Eb=function(){g(new u("not implemented: "+name+".coerce 1 arg"))};q.ub=function(){g(new u("not implemented: "+name+".coerce 2 args"))};q.r=function(b,c){E(b,this.Eb(c))};q.R=function(b,c,d){E(b,this.ub(c,d))};function Xi(){}Xi.prototype=Error();function hj(b){this.pa=b}hj.prototype=new Ab;q=hj.prototype;q.className="Input";
q.gc=function(b,c){return this.pa.gc(function(c,f){return c?b(new u("Cannot read byte from "+this,c)):f===l?b(l,D):b(l,I(f))},c)};function ij(b,c,d){return b.pa.hc(function(b,d){return b?c(new u("reading character: "+b)):d===l?c(l,D):c(l,Na(d))},d)}function jj(b,c,d,f){return La(b.pa,function(b,f){return b?d(new u("Can't parse input: "+b,b)):f===l?d(l,c):d(l,f)},f)}q.type=function(){return kj};q.ra=o("pa");q.close=function(){this.qd=j;this.pa.close()};
function lj(b,c){try{return b instanceof hj||g(new TypeError),b}catch(d){d instanceof TypeError||g(d),g(new u("Wrong argument type: "+c+" expected input-port, got "+b))}}var kj=L("input");function mj(b){this.fb=b}mj.prototype=new Ab;q=mj.prototype;q.className="Output";q.write=function(b){this.fb.Va(""+b)};q.type=function(){return nj};q.ra=o("fb");q.close=function(){this.fb.close()};q.oc=function(b){this.fb.oc(b)};
function oj(b,c){try{return b instanceof mj||g(new TypeError),b}catch(d){d instanceof TypeError||g(d),g(new u("Wrong argument type: "+c+" expected output-port, got "+b))}}q.flush=function(){this.fb.flush()};var nj=L("output");
function qa(b){function c(){if(b.length<=h)return m;var c=b.charCodeAt(h++);f.push(c>>>8&255,c&255);return j}function d(){return 0!==f.length||c()?f.shift():l}var f=[],h=0;hj.call(this,{gc:function(b){b(l,d());return j},hc:function(b){var c=d(),f=d();b(l,f===l?l:c<<8|f);return j},gb:function(b){b(l,2<=f.length||c()?f[0]<<8|f[1]:l);return j},close:n()})}qa.prototype=new hj(i);qa.prototype.className="StringInputPort";
function pj(){var b=this;b.Mb=[];b.mb=l;mj.call(this,{Va:function(c){if(b.mb===l)b.Mb.push(c);else for(var d=0,f=c.length;d<f;d++){var h=c.charCodeAt(d);b.Mb.push(String.fromCharCode(b.mb<<8|h>>>8&255));b.mb=h&255}},oc:function(c){b.mb===l?b.mb=c:(b.Mb.push(String.fromCharCode(b.mb<<8|c)),b.mb=l)},close:n(),flush:n()})}pj.prototype=new mj(i);pj.prototype.className="StringOutputPort";pj.prototype.value=function(){var b=this.Mb.join("");this.Mb=[b];return H(b)};pj.prototype.toString=p("#<string-output-port>");
function qj(){this.fb=la}qj.prototype=new mj(i);qj.prototype.className="IO.Anon_STD_OUT_";qj.prototype.close=n();qj.prototype.toString=p("IO.STD_OUT");var rj=new qj;function sj(){this.fb=ma}sj.prototype=new mj(i);sj.prototype.className="IO.Anon_STD_ERR_";sj.prototype.close=n();sj.prototype.toString=p("IO.STD_ERR");var tj=new sj;function uj(){this.pa=ja}uj.prototype=new hj(i);uj.prototype.className="IO.Anon_STD_IN_";uj.prototype.close=n();uj.prototype.toString=p("IO.STD_IN");
var xj={value:new uj},yj={value:rj};function zj(b,c){return b instanceof A?yj.value:oj(b,c)}function Aj(b,c){return b instanceof A?xj.value:lj(b,c)}function Bj(b){for(;!(b instanceof A);){var c=b.a();c instanceof hj?c.close():c instanceof mj?c.close():c instanceof ArcSocket?c.close():c instanceof nc?c.close():g(new u("close: expected Input or Output object; got "+c));b=b.b();b instanceof C||g(new TypeError)}return D}function Cj(){this.c("close")}Cj.prototype=new $;Cj.prototype.className="Close_Builtin";
Cj.prototype.h=function(b){return Bj(b)};function Dj(){this.c("disp")}Dj.prototype=new $;Dj.prototype.className="Disp";Dj.prototype.r=function(b,c){yj.value.write(c.Xa());E(b,D)};Dj.prototype.h=function(b){var c=zj(b.b().a(),this),b=b.a();c.write(b.Xa());return D};function Ej(){this.c("flushout")}Ej.prototype=new $;Ej.prototype.className="FlushOut";Ej.prototype.h=function(){yj.value.flush();return Wa};function Fj(){this.c("force-close")}Fj.prototype=new $;Fj.prototype.className="ForceClose";
Fj.prototype.h=function(b){return Bj(b)};function Gj(){this.c("stderr")}Gj.prototype=new $;Gj.prototype.className="StdErr";Gj.prototype.h=function(){return tj};function Hj(){this.c("stdin")}Hj.prototype=new $;Hj.prototype.className="StdIn";Hj.prototype.h=function(b){ug(b,0,this.className);return xj.value};function Ij(){this.c("stdout")}Ij.prototype=new $;Ij.prototype.className="StdOut";Ij.prototype.h=function(){return yj.value};function Jj(){this.c("write")}Jj.prototype=new $;
Jj.prototype.className="Write";Jj.prototype.h=function(b){zj(b.b().a(),this).write(b.a());return D};function Kj(){this.c("writeb")}Kj.prototype=new $;Kj.prototype.className="WriteB";Kj.prototype.h=function(b){var c=zj(b.b().a(),this),b=hb(b.a(),this);b.ja()||g(new u("write byte: expected byte, got "+b));c.oc(b.G());return D};function Lj(){this.c("writec")}Lj.prototype=new $;Lj.prototype.className="WriteC";
Lj.prototype.h=function(b){var c=zj(b.b().a(),this),d=Db(b.a(),this);c.fb.Va(String.fromCharCode(d.value()));return b.a()};function Mj(){this.c("instring")}Mj.prototype=new $;Mj.prototype.className="InString";Mj.prototype.h=function(b){return new qa(Ob(b.a(),this).value())};function Nj(){this.c("inside")}Nj.prototype=new $;Nj.prototype.className="Inside";
Nj.prototype.h=function(b){b=b.a();try{b instanceof pj||g(new TypeError)}catch(c){c instanceof TypeError||g(c),g(new u("Wrong argument type: "+this+" expected a StringOutputPort, got "+b))}return b.value()};function Oj(){this.c("outstring")}Oj.prototype=new $;Oj.prototype.className="OutString";Oj.prototype.h=function(){return new pj};function Pj(){this.c("call-w/stdin")}Pj.prototype=new $;Pj.prototype.className="CallWStdIn";
Pj.prototype.f=function(b,c){var d=new $c(xj,xj.value);d.k(this);F(b,d);xj.value=lj(c.a(),this);c.b().a().f(b,D)};function Qj(){this.c("call-w/stdout")}Qj.prototype=new $;Qj.prototype.className="CallWStdOut";Qj.prototype.f=function(b,c){var d=new $c(yj,yj.value);d.k(this);F(b,d);yj.value=oj(c.a(),this);c.b().a().f(b,D)};function Rj(){this.c("readb")}Rj.prototype=new $;Rj.prototype.className="ReadB";Rj.prototype.r=function(b,c){F(b,new Sj(Aj(c,this),this))};
Rj.prototype.f=function(b,c){F(b,new Sj(Aj(c.a(),this),this))};function Sj(b,c){this.e=l;this.Ob=b;this.k(c)}Sj.prototype=new O;Sj.prototype.za=j;Sj.prototype.className="ReadB.Go";Sj.prototype.Ha=function(b,c,d){return this.Ob.gc(function(d,h){if(d)return void c(d);E(b,h);c(l)},d)};Sj.prototype.d=function(){g(Error())};function Tj(){this.c("readc")}Tj.prototype=new $;Tj.prototype.className="ReadC";Tj.prototype.r=function(b,c){F(b,new Uj(Aj(c,this),this))};
Tj.prototype.f=function(b,c){F(b,new Uj(Aj(c.a(),this),this))};function Uj(b,c){this.e=l;this.Ob=b;this.k(c)}Uj.prototype=new O;Uj.prototype.za=j;Uj.prototype.className="ReadC.Go";Uj.prototype.Ha=function(b,c,d){return ij(this.Ob,function(d,h){if(d)return void c(d);E(b,h);c(l)},d)};Uj.prototype.d=function(){g(Error())};function Vj(){this.c("sread")}Vj.prototype=new $;Vj.prototype.className="Sread";Vj.prototype.f=function(b,c){F(b,new Wj(lj(c.a(),this),c.b().a(),this))};
function Wj(b,c,d){this.e=l;this.Ob=b;this.$c=c;this.k(d)}Wj.prototype=new O;Wj.prototype.za=j;Wj.prototype.className="Sread.Go";Wj.prototype.Ha=function(b,c,d){return jj(this.Ob,this.$c,function(d,h){if(d)return void c(d);E(b,h);c(l)},d)};Wj.prototype.d=function(){g(Error())};function Xj(){this.c("dir")}Xj.prototype=new $;Xj.prototype.className="Dir";Xj.prototype.f=function(b,c){F(b,new Yj(Ob(c.a(),this).value(),this))};function Yj(b,c){this.e=l;this.Sa=b;this.k(c)}Yj.prototype=new O;
Yj.prototype.za=j;Yj.prototype.className="Dir.Go";Yj.prototype.Ha=function(b,c){return na(function(d,f){if(d)return void c(d);E(b,f);c(l)})};Yj.prototype.d=function(){g(Error())};function Zj(){this.c("dir-exists")}Zj.prototype=new $;Zj.prototype.className="DirExists";Zj.prototype.f=function(b,c){F(b,new $j(c.a(),this))};function $j(b,c){this.e=l;this.Sa=b;this.k(c)}$j.prototype=new O;$j.prototype.za=j;$j.prototype.className="DirExists.Go";
$j.prototype.Ha=function(b,c){return oa(Ob(this.Sa,this.e).value(),function(d,f){if(d)return void c(d);E(b,f?this.Sa:D);c(l)})};$j.prototype.d=function(){g(Error())};function ak(){this.c("file-exists")}ak.prototype=new $;ak.prototype.className="FileExists";ak.prototype.f=function(b,c){F(b,new bk(c.a(),this))};function bk(b,c){this.e=l;this.Sa=b;this.k(c)}bk.prototype=new O;bk.prototype.za=j;bk.prototype.className="FileExists.Go";
bk.prototype.Ha=function(b,c,d){return wa.td(Ob(this.Sa,this.e).value(),function(d,h){if(d)return void c(d);E(b,h);c(l)},d)};bk.prototype.d=function(){g(Error())};function ck(){this.c("infile")}ck.prototype=new $;ck.prototype.className="InFile";ck.prototype.f=function(b,c){F(b,new dk(Ob(c.a(),this).value(),this))};function dk(b,c){this.e=l;this.Sa=b;this.k(c)}dk.prototype=new O;dk.prototype.za=j;dk.prototype.className="InFile.Go";
dk.prototype.Ha=function(b,c,d){return pa(this.Sa,function(d,h){if(d)return void c(d);E(b,h);c(l)},d)};dk.prototype.d=function(){g(Error())};function ek(){this.c("outfile")}ek.prototype=new $;ek.prototype.className="OutFile";ek.prototype.f=function(b,c){var d=Ob(c.a(),this).value(),f=c.b().a(),f=!(f instanceof A)&&"append"===cb(f,this).name();F(b,new fk(d,f,this))};function fk(b,c,d){this.e=l;this.$=b;this.od=c;this.k(d)}fk.prototype=new O;fk.prototype.za=j;fk.prototype.className="OutFile.Go";
fk.prototype.Ha=function(b,c){return ra(function(d,f){if(d)return void c(d);E(b,f);c(l)})};fk.prototype.d=function(){g(Error())};function gk(){this.c("make-directory")}gk.prototype=new $;gk.prototype.className="MakeDirectory";gk.prototype.f=function(b,c){F(b,new hk(Ob(c.a(),this).value(),this))};function hk(b,c){this.e=l;this.Sa=b;this.k(c)}hk.prototype=new O;hk.prototype.za=j;hk.prototype.className="MakeDirectory.Go";
hk.prototype.Ha=function(b,c){return sa(function(d,f){if(d)return void c(d);E(b,f?yb:xb.Wc);c(l)})};hk.prototype.d=function(){g(Error())};function ik(){this.c("make-directory*")}ik.prototype=new $;ik.prototype.className="MakeDirectories";ik.prototype.f=function(b,c){F(b,new jk(Ob(c.a(),this).value(),this))};function jk(b,c){this.e=l;this.Sa=b;this.k(c)}jk.prototype=new O;jk.prototype.za=j;jk.prototype.className="MakeDirectories.Go";
jk.prototype.Ha=function(b,c){return ta(function(d,f){if(d)return void c(d);E(b,f?yb:xb.Wc);c(l)})};jk.prototype.d=function(){g(Error())};function kk(){this.c("mvfile")}kk.prototype=new $;kk.prototype.className="MvFile";kk.prototype.f=function(b,c){F(b,new lk(Ob(c.a(),this).value(),Ob(c.b().a(),this).value(),this))};function lk(b,c,d){this.e=l;this.Bd=b;this.Ad=c;this.k(d)}lk.prototype=new O;lk.prototype.za=j;lk.prototype.className="MvFile.Go";
lk.prototype.Ha=function(b,c){return ua(function(d){if(d)return void c(d);E(b,D);c(l)})};lk.prototype.d=function(){g(Error())};function mk(){this.c("rmfile")}mk.prototype=new $;mk.prototype.className="RmFile";mk.prototype.f=function(b,c){F(b,new nk(Ob(c.a(),this).value(),this))};function nk(b,c){this.e=l;this.Sa=b;this.k(c)}nk.prototype=new O;nk.prototype.za=j;nk.prototype.className="RmFile.Go";nk.prototype.Ha=function(b,c){return va(function(d){if(d)return void c(d);E(b,D);c(l)})};
nk.prototype.d=function(){g(Error())};var zg=j;
function ok(b){var c=(new Date).getTime(),d=pk();new Di;new Ei;new Ai;new zi;new Bi;L("pi").da(new J(Math.PI));L("e").da(new J(Math.E));new pi;new Wh;new ki;new mi;new ji;new gi;new Ph;new ni;new hi;new Uh;new li;new Th;new oi;new Qh;new Oh;new Rh;new Xh;new Sh;new Yh;new ii;new Zi;new Ui;new Yi;new Vi;new Gh;new Fh;new qk;new Qi;new Mi;new Pi;new Ii;new Ni;new Ri;new Si;new Ti;new nh;new lh;new sh;new qh;new rh;new ph;new Lh;new Hh;new Ih;new Mh;new Nh;new Jh;new Kh;new qi;new vi;new si;new ri;new ti;
new uh;new wh;new yh;new Eh;new Hi;new Fi;new Gi;new Pj;new Qj;new Hj;new Ij;new Gj;new Dj;new Jj;new Vj;new Kj;new Lj;new Rj;new Tj;new Ej;new Cj;new Fj;new ek;new ck;new Zj;new ak;new Xj;new mk;new kk;new gk;new ik;new Mj;new Oj;new Nj;new wi;new xi;new yi;var f=new kc;L("*argv*").da(y(d));L("call*").da(new Ea);L("sig").da(new Ea);rk(f,function(d){if(d)return void b(d);ya("repl in "+((new Date).getTime()-c)+"ms");sk(f,b,i)})}
function pk(){for(var b=[],c=[],d=0,f=b.length;d<f;d++){var h=b[d];"[object String]"!==Object.prototype.toString.call(h)&&g(new TypeError);c.push(Ka(""+h))}return c}function rk(b,c){var d=[],f=i;function h(d,k){if(d)return void c(d);if(k===l)return void c();tk(b,k,function(b){if(b)return void c(b);La(M,h,f)},f)}for(var k=[],r=0,t=d.length;r<t;r++){var B=d[r];"[object String]"!==Object.prototype.toString.call(B)&&g(new TypeError);k.push(B+" ")}var M=(new qa(k.join(""))).ra();La(M,h,f)}
function sk(b,c,d){xa("arc> ");for(var f=j,h=m;!h;)if(La(ja,function(k,r){if(k){if(!(k instanceof Ba))return void c(k);za(k);f||sk(b,c,d)}else r===l?(h=j,f||c()):tk(b,r,function(h){if(h)return void c(h);f||sk(b,c,d)},d)||(f=m)},d)||(f=m),!f)return;c()}function tk(b,c,d,f){return uk(b,c,function(b,c){if(b){if(!(b instanceof u))return void d(b);ya("Message    : "+b.message);xa("Java stack : ");za(b,la)}else ya(c);d()},f)}function vk(b){this.e=b}vk.prototype=new af;vk.prototype.className="Console.Anon_mkVisitor_";
vk.prototype.Sb=function(b){b.k(this.e)};function uk(b,c,d,f){F(b,new wk(c));return lc(b,d,f)}function wk(b){this.e=l;this.va=b;this.k(H("Console.compileAndEvalAsync_"))}wk.prototype=new O;wk.prototype.className="Console.CompileAndEval";wk.prototype.d=function(b){F(b,new xk);xf(b,this.va,[])};function xk(){this.e=l;this.k(H("Console.compileAndEvalAsync_"))}xk.prototype=new O;xk.prototype.className="Console.AndEval";
xk.prototype.d=function(b){var c=S(b).reduce(),d=[];c.m(d);d=y(d);d.j(new vk(c));T(b,l,d)};function qk(){this.c("new-thread")}qk.prototype=new $;qk.prototype.className="NewThread";qk.prototype.h=function(){g(new u("Rainbow.js doesn't support new-thread."))};function Tg(b,c,d){this.e=l;this.fa=b;this.n=c;this.k(d)}Tg.prototype=new O;Tg.prototype.className="BindAndRun";Tg.prototype.d=function(b){this.fa.add(S(b));T(b,this.fa,this.n)};Oa("window").da(new nc(window));
da(window,"load",function(){function b(){var b=B.value+"\n";B.value="";ea.fc.Va(b)}function c(b){if(b.Tc!==i)return b.Tc();for(var c=[],d=j;d;)b.hc(function(b,f){b&&g(b);f!==l?d=m:c.push(String.fromCharCode(f))},j)||(d=m);return c.join("")}function d(b){t.appendChild(document.createTextNode(b));ia||(ia=j,setTimeout(function(){ia=m;t.scrollTop=t.scrollHeight},0))}function f(b){b&&g(b);b=c(ea.Qa);""!==b&&(d(b),fa.fc.Va(b),ea.Qa.gb(f))}function h(b){b&&g(b);b=c(ga.Qa);""!==b&&(d(b),ga.Qa.gb(h))}function k(b){b&&
g(b);b=c(ha.Qa);""!==b&&(d(b),ha.Qa.gb(k))}var r=document.getElementById("repl"),t=document.createElement("pre");t.className="scrollback";t.appendChild(document.createTextNode(""));r.appendChild(t);var B=document.createElement("textarea");B.className="prompt";da(B,"keydown",function(b){if(13===(b.which||b.keyCode))b.preventDefault?b.preventDefault():b.returnValue=m});da(B,"keyup",function(c){13===(c.which||c.keyCode)&&b()});r.appendChild(B);var M=document.createElement("button");M.className="eval";
M.appendChild(document.createTextNode("Eval"));da(M,"click",function(){b()});r.appendChild(M);var ia=m;ea.Qa.gb(f);ga.Qa.gb(h);ha.Qa.gb(k);ok(n())});
