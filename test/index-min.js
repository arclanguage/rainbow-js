function g(b){throw b;}var i=void 0,j=!0,l=null,m=!1;function aa(){return function(b){return b}}function n(){return function(){}}function ba(b){return function(c){this[b]=c}}function p(b){return function(){return this[b]}}function r(b){return function(){return b}}var t;
function ca(){function b(){if(0!==k.length){var c=k.shift(),d=q.shift();setTimeout(function(){d(c)},0);setTimeout(b,0)}}function c(b,c,o,Z){if(0!==d.length&&0===k.length){var uc=d[0];if(1===d.length&&("byte"===uc.type||uc.xa.length<<1===f+1)){if(h)return c&&(d=[]),b(l,l),j;Z||(k.push(b),q.push(o));return m}var fb,o=0,Z=f,W=uc;if("byte"===W.type)o++,uc=W.xa;else{W=W.xa;fb=W.charCodeAt(Z>>>1);if(Z&1)return c&&(f++,W.length<<1<=f&&(d.shift(),f=0)),b(l,fb),j;uc=fb>>>8&255;Z++;W.length<<1<=Z&&(o++,Z=0)}W=
d[o];"byte"===W.type?(o++,fb=W.xa):(W=W.xa,fb=W.charCodeAt(Z>>>1),fb=(Z&1?fb:fb>>>8)&255,Z++,W.length<<1<=Z&&(o++,Z=0));if(c){for(;o--;)d.shift();f=Z}b(l,uc<<8|fb);return j}if(h)return b(l,l),j;Z||(k.push(b),q.push(o));return m}var d=[],f=0,h=m,k=[],q=[],o={},C=o.gc=function(b,c){if(0!==d.length&&0===k.length){var o=d[0];if("byte"===o.type)d.shift(),b(l,o.xa);else{var o=o.xa,Z=o.charCodeAt(f>>>1),Z=(f&1?Z:Z>>>8)&255;f++;o.length<<1<=f&&(d.shift(),f=0);b(l,Z)}return j}if(h)return b(l,l),j;c||(k.push(b),
q.push(C));return m},K=o.hc=function(b,d){return c(b,j,K,d)},ia=o.gb=function(b,d){return c(b,m,ia,d)};o.close=n();o.Uc=function(){var b=d.length,c=m,h,k=[],q=0;if(f&1){var o=d[0].xa,c=j;h=o.charCodeAt(f>>>1)&255;f++;for(var W=f>>>1,C=o.length;W<C;W++){var Sb=o.charCodeAt(W);k.push(String.fromCharCode(h<<8|Sb>>>8&255));h=Sb&255}f=0;q++}else f&&(k.push(d[0].xa.substring(f>>>1)),f=0,q++);for(b=d.length;q<b;q++)if(o=d[q],"byte"===o.type)c?(k.push(String.fromCharCode(h<<8|o.xa)),c=m):(h=o.xa,c=j);else if(o=
o.xa,c){W=0;for(C=o.length;W<C;W++)Sb=o.charCodeAt(W),k.push(String.fromCharCode(h<<8|Sb>>>8&255)),h=Sb&255}else k.push(o);d=c?[{type:"byte",xa:h}]:[];return k.join("")};return{Qa:o,fc:{Va:function(c){h||""===c||(d.push({type:"string",xa:c}),b())},oc:function(c){h||(d.push({type:"byte",xa:c}),b())},close:function(){h=j;b()},flush:n()}}}function da(b,c,d){b.addEventListener?b.addEventListener(c,d,m):b.attachEvent("on"+c,d)}var ea=ca(),fa=ca(),ga=ca(),ha=ca(),ja=fa.Qa,la=ga.fc,ma=ha.fc;
function na(b){b(new u("No filesystem."));return j}function oa(b,c){c(l,m);return j}
function pa(b,c,d){if(d)return c(new u("Can't access the Web synchronously.")),j;var f=new XMLHttpRequest;if("withCredentials"in f)f.open("GET",b,j);else if("XDomainRequest"in window)f=new XDomainRequest,f.open("GET",b);else return c(new u("No AJAX.")),j;da(f,"error",function(){c(new u("Couldn't open page: "+b+" because of error: "+f.statusText))});da(f,"load",function(){c(l,(new qa(f.responseText)).na())});f.send(l);return m}function ra(b){b(new u("No filesystem."));return j}
function sa(b){b(new u("No filesystem."));return j}function ta(b){b(new u("No filesystem."));return j}function ua(b){b(new u("No filesystem."));return j}function va(b){b(new u("No filesystem."));return j}var wa={};function xa(b){la.Va(""+b)}function ya(b){la.Va(""+b+"\n")}function za(b,c){i===c&&(c=ma);for(c.Va(""+b+"\n"+(b.stack||b)+"\n");b instanceof u&&(b=b.$c);)b instanceof Aa&&(b=b.qa),c.Va("Caused by: "+b+"\n"+(b.stack||b)+"\n")}var v={};function u(b,c){this.message=b;this.stack=Error().stack;this.$c=c;this.qd=[]}u.prototype=Error();function w(b,c){this.parent=c;this.bb=Array(~~b);this.Gb=0}t=w.prototype;
t.add=function(b){this.bb.length<=this.Gb&&g(new u("Can't add "+b+" to bindings: already full ("+this.Gb+") "+x(this.bb)));this.bb[this.Gb]=b;this.Gb++};t.zb=function(b){return 0===b?this:this.parent.zb(b-1)};t.toString=function(){for(var b=[],c=0;c<this.bb.length;c++)b.push(c),b.push(" : "),b.push(this.bb[c]),b.push("\n");return b.join("")+"\nparent: "+(this.parent===l?"<none>":this.parent.toString())};t.set=function(b,c){return this.bb[b]=c};t.Fb=p("Gb");t.size=function(){return this.bb.length};
function Ba(){}Ba.prototype=Error();function y(){}t=y.prototype;t.Ga=m;t.className="ArcObject";t.Da=r(m);t.m=function(){g(new u("addInstructions not defined on "+this+", a "+this.className))};t.f=function(b,c){var d=Ca.value();d instanceof Da||g(new TypeError);d=d.value(this.type());d instanceof z&&g(new u("No handler for "+this.type()+" in call* table: called "+this+" with args "+c));d.f(b,new A(this,c))};t.wa=function(b){this.f(b,B)};t.r=function(b,c){this.f(b,new A(c,B))};
t.R=function(b,c,d){this.f(b,new A(c,new A(d,B)))};t.Ra=function(b,c,d,f){this.f(b,new A(c,new A(d,new A(f,B))))};t.ha=function(){g(new u("len: expects one string, list or hash argument, got "+this.type()))};t.Qb=function(){g(new u("Can't set car of "+this.type()))};t.kc=function(b,c){g(new u("Can't sref "+this+"( a "+this.type()+"), other args were "+b+", "+c))};t.oa=r(0);t.pc=function(){return B};t.a=function(){g(new u("Can't take car of "+this))};t.b=function(){g(new u("Can't take cdr of "+this))};
t.wc=r(m);t.type=i;t.na=function(){return this};t.Ca=function(b){return this===b};t.copyTo=aa();t.N=r(j);t.yb=function(){g(new Ea)};t.Ka=function(){g(new Fa)};t.Sc=function(){return this};function Ga(b,c,d){for(var f=d,h=0;!(d instanceof z);)D(c,d.a()),d=d.b(),h++;E(c,new Ha(f,c.L,b));d=new Ia(h);d.k(b);E(c,d);d=new F(b);d.k(b);E(c,d)}t.wb=function(){g(new u("has length: not a proper list: ends with "+this))};t.cc=function(){g(new u("longer than: not a proper list: ends with "+this))};t.K=function(){return this};
t.j=n();t.W=function(){return this};t.nc=n();t.Ub=n();t.Vb=function(){return B};t.Na=function(){return this.Vb().toString()};t.add=function(){g(new u("add not implemented for "+this.type()+" "+this))};t.sqrt=function(){g(new u("sqrt not implemented for "+this.type()+" "+this))};t.multiply=function(){g(new u("multiply not implemented for "+this.type()+" "+this))};function Fa(){}t.reduce=function(){return this};t.V=r(m);t.Q=function(){return this};t.P=function(){return this};t.ea=r(m);t.Xa=function(){return this.toString()};
function Ja(b){var c=l;Ka((new qa(b)).na(),function(b,f){b&&g(b);c=f},j)||g(new Ba);return c}
function Ka(b,c,d){function f(c){return b.gb(function(b,d){if(b)return void c(b);c(l,d===l?l:String.fromCharCode(d))},d)}function h(c){return b.hc(function(b,d){if(b)return void c(b);c(l,d===l?l:String.fromCharCode(d))})}function k(b){for(var c=j,d=m;c&&!d;)d=j,h(function(q,o){if(q)return void b(q);o===l||"\n"===o?b(l):"\r"===o?f(function(d,f){if(d)return void b(d);"\n"===f?h(function(c){if(c)return void b(c);b(l)})||(c=m):b(l)})||(c=m):(d=m,c||k(b))})||(c=m);return c}function q(b){for(var c=j,d=
m;c&&!d;)d=j,f(function(f,o){function C(f){if(f)return void b(f);d=m;c||q(b)}if(f)return void b(f);";"===o?k(C)||(c=m):o===l||/[^ \t\r\n]/.test(o)?b(l):h(C)||(c=m)})||(c=m);return c}function o(b,c){function d(f){var h=b.length-1,k=b[h];b="string"===typeof f&&k instanceof La?b.slice(0,h).concat([G(k.value()+f)]):"string"===typeof f?b.concat([G(f)]):b.concat([f]);K=m;U||o(b,c)}function k(b){b===i&&(b=new Ba);c(b)}function C(){te(function(b,c){if(b)return k(b);q(function(b){if(b)return k(b);h(function(b,
f){if(b)return k(b);")"===f?d(c):k()})||(U=m)})||(U=m)})||(U=m)}for(var U=j,K=m;U&&!K;)K=j,h(function(q,o){if(q)return k(q);o===l?k():'"'===o?c(l,b):"\\"===o?h(function(b,c){if(b)return k(b);'"'===c?d('"'):"\\"===c?d("\\"):"n"===c?d("\n"):"r"===c?d("\r"):"t"===c?d("\t"):"#"===c?h(function(b,c){if(b)return k(b);"("===c?d("#("):k()})||(U=m):k()})||(U=m):"#"===o?f(function(b,c){if(b)return k(b);if("("!==c)return void d("#");h(function(b){if(b)return k(b);C()})||(U=m)})||(U=m):d(o)})||(U=m);return U}
function C(b,c){function d(b){c(l,Ma(b))}for(var k=j,o=m;k&&!o;)o=j,f(function(f,q){if(f)return void c(f);q===l||/[^01-9a-zA-Z]/.test(q)?"newline"===b?d(10):"tab"===b?d(9):"space"===b?d(32):"return"===b?d(13):"null"===b?d(0):/^[01-9][01-9]+$/.test(b)?d(parseInt(b,10)):/^u[0-9a-f]+$/i.test(b)?d(parseInt(b.substring(1),16)):1===b.length?d(b.charCodeAt(0)):c(new Ba):h(function(d,f){if(d)return void c(d);o=m;b+=f;k||C(b,c)})||(k=m)})||(k=m);return k}function K(b,c){for(var d=j,k=m;d&&!k;)k=j,f(function(f,
o){if(f)return void c(f);if(o===l||/[^01-9a-fA-F]/.test(o)){if(""===b)return void c(new Ba);c(l,H(parseInt(b,16)))}else h(function(f,h){if(f)return void c(f);k=m;b+=h;d||K(b,c)})||(d=m)})||(d=m);return d}function ia(b,c){for(var d=j,f=m;d&&!f;)f=j,h(function(h,k){if(h)return void c(h);k===l?c(new Ba):"|"===k?c(l,Na(b)):(f=m,b+=k,d||ia(b,c))})||(d=m);return d}function U(b,c,d){for(var k=j,o=m;k&&!o;)o=j,q(function(q){if(q)return void d(q);f(function(f,q){if(f)return void d(f);q===l?d(new Ba):q===c?
h(function(c){if(c)return void d(c);d(l,b)})||(k=m):te(function(f,h){if(f)return void d(f);o=m;b=b.concat([h]);k||U(b,c,d)})||(k=m)})||(k=m)})||(k=m);return k}function sb(b,c){for(var d=j,k=m;d&&!k;)k=j,f(function(f,o){if(f)return void c(f);var q=o!==l&&o.charCodeAt(0);if(o!==l&&(/^[-+$%&*\/<=>?^_~.!:01-9a-zA-Z]+$/.test(o)||128<=q&&65536>q))h(function(f,h){if(f)return void c(f);k=m;b+=h;d||sb(b,c)})||(d=m);else if("\\"===o)h(function(f){if(f)return void c(f);h(function(f,h){if(f)return void c(f);
"|"===h?(k=m,b+="\\|",d||sb(b,c)):c(new Ba)})||(d=m)})||(d=m);else{var U;/^-?[01-9]+\/[01-9]+$/.test(b)?c(l,Oa(b)):/^-?[01-9]+$/.test(b)?c(l,H(parseInt(b,10))):/^[-+]?[01-9]*\.?[01-9]+(e-?[01-9]+)?$/.test(b)?c(l,Pa(parseFloat(b))):"+inf.0"===b?c(l,new I(1/0)):"-inf.0"===b?c(l,new I(-1/0)):"+nan.0"===b?c(l,new I(0/0)):"+i"===b?c(l,new J(0,1)):"-i"===b?c(l,new J(0,-1)):(U=/^([-+]?[01-9]*\.?[01-9]+(?:e-?[01-9]+)?)([-+])([01-9]*\.?[01-9]+(?:e-?[01-9]+)?)?i$/.exec(b))?c(l,new J(Pa(parseFloat(U[1])).value(),
Pa(parseFloat(U[2]+(U[3]||"1"))).value())):c(l,Na(b))}})||(d=m);return d}function te(b){function c(){o([],function(c,d){if(c)return void b(c);0===d.length?b(l,G("")):1===d.length?b(l,d[0]):b(l,x([Na("string")].concat(d)))})||(ka=m)}function d(){ia("",function(c,d){if(c)return void b(c);b(l,Na(d))})||(ka=m)}function k(){h(function(c,d){if(c)return void b(c);d!==l&&/x/i.test(d)?K("",b)||(ka=m):"\\"===d?h(function(c,d){if(c)return void b(c);if(/[^a-zA-Z]/.test(c))return void b(l,Ma(c.charCodeAt(0)));
C(d,b)||(ka=m)})||(ka=m):b(new Ba)})||(ka=m)}function ue(c){te(function(d,f){if(d)return void b(d);f===l?b(new Ba):b(l,x([L(c),f]))})||(ka=m)}function Sb(){f(function(c,d){if(c)return void b(c);d===l?b(new Ba):"@"===d?h(function(c){if(c)return void b(c);ue("unquote-splicing")})||(ka=m):ue("unquote")})||(ka=m)}function wj(){U([],")",function(c,d){if(c)return void b(c);if(0===d.length)b(l,Qa);else{try{var f=d===l||0===d.length?B:d[0]===Ra?Sa(d):new A(d[0],Ta(d.slice(1)))}catch(h){return void b(h)}b(l,
f)}})||(ka=m)}function xj(){U([],"]",function(c,d){if(c)return void b(c);b(l,x([L("fn"),x([L("_")]),x(d)]))})||(ka=m)}var ka=j;q(function(f){if(f)return void b(f);h(function(f,h){if(f)return void b(f);h===l?b(l,l):'"'===h?c():"|"===h?d():"#"===h?k():"'"===h?ue("quote"):","===h?Sb():"`"===h?ue("quasiquote"):"("===h?wj():"["===h?xj():sb(h,b)||(ka=m)})||(ka=m)})||(ka=m);return ka}return te(c)}function M(b,c){this.$=b;this.Tc=c;this.bd=b;this.vb=this.i=l}M.prototype=new y;t=M.prototype;t.className="Symbol";
t.m=function(b){b.push(new Ua(this))};function L(b){var c=Na(b);if(c instanceof M)return c;g(new u("can't make symbol from \""+b+'"'))}
function Na(b){if("t"===b)b=Va;else if("nil"===b)b=B;else{var c;if(!(c=Wa.test(b))){a:if(/^-?[01-9]+\/[01-9]+$/.test(b)||/^-?[01-9]+$/.test(b)||/^[-+]?[01-9]*\.?[01-9]+(e-?[01-9]+)?$/.test(b)||"+inf.0"===b||"-inf.0"===b||"+nan.0"===b||"+i"===b||"-i"===b||/^([-+]?[01-9]*\.?[01-9]+(?:e-?[01-9]+)?)([-+])([01-9]*\.?[01-9]+(?:e-?[01-9]+)?)?i$/.test(b)||/\\(?!\|)/.test(b))c=j;else{c=0;for(var d=b.length;c<d;c++){var f=b.charCodeAt(c);if(!(/^[-+$%&*\/<=>?^_~.!:01-9a-zA-Z]+$/.test(b.charAt(c))||128<=f&&65536>
f)){c=j;break a}}c=m}c=c||"."===b}b=c?Xa(b,"|"+b+"|"):Ya.test(b)?Xa(b.replace(/\\\|/g,"|"),b):Xa(b,b)}return b}t.Xa=p("$");t.toString=p("Tc");function Xa(b,c){if(b in Za)return Za[b];var d=new M(b,c);return Za[b]=d}t.name=p("$");t.oa=function(b){b instanceof M||g(new TypeError);return this.$.localeCompare(b.name)};t.type=function(){return $a};t.na=function(){return this.name()};t.ya=p("bd");t.ua=function(b){return this===b};function ab(b,c){return c instanceof M&&c.name()===b}
t.da=function(b){var c=this.i;this.i=b;c!==l&&c.nc(this);b.Ub(this)};t.value=function(){this.i===l&&g(new u("Symbol "+this.$+" is not bound"));return this.i};t.bound=function(){return this.i!==l};function bb(b,c){try{return b instanceof M||g(new TypeError),b}catch(d){d instanceof TypeError||g(d),g(new u("Wrong argument type: "+c+" expected a Symbol, got "+b))}}function cb(b,c,d){if(b.vb===l)b.vb={};b.vb[c.name()]=d}
var Za={},Wa=/.*(["'; \t\n\)\(]|([^\\]|^)\|).*/,Ya=/.*\\\|/,$a=L("sym"),Ra=L("."),db=L("!");function A(b,c){b===l&&g(new u("Can't create Pair with null car: use NIL instead"));c===l&&g(new u("Can't create Pair with null cdr: use NIL instead"));this.Wa=b;this.ib=c}A.prototype=new y;t=A.prototype;t.className="Pair";t.f=function(b,c){var d=eb(c.a(),this);D(b,this.zb(d.G()).a())};t.pc=p("Wa");t.a=p("Wa");t.b=p("ib");t.Ka=function(){this.Wa!==l&&g(new Fa)};t.N=r(m);t.Qb=function(b){return this.Wa=b};
t.kc=function(b,c){return this.zb(gb(c,this).G()).Qb(b)};t.wc=function(b){return b===this.Wa};t.toString=function(){if(this.a()instanceof M&&this.a().name()in hb&&this.b()instanceof A&&1===this.b().size()){var b=this.a(),b=hb[b.name()],c=this.b();c instanceof A||g(new TypeError);return b+ib(c)}return"("+ib(this)+")"};function ib(b){for(var c=[];!b.N();)c.push(b.a()),b.b().N()||c.push(" "),b=b.b();b instanceof z||c.push(" . ",b);return c.join("")}t.Dc=ba("ib");
function Ta(b){if(0===b.length)return B;if(b[0]===Ra)return 2===b.length?(b=b[1],b instanceof y||g(new TypeError),b):Sa(b);var c=b[0];c instanceof y||g(new TypeError);return new A(c,Ta(b.slice(1)))}function Sa(b){g(new u('Error: illegal use of "." in '+b))}function jb(b,c,d){if(d===b.length)return c;var f=b[d];f instanceof y||g(new TypeError);return new A(f,jb(b,c,d+1))}function kb(b,c){return b===l||0===b.length?c:jb(b,c,0)}function x(b){return kb(b,B)}t.type=function(){return lb};t.ha=function(){return this.size()};
t.size=function(){if(this instanceof z)return 0;for(var b=1,c=this.ib;!(c instanceof z);)c.N()&&g(new u("cannot take size: not a proper list: "+this)),b++,c=c.b();return b};t.oa=function(){g(new u("Pair.compareTo:unimplemented"))};t.copyTo=function(b){b.push(this.a());if(this.b()instanceof z)return b;this.b()instanceof A||g(new u("Not a list: "+this));this.b().copyTo(b);return b};
t.ua=function(b){if(this===b)return j;var c=this instanceof z;b instanceof y||g(new TypeError);var d=b instanceof z;if(c!==d)return m;if(c&&d)return j;return b instanceof A?(c=b.Wa.ua(this.Wa),b=b.ib.ua(this.ib),c&&b):m};t.ya=function(){return this.a().ya()+this.b().ya()};t.zb=function(b){try{for(var c,d=this,f=b;0<f;)d.b()instanceof z&&g(new mb),d=d.b(),f--;c=d;c instanceof A||g(new TypeError);return c}catch(h){h instanceof mb||g(e),g(new u("Error: index "+b+" too large for list "+this))}};
t.wb=function(b){return this.b().wb(b-1)};t.cc=function(b){return 0>b||this.b().cc(b-1)};t.Na=function(){return"ref:"+this.type().toString()};function mb(){}mb.prototype=Error();t=A.prototype;t.na=function(){var b=[];nb(b,this);return b};t.Ca=function(b){return y.prototype.Ca.call(this,b)||this instanceof z&&b instanceof z};function nb(b,c){if(!(c instanceof z)){b.push(c.a().na());var d=c.b();d instanceof A||g(new TypeError);nb(b,d)}}function ob(b){var c=Array(~~b.size());pb(b,c,0);return c}
function pb(b,c,d){if(d<c.length)c[d]=b.Wa,b=b.ib,b instanceof A||g(new TypeError),b instanceof z||pb(b,c,d+1)}function qb(b,c){try{return b instanceof A||g(new TypeError),b}catch(d){d instanceof TypeError||g(d),g(new u("Wrong argument type: "+c+" expected a cons, got "+b))}}t.yb=n();t.add=function(b){if(b instanceof A){var c=[];this.copyTo(c);b.copyTo(c);return x(c)}g(new u("+ : expects cons, got "+b.type()+" "+b))};
t.j=function(b){b.sa(this);for(var c=this;!c.N();)c.a().j(b),c=c.b();c instanceof z||c.j(b);b.Fa(this)};function Ea(){}var lb=L("cons"),hb={quasiquote:"`",quote:"'",unquote:",","unquote-splicing":",@"};function z(b){this.Wa=this.ib=l;this.rb=b}var rb=new A(i,i);rb.T=rb.M=l;z.prototype=rb;t=z.prototype;t.className="Nil";t.m=function(b){b.push(new F(tb))};t.f=function(b,c){g(new u("Function dispatch on inappropriate object: "+this+" with args "+c))};t.yb=n();t.Da=r(j);t.ha=r(0);t.N=r(j);t.Ka=n();
t.toString=p("rb");t.pc=function(){return this};t.a=function(){return this};t.b=function(){return this};t.wc=r(m);t.Dc=function(){g(Error("can't set the cdr of "+this))};t.size=r(0);t.copyTo=aa();t.type=function(){return ub};t.ya=r("nil");t.ua=function(b){if(this===b)return j;b instanceof y||g(new TypeError);return b instanceof z};t.na=r(m);t.Ca=function(b){return b instanceof z};t.Sc=aa();t.wb=function(b){return 0===b};t.cc=function(b){return 0>b};var ub=$a,tb=new z("nil"),vb=new z("()");
function wb(){M.call(this,this.$,this.Tc);xb!==i&&g(Error())}wb.prototype=new M("t","t");t=wb.prototype;t.className="Truth";t.Da=r(j);t.m=function(b){b.push(new F(xb))};t.toString=r("t");t.oa=function(){g(new u("Truth.compareTo:unimplemented"))};t.type=function(){return $a};function yb(b){return b?xb:B}t.ya=r("t");t.ua=function(b){return this===b};t.na=r(j);t.da=function(){g(new u("error: can't rebind t!"))};t.value=function(){return this};var xb=new wb;function N(){this.e=l}N.prototype=new y;t=N.prototype;
t.Ib=m;t.ac=m;t.la=m;t.za=m;t.className="Instruction";t.type=function(){return L("instruction")};t.Za=function(){return this.toString()};t.toString=function(){return"("+this.className+")"};t.d=i;t.k=ba("e");t.j=function(b){b.Sb(this)};function Ha(b,c,d){this.e=l;this.fd=b;this.Db=c;this.k(d)}Ha.prototype=new N;Ha.prototype.ac=j;Ha.prototype.className="ArcObject.ConvertError";Ha.prototype.rc=function(b){return b instanceof Error};
Ha.prototype.d=function(b){var c=b.error();if(c!==l)b.Pa=l,b.L=this.Db,g(new u("error invoking "+this.e+" with args "+this.fd+": "+c,c))};var Ca=L("call*"),B=tb,Qa=vb,Va=xb;function zb(){}zb.prototype=new y;zb.prototype.className="LiteralObject";zb.prototype.Da=r(j);zb.prototype.m=function(b){b.push(new F(this))};zb.prototype.Na=function(){return"ref:"+this.type().toString()};function O(b){this.i=b;Ab[b]=this}O.prototype=new zb;t=O.prototype;t.className="ArcCharacter";
function Ma(b){return Ab[b]===i?new O(b):Ab[b]}t.Da=r(j);t.toString=function(){return"#\\"+String.fromCharCode(this.i)};t.oa=function(b){b instanceof O||g(new TypeError);return this.i-other.i};t.type=function(){return Bb};t.na=function(){return this.value()};t.value=p("i");t.Xa=function(){return String.fromCharCode(this.i)};t.ya=function(){return this.Xa()};t.ua=function(b){return this===b||b instanceof O&&b.i===this.i};
function Cb(b,c){try{return b instanceof O||g(new TypeError),b}catch(d){d instanceof TypeError||g(d),g(new u("Wrong argument type: "+c+" expected a character, got "+b))}}var Bb=L("char"),Ab=Array(65536);function Db(){O.call(this,0)}Db.prototype=new O(0);Db.prototype.className="ArcCharacter.Anon_NULL_";Db.prototype.toString=r("#\\null");var Eb=new Db;function Fb(){O.call(this,10)}Fb.prototype=new O(10);Fb.prototype.className="ArcCharacter.Anon_named_1_";Fb.prototype.toString=r("#\\newline");
function Gb(){O.call(this,9)}Gb.prototype=new O(9);Gb.prototype.className="ArcCharacter.Anon_named_2_";Gb.prototype.toString=r("#\\tab");function Hb(){O.call(this,13)}Hb.prototype=new O(13);Hb.prototype.className="ArcCharacter.Anon_named_3_";Hb.prototype.toString=r("#\\return");function Ib(){O.call(this,32)}Ib.prototype=new O(32);Ib.prototype.className="ArcCharacter.Anon_named_4_";Ib.prototype.toString=r("#\\space");new Fb;new Gb;new Hb;new Ib;function La(b){this.i=b}La.prototype=new zb;t=La.prototype;
t.className="ArcString";t.f=function(b,c){Jb(c,this.className,1);var d=gb(c.a(),this);d.ja()||g(new u("string-ref: expects exact integer: got "+d));d=~~d.G();0<=d||d<this.value.length()||g(new u("string-ref: index "+d+" out of range [0, "+(this.i.length-1)+"] for string "+this.toString()));D(b,Ma(this.i.charCodeAt(d)))};t.value=p("i");t.Xa=p("i");
t.toString=function(){var b=this.i,c=[];c.push('"');for(var d=0;d<b.length;d++)switch(b.charAt(d)){case '"':c.push('\\"');break;case "\\":c.push("\\\\");break;case "\n":c.push("\\n");break;case "\r":c.push("\\r");break;default:c.push(b.charAt(d))}c.push('"');return c.join("")};t.oa=function(b){b instanceof La||g(new TypeError);return this.i.localeCompare(b.i)};t.ha=function(){return this.i.length};t.Qb=function(b){var c=[Cb(b,this).Xa()];c.push(this.value().substring(1));this.da(c.join(""));return b};
t.kc=function(b,c){var d=Cb(b,O),f=gb(c,this),f=f.G();0<=f&&f<this.i.length||g(new RangeError);this.i=this.i.substring(0,f-1)+String.fromCharCode(d.value())+this.i.substring(f+1);return b};t.type=function(){return Kb};t.na=function(){return this.value()};function G(b){return new La(b)}t.da=ba("i");t.ya=p("i");t.ua=function(b){return this===b||b instanceof La&&b.i===this.i};t.Ca=function(b){return this.ua(b)};
t.add=function(b){var c=[this.i];if(!(b instanceof La)){var d=b.type();d instanceof M||g(new TypeError);d=Lb.vb[d]||l;d instanceof Mb||g(new TypeError);b=d.Eb(b);b instanceof La||g(new TypeError)}c.push(b.value());return G(c.join(""))};function Nb(b,c){try{return b instanceof La||g(new TypeError),b}catch(d){d instanceof TypeError||g(d),g(new u("Wrong argument type: "+c+" expected a string, got "+b))}}var Kb=L("string");function Aa(b,c,d){this.pb=c;this.qa=b;this.kd=d}Aa.prototype=new zb;
Aa.prototype.className="ArcException";Aa.prototype.type=function(){return Ob};Aa.prototype.message=function(){return this.qa!==l?G(this.qa.message):Pb};Aa.prototype.toString=function(){return this.message().toString()};var Ob=L("exn"),Pb=G("no message");function P(){}P.prototype=new zb;t=P.prototype;t.className="ArcNumber";t.ja=i;t.C=i;t.G=i;t.nb=i;t.round=i;t.ic=function(){g(new u("round[closest] not implemented for "+this.className+"("+this+")"))};t.Da=r(j);
t.oa=function(b){b instanceof P||g(new TypeError);b=b.C()-this.C();return 0>b?1:0===b?0:-1};t.type=function(){return this.ja()?Qb:Rb};t.Ca=function(b){return this.ua(b)};function eb(b,c){try{return b instanceof P||g(new TypeError),b}catch(d){d instanceof TypeError||g(d),g(new u("Wrong argument type: "+c+" expected a number, got "+b))}}t.Pc=function(){g(new u("mod: not implemented for "+this.className+"("+this+")"))};var Qb=L("int"),Rb=L("num");function Tb(){this.i=l}Tb.prototype=new zb;
Tb.prototype.className="ArcThreadLocal";Tb.prototype.set=ba("i");Tb.prototype.get=p("i");Tb.prototype.type=function(){return Ub};function Vb(b,c){try{return b instanceof Tb||g(new TypeError),b}catch(d){d instanceof TypeError||g(d),g(new u("Wrong argument type: "+c+" expected a thread-local, got "+b))}}var Ub=L("thread-local");function J(b,c){this.T=b;this.M=c}J.prototype=new P;t=J.prototype;t.className="Complex";
function Wb(){var b;if("+i"===soFar)return new J(0,1);if("-i"===soFar)return new J(0,-1);if(b=/^([-+]?[01-9]*\.?[01-9]+(?:e-?[01-9]+)?)([-+])([01-9]*\.?[01-9]+(?:e-?[01-9]+)?)?i$/.exec(soFar))return new J(Pa(parseFloat(b[1])).value(),Pa(parseFloat(b[2]+(b[3]||"1"))).value());g(new Ba)}t.ja=function(){return 0===this.M&&Math.floor(this.T)===real};t.C=function(){g(new u("Cannot convert complex to double"))};t.G=function(){g(new u("Cannot convert complex to int"))};
t.nb=function(){return new J(-this.T,-this.M)};t.toString=function(){return(new I(this.T)).toString()+(0>this.M?"":"+")+(new I(this.M)).toString()+"i"};function Xb(b,c){try{return b instanceof J||g(new TypeError),b}catch(d){d instanceof TypeError||g(d),g(new u("Wrong argument type: "+c+" expected a complex number, got "+b))}}t.round=function(){return new u("Can't convert "+this+" to integer")};function Yb(b){var c=argument.C();return new J(b.T*c,b.M*c)}
t.multiply=function(b){if(b instanceof J)return Zb(this,b);b instanceof P||g(new TypeError);b=b.C();return new J(this.T*b,this.M*b)};function Zb(b,c){var d=b.T,f=c.T,h=b.M,k=c.M;return new J(d*f-h*k,d*k+f*h)}t.add=function(b){if(b instanceof J)return new J(this.T+b.T,this.M+b.M);if(b instanceof Q||b instanceof I)return new J(this.T+b.C(),this.M);g(new u("+: expects a number, got "+b.type()+" "+b))};t.log=function(){return new J(Math.log(Math.sqrt(this.T*this.T+this.M*this.M)),Math.atan2(this.M,this.T))};
function $b(b,c){var d;if(c instanceof J)d=Zb(b.log(),c).exp();else{d=b.log();var f=c.C();d=(new J(d.T*f,d.M*f)).exp()}return d}t.sqrt=function(){return $b(this,Pa(0.5))};t.exp=function(){var b=Math.exp(this.T);return new J(b*Math.cos(this.M),b*Math.sin(this.M))};t.oa=function(){g(new u("Compare: complex numbers are unordered and cannot be compared"))};t.Ca=function(b){return b instanceof J?b.T===this.T&&b.M===this.M:b instanceof P&&0===this.M&&b.C()===this.T};
function Q(b,c){0===c&&0!==b&&g(new u("/: division by zero"));var d=ac(this,b,c);this.ca=b/d;this.U=c/d}Q.prototype=new P;t=Q.prototype;t.className="Rational";function Oa(b){b=b.split("/");return new Q(parseInt(b[0],10),parseInt(b[1],10))}function H(b){return new Q(b,1)}t.toString=function(){return this.ca+(1===this.U?"":"/"+this.U)};t.ja=function(){return 1===this.U};t.C=function(){return this.ca/this.U};t.G=function(){if(0===this.ca)return 0;var b=this.ca/this.U;return 0>b?Math.ceil(b):Math.floor(b)};
function ac(b,c,d){return 0===d?c:ac(b,d,c%d)}t.Pc=function(b){(!this.ja()||!b.ja())&&g(new u("modulo: expects integer, got ("+this+" "+b+")"));var b=b.G(),c=this.ca%b;0>c&&(c+=b);return H(c)};function bc(b,c){return new Q(b.ca*c.ca,b.U*c.U)}t.Nb=function(b){return new Q(this.ca*b.U+b.ca*this.U,this.U*b.U)};t.nb=function(){return new Q(-this.ca,this.U)};t.na=function(){return this.ja()?this.G():this.C()};t.ya=function(){return this.ja()?this.G():this.C()};
t.ya=function(){return 37*this.ca+this.U+""};t.ua=function(b){return b instanceof Q&&this.ca===b.ca&&this.U===b.td};function gb(b,c){try{return b instanceof Q||g(new TypeError),b}catch(d){d instanceof TypeError||g(d),g(new u("Wrong argument type: "+c+" expected a Rational, got "+b))}}t.round=function(){if(1===this.U)return this;if(2===this.U){var b=this.ca/this.U,b=0>b?Math.ceil(b):Math.floor(b);return H(b+(1===b%2?1:0))}return H(Math.round(this.ca/this.U))};
t.ic=function(){return 1===this.U?this:H(Math.round(this.ca/this.U))};t.stringify=function(b){var c=this.ca.toString(b.G());if(this.ja())return G(c);b=this.U.toString(b.G());return G(c+"/"+b)};t.sqrt=function(){var b=Math.sqrt(this.ca/this.U);return Math.floor(b)===b?H(b):Pa(b)};t.multiply=function(b){if(b instanceof J)return Yb(b);if(b instanceof I)return Pa(b.i*this.C());if(b instanceof Q)return bc(this,b);g(new u("*: expects a number, got "+b.type()+" "+b))};
t.add=function(b){if(b instanceof J)return new J(b.T+this.C(),b.M);if(b instanceof I)return b.Nb(this);if(b instanceof Q)return this.Nb(b);g(new u("+: expects a number, got "+b.type()+" "+b))};var cc=H(0),dc=H(1),ec=H(10);function I(b){this.i=b}I.prototype=new P;t=I.prototype;t.className="Real";function Pa(b){return new I(b)}t.toString=function(){return this.i===-1/0?"-inf.0":this.i===1/0?"+inf.0":this.i!==this.i?"+nan.0":""+this.i};t.na=function(){this.ja();return this.value()};t.type=function(){return Rb};
t.value=p("i");t.ja=function(){return Math.floor(this.i)===this.i};t.C=p("i");t.G=function(){return 0>this.i?Math.ceil(this.i):Math.floor(this.i)};t.nb=function(){return Pa(-this.i)};t.ya=function(){return""+this.i};t.ua=function(b){return b instanceof J?b.Ca(this):this===b||b instanceof I&&this.i===b.i};t.round=function(){var b=Math.round(this.i);return 0.5===Math.abs(this.i-b)&&1==b%2?b<this.i?H(b+1):H(b-1):H(b)};t.ic=function(){return H(Math.round(this.i))};t.Nb=function(b){return Pa(this.i+b.C())};
t.sqrt=function(){return Pa(Math.sqrt(this.i))};t.multiply=function(b){if(b instanceof J)return Yb(b);if(b instanceof P)return Pa(this.i*b.C());g(new u("*: expects a number, got "+b.type()+" "+b))};t.add=function(b){if(b instanceof J)return new J(b.T+this.C(),b.M);if(b instanceof Q||b instanceof I)return this.Nb(b);g(new u("+: expects a number, got "+b.type()+" "+b))};function fc(b,c){this.Bb=b;this.rb=c}fc.prototype=new zb;t=fc.prototype;t.className="Tagged";
t.f=function(b,c){var d=Ca.value();d instanceof Da||g(new TypeError);return d.value(this.Bb).f(b,new A(this.rb,c))};t.oa=r(0);t.type=p("Bb");function gc(b){return b instanceof fc&&"mac"===b.Bb.toString()?b.rb:l}t.toString=function(){return hc(this)};
function hc(b){var c=ic;if(!c.bound())return"#<tagged "+b.Bb+" "+b.rb+">";c=c.value();c instanceof Da||g(new TypeError);c=c.value(b.Bb);if(c instanceof z)return"#<tagged "+b.Bb+" "+b.rb+">";b=new jc;c.f(b,x([rep]));var d;kc(b,function(b,c){b&&g(b);d=c},j)||g(new u("An asynchronous operation was attempted during a toString()."));return""+lc(d)}var ic=L("tagged-writers");function mc(b){this.zc=b}mc.prototype=new zb;t=mc.prototype;t.className="JsObject";t.type=function(){return nc};t.na=p("zc");
t.toString=function(){return""+this.zc};function oc(b){var c=[];pc(c,b);return c}function pc(b,c){b.push(lc(c.a()));if(!(c.b()instanceof z)){var d=c.b();d instanceof A||g(new TypeError);pc(b,d)}}function lc(b){return b.na()}
function qc(b){if(b===l)return B;if(b instanceof y)return b;var c=Object.prototype.toString.call(b);if("[object Number]"===c)return b*=1,b===Math.floor(b)?H(b):Pa(b);if("[object String]"===c)b=G(""+b);else if("[object Array]"===c||"[object Arguments]"===c){for(var c=Array(~~b.length),d=0;d<b.length;d++)c[d]=qc(b[d]);b=x(c)}else b="[object Boolean]"===c?b?Va:B:new mc(b);return b}t.close=function(){g(new u("close: unexpected object: "+this))};var nc=L("java-object");
function Da(){this.$=B;this.dc={};this.lb=this.$b=l;this.ec=new rc;this.Oc=0}Da.prototype=new zb;t=Da.prototype;t.className="Hash";t.nc=function(b){if(this.$===b)this.$=B,this.ec=new rc};t.Ub=function(b){this.$=b;this.ec=new sc(this)};t.Vb=p("$");t.f=function(b,c){D(b,this.value(c.a()).Sc(c.b().a()))};t.toString=function(){return"#hash"+tc(this)};function tc(b){for(var c=[],d=b.$b;d!==l;d=d.next){var f=d.key,f=new A(f,new A(b.value(f),B));c.push(f)}return kb(c,Qa)}t.ha=function(){return this.size()};
t.kc=function(b,c){if(b instanceof z){var d=this.value(c),f=this.dc[c.ya()];if(f)for(var h=0,k=f.length;h<k;h++){var q=f[h];if(c.ua(q.key)){f.splice(h,1);if(q.Pb)q.Pb.next=q.next;if(q.next)q.next.Pb=q.Pb;if(this.$b===q)this.$b=q.next;if(this.lb===q)this.lb=q.Pb;this.ha--;break}}this.ec.Fc(d,c)}else{d=c.ya();d=this.dc[d]||(this.dc[d]=[]);f=l;h=0;for(k=d.length;h<k;h++)if(q=d[h],c.ua(q.key)){f=q;break}f===l?(f=this.lb,this.lb={key:c,value:b,Pb:f,next:l},f===l?this.$b=this.lb:f.next=this.lb,d.push(this.lb),
this.Oc++):f.value=b;this.ec.name(b,c)}return b};t.value=function(b){var c=this.dc[b.ya()];if(!c)return B;for(var d=0,f=c.length;d<f;d++){var h=c[d];if(b.ua(h.key))return h.value}return B};t.oa=r(0);t.type=function(){return vc};t.size=p("Oc");function wc(){}wc.prototype.name=i;wc.prototype.Fc=i;function sc(b){this.Wc=b}sc.prototype=new wc;sc.prototype.name=function(b,c){b.Ub(new A(c,this.Wc))};sc.prototype.Fc=function(b,c){b.nc(new A(c,this.Wc))};function rc(){}rc.prototype=new wc;
rc.prototype.name=n();rc.prototype.Fc=n();var vc=L("table");function jc(){this.Ec=xc++;this.aa=Array(100);this.L=-1;this.ma=[];this.ga=Array(100);this.D=Array(100);this.g=-1;this.Pa=this.Hb=this.q=l;this.kb=yc;this.Yb=m;this.Ba=0;this.Ta=l;this.Ic=0;this.pb=l}jc.prototype=new y;t=jc.prototype;t.className="VM";
function kc(b,c,d){var f=b.Ba;b.Ba=b.g;var h=zc(b,function(){b.Ba=f;if(b.Pa===l)b.kb.end(b),c(l,R(b));else{var d=b.Pa;b.Pa=l;var h=d.kd,o="\nAt instruction "+d.pb;if(h!==l)for(var C=0,K=h.length;C<K;C++)o+="\n"+h[C].Na();c(new u("Unhandled exception on thread#"+b.Ec+": "+d.qa.message+o,d.qa))}},d);if(d&&!h)b.Ba=f;return h}
function zc(b,c,d){function f(){for(;h.Ba<=h.g;)try{if(h.D[h.g]instanceof z)h.g--;else{h.q=h.ga[h.g];h.Hb=h.ma[h.g];var b=h.D[h.g].a();b instanceof N||g(new TypeError);h.pb=b;var o=h.D[h.g].b();o instanceof A||g(new TypeError);h.D[h.g]=o;if(h.pb.za){var C=j,C=h.pb.Ha(h,function(b){b?Ac(h,b):h.kb.cb(h);C||f()},d);if(!C){k=m;return}}else h.pb.d(h),h.kb.cb(h)}}catch(K){Ac(h,K)}c()}b.kb.cb(b);var h=b,k=j;f();return k}
function Ac(b,c){for(var d=[],f=[],h=[];b.Ba<=b.g;){var k=Bc(b).a();if(k.ac&&k.rc(c))break;k=Bc(b).a();k.Ib&&(f.push(Bc(b)),h.push(b.ga[b.g]));if(k instanceof N)k=Bc(b).a().e,k!==l&&d.push(k);b.g--}b.Pa=new Aa(c,b.pb,d);for(d=f.length-1;0<=d;d--)S(b,h[d],f[d])}t.error=p("Pa");
t.show=function(){ya("Thread Dump for thread#"+threadId);ya(""+(this.L+1)+" args");for(var b=5<this.L?this.L-5:0;b<this.L+1;b++)ya(""+b+". "+this.aa[b]);ya();b=this.g+1;if(this.D[this.g]instanceof z)b=this.g;ya(""+b+" instruction frames");for(var b=20<this.g?this.g-20:0,c=this.g;b<=c;c--)if(!(this.D[c]instanceof z)){var d=this.D[c],f=this.ga[c],h=this.ma[c];for(xa("\nInstruction Frame "+c+":");!(d instanceof z);){var k=d.a();k instanceof N||g(new TypeError);d=d.b();newInstructions instanceof A||g(new TypeError);
xa(k.Za(f));xa(" ")}xa("[");k=0;for(d=h.length;k<d;k++)xa(""+h[k]+" ");xa("]");la.Va("\n")}};function E(b,c){b.Ba<=b.g&&Bc(b)instanceof z||(b.g++,0<=b.g&&b.g<b.D.length||(Cc(b,2*b.D.length),Dc(b,2*b.ga.length),Ec(b,2*b.ma.length)));b.D[b.g]=new A(c,B)}function S(b,c,d){b.Ba<=b.g&&Bc(b)instanceof z||(b.g++,0<=b.g&&b.g<b.D.length||(Cc(b,2*b.D.length),Dc(b,2*b.ga.length),Ec(b,2*b.ma.length)));b.D[b.g]=d;b.ga[b.g]=c}
function T(b,c,d,f){b.Ba<=b.g&&Bc(b)instanceof z||(b.g++,0<=b.g&&b.g<b.D.length||(Cc(b,2*b.D.length),Dc(b,2*b.ga.length),Ec(b,2*b.ma.length)));b.D[b.g]=d;b.ga[b.g]=c;b.ma[b.g]=f}function Fc(b,c){b.Ba<=b.g&&Bc(b)instanceof z?b.D[b.g]=c:(b.g++,0<=b.g&&b.g<b.D.length||(Cc(b,2*b.D.length),Dc(b,2*b.ga.length),Ec(b,2*b.ma.length)),b.D[b.g]=c,b.ga[b.g]=b.q,b.ma[b.g]=b.Hb)}function Bc(b){return b.D[b.g]}
function D(b,c){b.L++;if(!(0<=b.L&&b.L<b.aa.length)){var d=Array(~~(2*b.aa.length));Gc(b.aa,d);b.aa=d}b.aa[b.L]=c}function Hc(b){return b.aa[b.L]}function R(b){return b.aa[b.L--]}function Ic(b,c){for(var d=Qa,f=0;f<c;f++)d=new A(b.aa[b.L-f],d);b.L-=c;return d}function Jc(b,c){b.kb=c;c.xb(b)}t.type=function(){return Kc};
t.copyTo=function(b){b.L=this.L;b.g=this.g;b.D.length<this.D.length?(b.D=this.D.slice(),b.ga=this.ga.slice(),b.ma=this.ma.slice()):(Gc(this.D,b.D),Gc(this.ga,b.ga),Gc(this.ma,b.ma));b.aa.length!==this.aa.length?b.aa=this.aa.slice():Gc(this.aa,b.aa);b.q=this.q;b.Pa=this.Pa;b.kb=this.kb;b.Yb=this.Yb;b.Ba=this.Ba};t.toString=function(){return"[thread#"+this.Ec+": instruction stack "+this.g+"; arg stack "+this.L+"]"};function Dc(b,c){var d=Array(~~c);Gc(b.ga,d);b.ga=d}
function Cc(b,c){var d=Array(~~c);Gc(b.D,d);b.D=d}function Ec(b,c){var d=Array(~~c);Gc(b.ma,d);b.ma=d}function Gc(b,c){for(var d=0,f=b.length;d<f;d++)c[d]=b[d]}function Lc(b){if(!(b.Ba<=b.g))return l;return b.D[b.g]instanceof z?(b.g--,Lc(b)):b.D[b.g].a()}var Kc=L("thread"),xc=0;function Mc(){this.Ja=[];this.Nc=B}Mc.prototype=new y;t=Mc.prototype;t.className="ListBuilder";t.append=function(b){this.Ja.push(b)};t.Mc=ba("Nc");t.list=function(){return kb(this.Ja,this.Nc)};t.type=function(){return L("list-builder")};
t.toString=function(){return"ListBuilder:"+this.list().toString()};function Nc(){this.e=l}Nc.prototype=new N;Nc.prototype.className="Append";Nc.prototype.d=function(b){var c=R(b),b=Hc(b);b instanceof Mc||g(new TypeError);b.append(c)};Nc.prototype.toString=r("(append)");function Oc(){this.e=l}Oc.prototype=new N;Oc.prototype.className="AppendAll";Oc.prototype.d=function(b){var c=R(b),b=Hc(b);b instanceof Mc||g(new TypeError);c instanceof A||g(new TypeError);c.copyTo(b.Ja)};Oc.prototype.toString=r("(append-all)");
function Pc(){this.e=l}Pc.prototype=new N;Pc.prototype.className="AppendDot";Pc.prototype.d=function(b){var c=R(b),b=Hc(b);b instanceof Mc||g(new TypeError);b.Mc(c)};Pc.prototype.toString=r("(append-dot)");function Qc(b,c){this.e=l;this.Rc=b;this.Db=c}Qc.prototype=new N;t=Qc.prototype;t.ac=j;t.className="Catch";t.rc=r(j);t.d=function(b){var c=b.error();if(c!==l)b.Pa=l,b.L=this.Db,this.Rc.f(b,x([c]))};t.toString=function(){return"(catch "+this.Rc+")"};function Rc(b){this.e=l;this.Lc=b}
Rc.prototype=new N;Rc.prototype.className="Close_Instruction";Rc.prototype.d=function(b){D(b,new Sc(this.Lc,b.q))};Rc.prototype.toString=function(){return"(close "+this.Lc+")"};function Tc(b){this.e=l;this.Gc=b}Tc.prototype=new N;Tc.prototype.Ib=j;Tc.prototype.className="FinallyInvoke";Tc.prototype.d=function(b){this.Gc.f(b,B)};Tc.prototype.toString=function(){return"(finally:"+this.Gc+")"};function Uc(){this.e=l}Uc.prototype=new N;Uc.prototype.className="FinishList";
Uc.prototype.d=function(b){var c=R(b);c instanceof Mc||g(new TypeError);D(b,c.list())};Uc.prototype.toString=r("(finish-list)");function Ua(b){this.e=l;this.Ua=b}Ua.prototype=new N;Ua.prototype.className="FreeSym";Ua.prototype.d=function(b){D(b,this.Ua.value())};Ua.prototype.toString=function(){return"(free-sym "+this.Ua+")"};Ua.prototype.Za=function(){return"(free-sym "+this.Ua+" -> "+(sym.bound()?""+sym.value():"#unbound#")+")"};function Vc(b){this.e=l;this.Ua=b}Vc.prototype=new N;
Vc.prototype.className="LexSym";Vc.prototype.d=function(b){D(b,this.Ua.t(b.q))};Vc.prototype.toString=function(){return"(lex-sym "+this.Ua+")"};Vc.prototype.Za=function(b){return"(lex-sym "+this.Ua+" -> "+this.Ua.t(b)+")"};function Wc(b){this.e=l;this.Vc=b}Wc.prototype=new N;Wc.prototype.className="Listify";Wc.prototype.d=function(b){D(b,Ic(b,this.Vc))};Wc.prototype.toString=function(){return"(listify "+this.Vc+")"};function F(b){this.e=l;this.Hc=b}F.prototype=new N;F.prototype.className="Literal";
F.prototype.d=function(b){D(b,this.Hc)};F.prototype.toString=function(){return"(literal "+this.Hc+")"};function Xc(){this.e=l}Xc.prototype=new N;Xc.prototype.className="NewList";Xc.prototype.d=function(b){D(b,new Mc)};Xc.prototype.toString=r("(new-list)");function Yc(b){this.e=l;this.$=b}Yc.prototype=new N;Yc.prototype.className="PopArg";Yc.prototype.d=function(b){R(b)};Yc.prototype.toString=function(){return"(pop-arg:"+this.$+")"};function Zc(b,c){this.e=l;this.md=b;this.i=c}Zc.prototype=new N;
Zc.prototype.Ib=j;Zc.prototype.className="SetThreadLocal";Zc.prototype.d=function(){this.md.value=this.i};function $c(b,c){this.e=l;this.Ua=b;this.eb=c}$c.prototype=new N;$c.prototype.className="StackSym";$c.prototype.d=function(b){var c=this.eb;b.L++;if(!(0<=b.L&&b.L<b.aa.length)){var d=Array(~~(2*b.aa.length));Gc(b.aa,d);b.aa=d}b.aa[b.L]=b.Hb[c]};$c.prototype.toString=function(){return"(stack-bound symbol:"+this.Ua+")"};function ad(b){this.e=l;this.Kc=b}ad.prototype=new N;
ad.prototype.className="TableMapper";ad.prototype.d=function(b){var c=R(b);c instanceof A||g(new TypeError);if(!(c instanceof z)){D(b,c.b());E(b,this);c=c.a();c instanceof A||g(new TypeError);var d=new Yc("map-table-iterator");d.k(this);E(b,d);this.Kc.f(b,c)}};ad.prototype.toString=function(){return"(table-mapper "+this.Kc+")"};function bd(b){this.e=l;this.name=b}bd.prototype=new N;bd.prototype.className="Assign_Lex";function cd(b,c){bd.call(this,b);this.value=c}cd.prototype=new bd;
cd.prototype.className="Assign_Lex_Free";cd.prototype.d=function(b){var c=this.value.value();dd(this.name,b.q,c);D(b,c)};cd.prototype.toString=function(){return"(assign-lex "+this.name+" "+this.value+")"};function ed(b,c){cd.call(this,b,c)}ed.prototype=new cd;ed.prototype.className="Assign_Lex_Free.Intermediate";ed.prototype.d=function(b){dd(this.name,b.q,this.value.value())};function fd(b,c){bd.call(this,b);this.value=c}fd.prototype=new bd;fd.prototype.className="Assign_Lex_Lex";
fd.prototype.d=function(b){var c=this.value.t(b.q);dd(this.name,b.q,c);D(b,c)};fd.prototype.toString=function(){return"(assign-lex "+this.name+" "+this.value+")"};fd.prototype.Za=function(b){return"(assign-lex "+this.name+"--\>"+this.name.t(b)+this.value+"--\>"+this.value.t(b)+")"};function gd(b,c){fd.call(this,b,c)}gd.prototype=new fd;gd.prototype.className="Assign_Lex_Lex.Intermediate";gd.prototype.d=function(b){dd(this.name,b.q,this.value.t(b.q))};function hd(b,c){bd.call(this,b);this.Ya=c}
hd.prototype=new bd;hd.prototype.className="Assign_Lex_Literal";hd.prototype.d=function(b){dd(this.name,b.q,this.Ya);D(b,this.Ya)};hd.prototype.toString=function(){return"(assign-lex "+this.name+" "+this.Ya+")"};function id(b,c){hd.call(this,b,c)}id.prototype=new hd;id.prototype.className="Assign_Lex_Literal.Intermediate";id.prototype.d=function(b){dd(this.name,b.q,this.Ya)};function jd(b){bd.call(this,b)}jd.prototype=new bd;jd.prototype.className="Assign_Lex_Other";
jd.prototype.d=function(b){dd(this.name,b.q,Hc(b))};jd.prototype.toString=function(){return"(assign-lex "+this.name+")"};jd.prototype.Za=function(b){return"(assign-lex "+this.name+" -> "+this.name.t(b)+")"};function kd(b){bd.call(this,b)}kd.prototype=new jd;kd.prototype.className="Assign_Lex_Other.Intermediate";kd.prototype.d=function(b){dd(this.name,b.q,R(b))};function ld(b,c){bd.call(this,b);this.value=c}ld.prototype=new bd;ld.prototype.className="Assign_Lex_Stack";
ld.prototype.d=function(b){var c=this.value.get(b);dd(this.name,b.q,c);D(b,c)};ld.prototype.toString=function(){return"(assign-lex "+this.name+" "+this.value+")"};ld.prototype.Za=function(b){return"(assign-lex "+this.name+"--\>"+this.name.t(b)+" <-- "+this.value+")"};function md(b,c){ld.call(this,b,c)}md.prototype=new ld;md.prototype.className="Assign_Lex_Stack.Intermediate";md.prototype.d=function(b){dd(this.name,b.q,this.value.get(b))};function nd(b){this.e=l;this.name=b}nd.prototype=new N;
nd.prototype.className="Assign_Free";function od(b,c){nd.call(this,b);this.value=c}od.prototype=new nd;od.prototype.className="Assign_Free_Free";od.prototype.d=function(b){var c=this.value.value();this.name.da(c);D(b,c)};od.prototype.toString=function(){return"(assign-free-free "+this.name+" "+this.value+")"};function pd(b,c){od.call(this,b,c)}pd.prototype=new od;pd.prototype.className="Assign_Free_Free.Intermediate";pd.prototype.d=function(){this.name.da(this.value.value())};
function qd(b,c){nd.call(this,b);this.value=c}qd.prototype=new nd;qd.prototype.className="Assign_Free_Lex";qd.prototype.d=function(b){var c=this.value.t(b.q);this.name.da(c);D(b,c)};qd.prototype.toString=function(){return"(assign-free-lex "+this.name+" "+this.value+")"};function rd(b,c){qd.call(this,b,c)}rd.prototype=new qd;rd.prototype.className="Assign_Free_Lex.Intermediate";rd.prototype.d=function(b){this.name.da(this.value.t(b.q))};function sd(b,c){nd.call(this,b);this.Ya=c}sd.prototype=new nd;
sd.prototype.className="Assign_Free_Literal";sd.prototype.d=function(b){this.name.da(this.Ya);D(b,this.Ya)};sd.prototype.toString=function(){return"(assign-free-literal "+this.name+" "+this.Ya+")"};function td(b,c){sd.call(this,b,c)}td.prototype=new sd;td.prototype.className="Assign_Free_Literal.Intermediate";td.prototype.d=function(){this.name.da(this.Ya)};function ud(b){nd.call(this,b)}ud.prototype=new nd;ud.prototype.className="Assign_Free_Other";ud.prototype.d=function(b){this.name.da(Hc(b))};
ud.prototype.toString=function(){return"(assign-free-other "+this.name+")"};ud.prototype.Za=function(){return"(assign-free-other "+this.name+" -> "+(name.bound()?""+name.value():"#unbound#")+")"};function vd(b){nd.call(this,b)}vd.prototype=new ud;vd.prototype.className="Assign_Free_Other.Intermediate";vd.prototype.d=function(b){this.name.da(R(b))};function wd(b,c){nd.call(this,b);this.value=c}wd.prototype=new nd;wd.prototype.className="Assign_Free_Stack";
wd.prototype.d=function(b){var c=this.value.get(b);this.name.da(c);D(b,c)};wd.prototype.toString=function(){return"(assign-free-stack "+this.name+" "+this.value+")"};function xd(b,c){wd.call(this,b,c)}xd.prototype=new wd;xd.prototype.className="Assign_Free_Stack.Intermediate";xd.prototype.d=function(b){this.name.da(this.value.get(b))};function yd(b){this.e=l;this.name=b}yd.prototype=new N;yd.prototype.className="Assign_Stack";function zd(b,c){yd.call(this,b);this.value=c}zd.prototype=new yd;
zd.prototype.className="Assign_Stack_Free";zd.prototype.d=function(b){var c=this.value.value();this.name.set(b,c);D(b,c)};zd.prototype.toString=function(){return"(assign-free "+this.name+" "+this.value+")"};function Ad(b,c){zd.call(this,b,c)}Ad.prototype=new zd;Ad.prototype.className="Assign_Stack_Free.Intermediate";Ad.prototype.d=function(b){this.name.set(b,this.value.value())};function Bd(b,c){yd.call(this,b);this.value=c}Bd.prototype=new yd;Bd.prototype.className="Assign_Stack_Lex";
Bd.prototype.d=function(b){var c=this.value.t(b.q);this.name.set(b,c);D(b,c)};Bd.prototype.toString=function(){return"(assign-free "+this.name+" "+this.value+")"};function Cd(b,c){Bd.call(this,b,c)}Cd.prototype=new Bd;Cd.prototype.className="Assign_Stack_Lex.Intermediate";Cd.prototype.d=function(b){this.name.set(b,this.value.t(b.q))};function Dd(b,c){yd.call(this,b);this.value=c}Dd.prototype=new yd;Dd.prototype.className="Assign_Stack_Literal";
Dd.prototype.d=function(b){this.name.set(b,this.value);D(b,this.value)};Dd.prototype.toString=function(){return"(assign-free "+this.name+" "+this.value+")"};function Ed(b,c){Dd.call(this,b,c)}Ed.prototype=new Dd;Ed.prototype.className="Assign_Stack_Literal.Intermediate";Ed.prototype.d=function(b){this.name.set(b,this.value)};function Fd(b){yd.call(this,b)}Fd.prototype=new yd;Fd.prototype.className="Assign_Stack_Other";Fd.prototype.d=function(b){this.name.set(b,Hc(b))};
Fd.prototype.toString=function(){return"(assign-stack "+this.name+")"};function Gd(b){yd.call(this,b)}Gd.prototype=new Fd;Gd.prototype.className="Assign_Stack_Other.Intermediate";Gd.prototype.d=function(b){this.name.set(b,R(b))};function Hd(b,c){yd.call(this,b);this.value=c}Hd.prototype=new yd;Hd.prototype.className="Assign_Stack_Stack";Hd.prototype.d=function(b){var c=this.value.get(b);this.name.set(b,c);D(b,c)};Hd.prototype.toString=function(){return"(assign-free "+this.name+" "+this.value+")"};
function Id(b,c){Hd.call(this,b,c)}Id.prototype=new Hd;Id.prototype.className="Assign_Stack_Stack.Intermediate";Id.prototype.d=function(b){this.name.set(b,this.value.get(b))};function Jd(b,c){this.e=l;this.F=b;this.Oa=Kd(b);this.z=c;this.ka=Kd(c)}Jd.prototype=new N;Jd.prototype.className="Cond";function Kd(b){var c=[];b.m(c);return x(c)}Jd.prototype.d=function(b){Fc(b,R(b)instanceof z?this.ka:this.Oa)};Jd.prototype.j=function(b){N.prototype.j.call(this,b);this.Oa.j(b);this.ka.j(b)};
Jd.prototype.toString=function(){return"(cond then:"+this.F+", else:"+this.z+")"};function Ld(b,c,d){this.e=l;this.ba=b;this.F=c;this.z=d}v["rainbow.vm.instructions.cond.optimise.If_bound_bound_literal"]=Ld;Ld.prototype=new N;Ld.prototype.className="If_bound_bound_literal";Ld.prototype.d=function(b){this.ba.t(b.q)instanceof z?D(b,this.z):D(b,this.F.t(b.q))};
Ld.addInstructions=function(b,c,d,f){c instanceof V||g(new TypeError);d instanceof V||g(new TypeError);f instanceof Md||g(new TypeError);Nd(c,d)?f.l instanceof z?c.m(b):b.push(new Od(c,f.l)):b.push(new Ld(c,d,f.l))};Ld.prototype.toString=function(){return"(if "+this.ba+" "+this.F+" "+this.z+")"};function Od(b,c){this.e=l;this.Cb=b;this.z=c}Od.prototype=new N;Od.prototype.className="If_bound_bound_literal.Or";Od.prototype.d=function(b){var c=this.Cb.t(b.q);c instanceof z?D(b,this.z):D(b,c)};
Od.prototype.toString=function(){return"(if[bbl$or] "+a+" "+a+" "+elseExpr+")"};function Pd(b,c,d){this.e=l;this.ba=b;this.F=c;this.ka=Kd(d);this.z=d}v["rainbow.vm.instructions.cond.optimise.If_bound_bound_other"]=Pd;Pd.prototype=new N;Pd.prototype.className="If_bound_bound_other";Pd.prototype.d=function(b){this.ba.t(b.q)instanceof z?Fc(b,this.ka):D(b,this.F.t(b.q))};
Pd.addInstructions=function(b,c,d,f){c instanceof V||g(new TypeError);d instanceof V||g(new TypeError);Nd(c,d)?b.push(new Qd(c,f)):b.push(new Pd(c,d,f))};Pd.prototype.j=function(b){N.prototype.j.call(this,b);this.ka.j(b)};Pd.prototype.toString=function(){return"(if "+this.ba+" "+this.F+" "+this.z+")"};function Qd(b,c){this.e=l;this.Cb=b;this.ka=Kd(c);this.z=c}Qd.prototype=new N;Qd.prototype.className="If_bound_bound_other.Or";
Qd.prototype.d=function(b){var c=this.Cb.t(b.q);c instanceof z?Fc(b,this.ka):D(b,c)};Qd.prototype.j=function(b){N.prototype.j.call(this,b);this.ka.j(b)};Qd.prototype.toString=function(){return"(if "+a+" "+a+" "+elseExpr+")"};function Rd(b,c,d){this.e=l;this.ba=b;this.F=c;this.z=d}v["rainbow.vm.instructions.cond.optimise.If_bound_literal_literal"]=Rd;Rd.prototype=new N;Rd.prototype.className="If_bound_literal_literal";Rd.prototype.d=function(b){this.ba.t(b.q)instanceof z?D(b,this.z):D(b,this.F)};
Rd.prototype.toString=function(){return"(if "+this.ba+" "+this.F+" "+this.z+")"};Rd.addInstructions=function(b,c,d,f){f instanceof Md||g(new TypeError);c instanceof V||g(new TypeError);b.push(new Rd(c,d,f.l))};function Sd(b,c,d){this.e=l;this.ba=b;this.F=c;this.Oa=Kd(c);this.z=d}v["rainbow.vm.instructions.cond.optimise.If_bound_other_literal"]=Sd;Sd.prototype=new N;Sd.prototype.className="If_bound_other_literal";Sd.prototype.d=function(b){this.ba.t(b.q)instanceof z?D(b,this.z):Fc(b,this.Oa)};
Sd.prototype.toString=function(){return"(if "+this.ba+" "+this.F+" "+this.z+")"};Sd.prototype.j=function(b){N.prototype.j.call(this,b);this.Oa.j(b)};Sd.addInstructions=function(b,c,d,f){c instanceof V||g(new TypeError);f instanceof Md||g(new TypeError);b.push(new Sd(c,d,f.l))};function Td(b,c,d){this.e=l;this.ba=b;this.F=c;this.Oa=Kd(c);this.z=d;this.ka=Kd(d)}v["rainbow.vm.instructions.cond.optimise.If_bound_other_other"]=Td;Td.prototype=new N;Td.prototype.className="If_bound_other_other";
Td.prototype.d=function(b){this.ba.t(b.q)instanceof z?Fc(b,this.ka):Fc(b,this.Oa)};Td.prototype.toString=function(){return"(if "+this.ba+" "+this.F+" "+this.z+")"};Td.prototype.j=function(b){N.prototype.j.call(this,b);this.Oa.j(b)};Td.addInstructions=function(b,c,d,f){c instanceof V||g(new TypeError);b.push(new Td(c,d,f))};function Ud(b,c){this.e=l;this.ka=Kd(c);this.F=b;this.z=c}v["rainbow.vm.instructions.cond.optimise.If_other_bound_other"]=Ud;Ud.prototype=new N;Ud.prototype.className="If_other_bound_other";
Ud.prototype.d=function(b){R(b)instanceof z?Fc(b,this.ka):D(b,this.F.t(b.q))};Ud.prototype.toString=function(){return"(if ? "+this.F+" "+this.z+")"};Ud.prototype.j=function(b){N.prototype.j.call(this,b);this.ka.j(b)};Ud.addInstructions=function(b,c,d,f){c.m(b);d instanceof V||g(new TypeError);b.push(new Ud(d,f))};function Vd(b,c){this.e=l;this.Oa=Kd(b);this.F=b;this.z=c}v["rainbow.vm.instructions.cond.optimise.If_other_other_literal"]=Vd;Vd.prototype=new N;Vd.prototype.className="If_other_other_literal";
Vd.prototype.d=function(b){R(b)instanceof z?D(b,this.z):Fc(b,this.Oa)};Vd.prototype.toString=function(){return"(if ? "+this.F+" "+this.z+")"};Vd.prototype.j=function(b){N.prototype.j.call(this,b);this.Oa.j(b)};Vd.addInstructions=function(b,c,d,f){f instanceof Md||g(new TypeError);c.m(b);b.push(new Vd(d,f.l))};function Wd(b,c){this.e=l;this.F=b;this.z=c}v["rainbow.vm.instructions.cond.optimise.If_other_stack_literal"]=Wd;Wd.prototype=new N;Wd.prototype.className="If_other_stack_literal";
Wd.prototype.d=function(b){R(b)instanceof z?D(b,this.z):D(b,this.F.get(b))};Wd.prototype.toString=function(){return"(if ? "+this.F+" "+this.z+")"};Wd.addInstructions=function(b,c,d,f){f instanceof Md||g(new TypeError);c.m(b);d instanceof X||g(new TypeError);b.push(new Wd(d,f.l))};function Xd(b,c){this.e=l;this.F=b;this.ka=Kd(c);this.z=c}v["rainbow.vm.instructions.cond.optimise.If_other_stack_other"]=Xd;Xd.prototype=new N;Xd.prototype.className="If_other_stack_other";
Xd.prototype.d=function(b){R(b)instanceof z?Fc(b,this.ka):D(b,this.F.get(b))};Xd.prototype.toString=function(){return"(if ? "+this.F+" "+this.z+")"};Xd.prototype.j=function(b){N.prototype.j.call(this,b);this.ka.j(b)};Xd.addInstructions=function(b,c,d,f){c.m(b);d instanceof X||g(new TypeError);b.push(new Xd(d,f))};function Yd(b,c,d){this.ba=b;this.F=c;this.z=d}v["rainbow.vm.instructions.cond.optimise.If_stack_literal_free"]=Yd;Yd.prototype=new N;Yd.prototype.className="If_stack_literal_free";
Yd.prototype.d=function(b){this.ba.get(b)instanceof z?D(b,this.z.value()):D(b,this.F)};Yd.prototype.toString=function(){return"(if "+this.ba+" "+this.F+" "+this.z+")"};Yd.addInstructions=function(b,c,d,f){c instanceof X||g(new TypeError);f instanceof Md||g(new TypeError);f=f.l;f instanceof M||g(new TypeError);b.push(new Yd(c,d,f))};function Zd(b,c,d){this.e=l;this.ba=b;this.F=c;this.z=d}v["rainbow.vm.instructions.cond.optimise.If_stack_stack_literal"]=Zd;Zd.prototype=new N;
Zd.prototype.className="If_stack_stack_literal";Zd.prototype.d=function(b){this.ba.get(b)instanceof z?D(b,this.z):D(b,this.F.get(b))};Zd.prototype.toString=function(){return"(if "+this.ba+" "+this.F+" "+this.z+")"};Zd.addInstructions=function(b,c,d,f){c instanceof X||g(new TypeError);d instanceof X||g(new TypeError);f instanceof Md||g(new TypeError);$d(c,d)?f.l instanceof z?c.m(b):b.push(new ae(c,f.l)):b.push(new Zd(c,d,f.l))};function ae(b,c){this.e=l;this.Cb=b;this.z=c}ae.prototype=new N;
ae.prototype.className="If_stack_stack_literal.Or";ae.prototype.d=function(b){var c=this.Cb.get(b);c instanceof z?D(b,this.z):D(b,c)};ae.prototype.toString=function(){return"(if[ssl$or] "+a+" "+a+" "+elseExpr+")"};function be(b){this.e=l;this.p=b}be.prototype=new N;t=be.prototype;t.la=j;t.className="Invoke_0.Lex";t.d=function(b){this.p.t(b.q).f(b,B)};t.toString=function(){return"(invoke "+this.p+")"};t.pa=function(b){return this.p.t(b.q)};function ce(b){this.e=l;this.p=b}ce.prototype=new N;t=ce.prototype;
t.la=j;t.className="Invoke_0.Free";t.d=function(b){this.p.value().f(b,B)};t.toString=function(){return"(invoke "+this.p+")"};t.pa=function(){return this.p.value()};function de(){this.e=l}de.prototype=new N;t=de.prototype;t.la=j;t.className="Invoke_0.Other";t.d=function(b){R(b).f(b,B)};t.toString=r("(invoke <0>)");t.pa=function(b){return Hc(b)};function ee(b){this.e=l;this.p=b}ee.prototype=new N;t=ee.prototype;t.la=j;t.className="Invoke_1.Lex";t.d=function(b){this.p.t(b.q).f(b,new A(R(b),B))};
t.toString=function(){return"(invoke "+this.p+" <1>)"};t.pa=function(b){return this.p.t(b.q)};function fe(b){this.e=l;this.p=b}fe.prototype=new N;t=fe.prototype;t.la=j;t.className="Invoke_1.Free";t.d=function(b){this.p.value().f(b,new A(R(b),B))};t.toString=function(){return"(invoke "+this.p+" <1>)"};t.pa=function(){return this.p.value()};function ge(){this.e=l}ge.prototype=new N;t=ge.prototype;t.la=j;t.className="Invoke_1.Other";t.d=function(b){R(b).f(b,new A(R(b),B))};t.toString=r("(invoke <1>)");
t.pa=function(b){return Hc(b)};function he(b){this.e=l;this.p=b}he.prototype=new N;t=he.prototype;t.la=j;t.className="Invoke_2.Lex";t.d=function(b){var c=R(b),d=R(b);this.p.t(b.q).f(b,new A(d,new A(c,B)))};t.toString=function(){return"(invoke "+this.p+" <2>)"};t.Za=function(b){return"(invoke "+this.p+" -> "+this.p.t(b)+" <2>)"};t.pa=function(b){return this.p.t(b.q)};function ie(b){this.e=l;this.p=b}ie.prototype=new N;t=ie.prototype;t.la=j;t.className="Invoke_2.Free";
t.d=function(b){var c=R(b),d=R(b);this.p.value().f(b,new A(d,new A(c,B)))};t.toString=function(){return"(invoke_2:free "+this.p+" <2>)"};t.Za=function(){return"(invoke_2:free "+this.p+" -> "+this.p.value()+" <2>)"};t.pa=function(){return this.p.value()};function je(){this.e=l}je.prototype=new N;t=je.prototype;t.la=j;t.className="Invoke_2.Other";t.d=function(b){var c=R(b),d=R(b),f=R(b);try{c.f(b,new A(f,new A(d,B)))}catch(h){h instanceof Error||g(h),za(h)}};t.toString=r("(invoke <2>)");t.pa=function(b){return Hc(b)};
function ke(b){this.e=l;this.p=b}ke.prototype=new N;t=ke.prototype;t.la=j;t.className="Invoke_3.Lex";t.d=function(b){var c=R(b),d=R(b),f=R(b);this.p.t(b.q).f(b,new A(f,new A(d,new A(c,B))))};t.toString=function(){return"(invoke "+this.p+" <3>)"};t.pa=function(b){return this.p.t(b.q)};function le(b){this.e=l;this.p=b}le.prototype=new N;t=le.prototype;t.la=j;t.className="Invoke_3.Free";t.d=function(b){var c=R(b),d=R(b),f=R(b);this.p.value().f(b,new A(f,new A(d,new A(c,B))))};
t.toString=function(){return"(invoke_3:free "+this.p+" <3>)"};t.pa=function(){return this.p.value()};function me(){this.e=l}me.prototype=new N;t=me.prototype;t.la=j;t.className="Invoke_3.Other";t.d=function(b){var c=R(b),d=R(b),f=R(b),h=R(b);c.f(b,new A(h,new A(f,new A(d,B))))};t.toString=r("(invoke <3>)");t.pa=function(b){return Hc(b)};function ne(b,c){this.e=l;this.p=b;this.$a=c}ne.prototype=new N;t=ne.prototype;t.la=j;t.className="Invoke_N.Lex";t.d=function(b){this.p.t(b.q).f(b,Ic(b,this.$a))};
t.toString=function(){return"(invoke "+this.p+" <"+this.$a+">)"};t.pa=function(b){return this.p.t(b.q)};function oe(b,c){this.e=l;this.p=b;this.$a=c}oe.prototype=new N;t=oe.prototype;t.la=j;t.className="Invoke_N.Free";t.d=function(b){this.p.value().f(b,Ic(b,this.$a))};t.toString=function(){return"(invoke "+this.p+" <"+this.$a+">)"};t.pa=function(){return this.p.value()};function Ia(b){this.e=l;this.$a=b}Ia.prototype=new N;t=Ia.prototype;t.la=j;t.className="Invoke_N.Other";
t.d=function(b){R(b).f(b,Ic(b,this.$a))};t.toString=function(){return"(invoke <"+this.$a+">)"};t.pa=function(b){return Hc(b)};function X(b,c){this.name=b;this.eb=c}X.prototype=new y;t=X.prototype;t.className="StackSymbol";t.get=function(b){return b.Hb[this.eb]};t.set=function(b,c){b.ma[b.g][this.eb]=c};t.m=function(b){b.push(new $c(this.name,this.eb))};t.type=function(){return L("stack-symbol")};t.toString=function(){return this.name.toString()};
function $d(b,c){return b.name===c.name&&b.eb===c.eb}t.P=function(b,c,d){return $d(this,b)?c:d<this.eb?new X(this.name,this.index-1):this};function V(b,c,d){this.La=c;this.index=d;this.name=b}V.prototype=new y;t=V.prototype;t.className="BoundSymbol";function dd(b,c,d){c.zb(b.La).set(b.index,d)}t.t=function(b){for(var c=this.La;0<c;)b=b.parent,c--;return b.bb[this.index]};t.m=function(b){b.push(new Vc(this))};t.type=function(){return pe};t.toString=function(){return this.name.toString()};
function Nd(b,c){return b.La===c.La&&b.name===c.name&&b.index===c.index}t.K=function(b){return b<=this.La?new V(this.name,this.La+1,this.index):this};function qe(b){return new V(b.name,b.La-1,b.index)}t.Q=function(b,c,d,f,h){if(Nd(this,b))return c;return d?(0===this.La&&g(new u("can't unnest "+this+", looking for "+b+" to inline with "+c)),qe(this)):f===this.La&&h<this.index?new V(this.name,this.La,this.index-1):this};t.j=function(b){b.qc(this)};
t.W=function(b){b=b[this.name.name()];if(b===i)return qe(this);if(b===this.index)return new X(this.name,b);g(new u("error: parameter index mismatch: expected "+b+", got "+this.index))};var pe=L("bound-symbol");function re(b){this.A=this.name=l;this.Ma=b}re.prototype=new y;t=re.prototype;t.className="SingleAssignment";t.Ia=function(b){this.name===l?b instanceof M||b instanceof V?this.name=b:g(new u("assign: can't assign to "+b)):this.A===l?this.A=b:this.Ma.Ia(b)};
t.toString=function(){return""+this.name+" "+this.A};t.m=function(b){se(this,b,m);this.Ma.m(b)};
function se(b,c,d){if(b.name instanceof V){var f=b.name,b=b.A;b instanceof V?d?c.push(new fd(f,b)):c.push(new gd(f,b)):b instanceof X?d?c.push(new ld(f,b)):c.push(new md(f,b)):b instanceof M?d?c.push(new cd(f,b)):c.push(new ed(f,b)):b.Da()?d?c.push(new hd(f,b)):c.push(new id(f,b)):b instanceof ve?(b=b.Ab,d?c.push(new hd(f,b)):c.push(new id(f,b))):(b.m(c),d?c.push(new jd(f)):c.push(new kd(f)))}else b.name instanceof X?(f=b.name,b=b.A,b instanceof V?d?c.push(new Bd(f,b)):c.push(new Cd(f,b)):b instanceof
X?d?c.push(new Hd(f,b)):c.push(new Id(f,b)):b instanceof M?d?c.push(new zd(f,b)):c.push(new Ad(f,b)):b.Da()?d?c.push(new Dd(f,b)):c.push(new Ed(f,b)):b instanceof ve?(b=b.Ab,d?c.push(new Dd(f,b)):c.push(new Ed(f,b))):(b.m(c),d?c.push(new Fd(f)):c.push(new Gd(f)))):b.name instanceof M?(f=b.name,b=b.A,b instanceof V?d?c.push(new qd(f,b)):c.push(new rd(f,b)):b instanceof X?d?c.push(new wd(f,b)):c.push(new xd(f,b)):b instanceof M?d?c.push(new od(f,b)):c.push(new pd(f,b)):b.Da()?d?c.push(new sd(f,b)):
c.push(new td(f,b)):b instanceof ve?(b=b.Ab,d?c.push(new sd(f,b)):c.push(new td(f,b))):(b.m(c),d?c.push(new ud(f)):c.push(new vd(f)))):g(new u("what kind of symbol is "+b.name+"??"))}t.type=function(){return L("assignment")};t.ea=r(j);t.V=function(){return this.A instanceof Y?we(this.A)||this.Ma.V():this.A.V()||this.Ma.V()};
t.Q=function(b,c,d,f,h){var k=new re(l);this.name instanceof V&&Nd(b,this.name)&&g(new u("Can't inline "+b+" -> "+c+"; assignment"));k.name=this.name;k.A=this.A.Q(b,c,d,f,h);k.Ma=this.zd(b,c,d,f,h);return k};t.P=function(b,c,d){var f=new re(l);this.name instanceof X&&$d(b,this.name)&&g(new u("Can't inline "+b+" -> "+c+"; assignment"));f.name=this.name;f.A=this.A.P(b,c,d);f.Ma=this.yd(b,c,d);return f};t.K=function(b){var c=new re(l);c.name=this.name.K(b);c.A=this.A.K(b);c.Ma=this.Ma.K(b);return c};
t.W=function(b){var c=new re(l);c.name=this.name.W(b);c.A=this.A.W(b);b=this.Ma.W(b);b instanceof re||g(new TypeError);c.Ma=b;return c};t.j=function(b){b.sa(this);this.name.j(b);this.A.j(b);this.Ma.j(b);b.Fa(this)};function xe(){re.call(this,l)}xe.prototype=new re(l);t=xe.prototype;t.className="LastAssignment";t.Ia=function(b){this.name===l?b instanceof M||b instanceof V?this.name=b:g(new u("assign: can't assign to "+b)):this.A===l?this.A=b:g(new u("assign: error: unexpected "+b))};
t.toString=function(){return""+this.name+" "+this.A};t.m=function(b){se(this,b,j)};t.V=function(){return this.A instanceof Y?we(this.A):this.A.V()};t.Q=function(b,c,d,f,h){var k=new xe;this.name instanceof V&&Nd(b,this.name)&&g(new u("Can't inline "+b+" -> "+c+"; assignment"));k.name=this.name.Q(b,c,d,f,h);k.A=this.A.Q(b,c,d,f,h);return k};
t.P=function(b,c,d){var f=new xe;this.name instanceof X&&$d(b,this.name)&&g(new u("Can't inline "+b+" -> "+c+"; assignment"));f.name=this.name.P(b,c,d);f.A=this.A.P(b,c,d);return f};t.K=function(b){var c=new xe;c.name=this.name.K(b);c.A=this.A.K(b);return c};t.W=function(b){var c=new xe;c.name=this.name.W(b);c.A=this.A.W(b);return c};t.j=function(b){b.sa(this);this.name.j(b);this.A.j(b);b.Fa(this)};function ye(){this.Y=l}ye.prototype=new y;t=ye.prototype;t.className="Assignment";t.type=function(){return L("assignment")};
t.Ia=function(b){this.Y.Ia(b)};t.m=function(b){this.Y.m(b)};t.toString=function(){return"(assign "+this.Y+")"};t.ea=function(b){return this.Y.ea(b)};t.V=function(){return this.Y.V()};t.Q=function(b,c,d,f,h){var k=new ye;k.Y=this.Y.Q(b,c,d,f,h);return k};t.P=function(b,c,d){var f=new ye;f.Y=this.Y.P(b,c,d);return f};t.K=function(b){var c=new ye;c.Y=this.Y.K(b);return c};t.j=function(b){b.sa(this);this.Y.j(b);b.Fa(this)};
t.W=function(b){var c=new ye,b=this.Y.W(b);b instanceof re||g(new TypeError);c.Y=b;return c};function Md(){this.l=l}Md.prototype=new y;t=Md.prototype;t.Ga=j;t.className="Else";t.type=function(){return L("else-clause")};t.add=function(b){g(new u("Internal error: if clause: unexpected extra condition: "+b))};t.Ia=function(b){this.l===l?this.l=b:g(new u("Internal error: if clause: unexpected: "+b))};t.m=function(b){this.l.m(b)};t.reduce=function(){return this};t.toString=function(){return""+this.l};
t.ea=function(b){return this.l.ea(b)};t.V=function(){return this.l instanceof Y?we(this.l):this.l.V()};t.Q=function(b,c,d,f,h){var k=new Md;k.l=this.l.Q(b,c,d,f,h).reduce();return k};t.P=function(b,c,d){var f=new Md;f.l=this.l.P(b,c,d).reduce();return f};t.K=function(b){var c=new Md;c.l=this.l.K(b);return c};t.W=function(b){var c=new Md;c.l=this.l.W(b);return c};t.j=function(b){b.sa(this);this.l.j(b);b.Fa(this)};t.jc=function(){return"_"+ze(this.l)};function Ae(){this.X=l}Ae.prototype=new y;t=Ae.prototype;
t.className="IfClause";t.type=function(){return Be};t.append=function(b){this.X!==l?this.X.add(b):this.X=b};t.reduce=function(){var b=this.X.reduce();b.Ga||g(new TypeError);this.X=b;return b instanceof Md?b.l:this};t.Ia=function(b){this.X.Ia(b)};t.m=function(b){this.X.m(b)};t.toString=function(){return"(if "+this.X+")"};t.ea=function(b){return this.X.ea(b)};t.V=function(){return this.X.V()};t.Q=function(b,c,d,f,h){var k=new Ae,b=this.X.Q(b,c,d,f,h).reduce();b.Ga||g(new TypeError);k.X=b;return k};
t.P=function(b,c,d){var f=new Ae,b=this.X.P(b,c,d).reduce();b.Ga||g(new TypeError);f.X=b;return f};t.K=function(b){var c=new Ae,b=this.X.K(b);b.Ga||g(new TypeError);c.X=b;return c};t.W=function(b){var c=new Ae,b=this.X.W(b);b.Ga||g(new TypeError);c.X=b;return c};t.j=function(b){b.sa(this);this.X.j(b);b.Fa(this)};t.O=function(){var b=this.X;b instanceof Ce||g(new TypeError);return b.O};var Be=L("if-clause");function Ce(){this.next=this.O=this.l=l}Ce.prototype=new y;t=Ce.prototype;t.Ga=j;
t.className="IfThen";t.type=function(){return L("if-then-clause")};t.add=function(b){this.next!==l?this.next.add(b):this.next=b};t.Ia=function(b){this.l===l?this.l=b:this.O===l?this.O=b:this.next.Ia(b)};
t.m=function(b){var c=this.jc(),d="rainbow.vm.instructions.cond.optimise.If"+c;try{if(d in De){var f=De[d];f===l?this.sc(b,c):f(b,this.l,this.O,this.next)}else{var h=v[d];if(h===i)De[d]=l;else{var k=h.addInstructions;k===i&&g(new u("couldn't find handler method 'addInstructions(List,ArcObject,ArcObject,ArcObject) on "+d));De[d]=k}this.m(b)}}catch(q){q instanceof Error||g(q),g(new u("Couldn't instantiate "+d+": "+q,q))}};t.sc=function(b){this.l.m(b);b.push(new Jd(this.O,this.next))};
t.reduce=function(){var b=this.next.reduce();b.Ga||g(new TypeError);this.next=b;if(this.l instanceof z)return this.next;!(this.l instanceof V)||!(this.O instanceof V)||!(this.next instanceof Md)?b=m:(b=this.next,b=Nd(this.l,this.O)&&b.l instanceof z);if(!b)!(this.l instanceof X)||!(this.O instanceof X)||!(this.next instanceof Md)?b=m:(b=this.next,b=$d(this.l,this.O)&&b.l instanceof z);return b?(b=new Md,b.Ia(this.l),b):this};t.toString=function(){return""+this.l+" "+this.O+" "+this.next};
t.ea=function(b){return this.l.ea(b)||this.O.ea(b)||this.next.ea(b)};t.V=function(){return this.l instanceof Y&&we(this.l)||this.O instanceof Y&&we(this.O)?j:this.l.V()||this.O.V()||this.next.V()};t.Q=function(b,c,d,f,h){var k=new Ce;k.l=this.l.Q(b,c,d,f,h).reduce();k.O=this.O.Q(b,c,d,f,h).reduce();b=this.next.Q(b,c,d,f,h).reduce();b.Ga||g(new TypeError);k.next=b;return k};
t.P=function(b,c,d){var f=new Ce;f.l=this.l.P(b,c,d).reduce();f.O=this.O.P(b,c,d).reduce();b=this.next.P(b,c,d).reduce();b.Ga||g(new TypeError);f.next=b;return f};t.K=function(b){var c=new Ce;c.l=this.l.K(b);c.O=this.O.K(b);b=this.next.K(b);b.Ga||g(new TypeError);c.next=b;return c};t.W=function(b){var c=new Ce;c.l=this.l.W(b);c.O=this.O.W(b);b=this.next.W(b);b.Ga||g(new TypeError);c.next=b;return c};t.j=function(b){b.sa(this);this.l.j(b);this.O.j(b);this.next.j(b);b.Fa(this)};
t.jc=function(){var b;b="_"+ze(this.l);b=b+"_"+ze(this.O);return b=this.next instanceof Md?b+"_"+ze(this.next.l):b+"_other"};var De={};function ve(b){this.Ab=b}ve.prototype=new y;t=ve.prototype;t.className="Quotation";t.m=function(b){b.push(new F(this.Ab))};t.type=function(){return L("quotation")};t.t=p("Ab");t.toString=function(){return"'"+this.Ab};function Ee(b){this.w=b;this.Xb={}}Ee.prototype=new y;t=Ee.prototype;t.className="Invocation";t.type=function(){return L("if-then-clause")};
t.toString=function(){return(this.w.a()instanceof Y?Fe(Ge(this.w)):this.w).toString()};t.m=function(b){var c;1===this.w.ha()&&this.w.a()instanceof He?(Ie(this.w.a(),b),c=j):c=m;c||Je(this,b)||this.sc(b)};
t.reduce=function(){if(this.w.cc(1)&&this.w.a()instanceof Y){var b=this.w.a(),c=b.v;if(c.N()||!(c.a()instanceof M))return this;var c=c.a(),d=this.w.b().a();if(b.hb(c,d)){try{var f=b.jb(c,d,j)}catch(h){h instanceof Error||g(h),g(new u("couldn't curry "+c+"->"+d+" for "+b+" in expression "+this+": "+h,h))}return(new Ee(new A(f,this.w.b().b()))).reduce()}}return this};
function Je(b,c){for(var d="",f=b.w;!(f instanceof z);)d+="_",d+=ze(f.a()),f=f.b(),f instanceof A||g(new TypeError);d="rainbow.vm.instructions.invoke.optimise.Invoke"+d;if(d in b.Xb){f=b.Xb[d];if(f===l)return m;try{var h=new f(b.w),k=b.w.b();for(k instanceof A||g(new TypeError);!(k instanceof z);)"other"===b.jc(k.a())&&k.a().m(c),k=k.b(),k instanceof A||g(new TypeError);"other"===b.jc(b.w.a())&&b.w.a().m(c);c.push(h);return j}catch(q){q instanceof Error||g(q),g(new u("couldn't create optimiser "+
d,q))}}else{h=v[d];if(h===i)return b.Xb[d]=l,m;b.Xb[d]=h;return Je(b,c)}}function ze(b){return b instanceof V?"bound":b instanceof M?"free":b instanceof X?"stack":b.Da()?"literal":b instanceof ve?"quote":"other"}
t.sc=function(b){switch(this.w.ha()){case 1:var c=this.w.a();c instanceof V?b.push(new be(c)):c instanceof M?b.push(new ce(c)):(c.m(b),b.push(new de));break;case 2:c=this.w.a();this.w.b().a().m(b);c instanceof V?b.push(new ee(c)):c instanceof M?b.push(new fe(c)):(c.m(b),b.push(new ge));break;case 3:var c=this.w.a(),d=this.w.b().a(),f=this.w.b().b().a();d.m(b);f.m(b);c instanceof V?b.push(new he(c)):c instanceof M?b.push(new ie(c)):(c.m(b),b.push(new je));break;case 4:var c=this.w.a(),d=this.w.b().a(),
f=this.w.b().b().a(),h=this.w.b().b().b().a();d.m(b);f.m(b);h.m(b);c instanceof V?b.push(new ke(c)):c instanceof M?b.push(new le(c)):(c.m(b),b.push(new me));break;default:c=this.w.a();d=this.w.b();d instanceof A||g(new TypeError);for(f=d.ha();!(d instanceof z);)d.a().m(b),d=d.b(),d instanceof A||g(new TypeError);c instanceof V?b.push(new ne(c,f)):c instanceof M?b.push(new oe(c,f)):(c.m(b),b.push(new Ia(f)))}return j};
t.ea=function(b){for(var c=this.w;!(c instanceof z);){if(c.a().ea(b))return j;c=c.b();c instanceof A||g(new TypeError)}return m};t.V=function(){for(var b=this.w;!(b instanceof z);){if(b.a()instanceof Y){if(we(b.a()))return j}else if(b.a().V())return j;b=b.b();b instanceof A||g(new TypeError)}return m};
t.Q=function(b,c,d,f,h){for(var k=this.w,q=[];!(k instanceof z);){try{q.push(k.a().Q(b,c,d,f,h))}catch(o){o instanceof Error||g(o),g(new u("couldn't inline "+b+"->"+c+"(unnest:"+d+";nesting:"+f+") in "+this+" : "+o,o))}k=k.b();k instanceof A||g(new TypeError)}return new Ee(x(q))};t.P=function(b,c,d){for(var f=this.w,h=[];!(f instanceof z);){try{h.push(f.a().P(b,c,d))}catch(k){k instanceof Error||g(k),g(new u("couldn't inline "+b+"->"+c+") in "+this+" : "+k,k))}f=f.b();f instanceof A||g(new TypeError)}return new Ee(x(h))};
t.K=function(b){for(var c=this.w,d=[];!(c instanceof z);)d.push(c.a().K(b)),c=c.b(),c instanceof A||g(new TypeError);return new Ee(x(d))};t.W=function(b){for(var c=this.w,d=[];!(c instanceof z);)d.push(c.a().W(b)),c=c.b(),c instanceof A||g(new TypeError);return new Ee(x(d))};t.j=function(b){b.sa(this);for(var c=this.w;!(c instanceof z);)c.a().j(b),c=c.b(),c instanceof A||g(new TypeError);b.Fa(this)};function Ke(b){this.Ea=b}Ke.prototype=new y;t=Ke.prototype;t.className="QuasiQuotation";t.type=function(){return L("quasiquotation")};
t.m=function(b){Le(this,b,this.Ea,1)};t.toString=function(){return"`"+this.Ea};function Me(b){var c=[];Ne(b,c,b.Ea,1);return c}function Ne(b,c,d,f){if(Oe(d))1===f?c.push(d.b().a()):Ne(b,c,d.b().a(),f-1);else if(Pe(d))1===f?c.push(d.b().a()):Ne(b,c,d.b().a(),f-1);else if(Qe(d))Ne(b,c,d.b().a(),f+1);else if(!d.N())for(;!d.N();)if(Oe(d)||Qe(d))Ne(b,c,d,f),d=d.b().b();else{var h=d.a(),d=d.b();Pe(h)?Ne(b,c,h,f):(Oe(h)||Qe(h)||Re(h))&&Ne(b,c,h,f)}}
function Le(b,c,d,f){if(Oe(d))1===f?d.b().a().m(c):(c.push(new F(Se)),Le(b,c,d.b().a(),f-1),c.push(new Wc(2)));else if(Pe(d))1===f?(d.b().a().m(c),c.push(new Oc)):(c.push(new F(Te)),Le(b,c,d.b().a(),f-1),c.push(new Wc(2)),c.push(new Nc));else if(Qe(d))c.push(new F(Ue)),Le(b,c,d.b().a(),f+1),c.push(new Wc(2));else if(d.N())c.push(new F(d));else{for(c.push(new Xc);!d.N();)if(Oe(d)||Qe(d))Le(b,c,d,f),d=d.b().b(),c.push(new Pc);else{var h=d.a(),d=d.b();Pe(h)?Le(b,c,h,f):(Oe(h)||Qe(h)||Re(h)?Le(b,c,h,
f):c.push(new F(h)),c.push(new Nc))}d instanceof z||(c.push(new F(d)),c.push(new Pc));c.push(new Uc)}}function Ve(b,c){return b instanceof A&&b.wc(c)&&b.b().b()instanceof z}function Oe(b){return Ve(b,Se)}function Pe(b){return Ve(b,Te)}function Qe(b){return Ve(b,Ue)}function Re(b){return b instanceof A}t.ea=function(b){for(var c=Me(this),d=0,f=c.length;d<f;d++)if(c[d].ea(b))return j;return m};t.V=function(){for(var b=Me(this),c=0,d=b.length;c<d;c++){var f=b[c];if(f instanceof Y){if(we(f))return j}else if(f.V())return j}return m};
t.Q=function(b,c,d,f,h){return new Ke(We(b,c,d,f,h,this.Ea,1))};
function We(b,c,d,f,h,k,q){if(Oe(k))return 1===q?x([Se,k.b().a().Q(b,c,d,f,h)]):x([Se,We(b,c,d,f,h,k.b().a(),q-1)]);if(Pe(k))return 1===q?x([Te,k.b().a().Q(b,c,d,f,h)]):x([Te,We(b,c,d,f,h,k.b().a(),q-1)]);if(Qe(k))return x([Ue,We(b,c,d,f,h,k.b().a(),q+1)]);if(k.N())return k;for(var o=[],C=B;!k.N();)if(Oe(k)||Qe(k))C=We(b,c,d,f,h,k,q),k=k.b().b();else{var K=k.a(),k=k.b();Pe(K)?o.push(We(b,c,d,f,h,K,q)):Oe(K)||Qe(K)||Re(K)?o.push(We(b,c,d,f,h,K,q)):o.push(K)}k instanceof z||(C=k);return kb(o,C)}
t.P=function(b,c,d){return new Ke(Xe(b,c,d,this.Ea,1))};
function Xe(b,c,d,f,h){if(Oe(f))return 1===h?x([Se,f.b().a().P(b,c,d)]):x([Se,We(b,c,d,f.b().a(),h-1)]);if(Pe(f))return 1===h?x([Te,f.b().a().P(b,c,d)]):x([Te,Xe(b,c,d,f.b().a(),h-1)]);if(Qe(f))return x([Ue,Xe(b,c,d,f.b().a(),h+1)]);if(f.N())return f;for(var k=[],q=B;!f.N();)if(Oe(f)||Qe(f))q=Xe(b,c,d,f,h),f=f.b().b();else{var o=f.a(),f=f.b();Pe(o)?k.push(Xe(b,c,d,o,h)):Oe(o)||Qe(o)||Re(o)?k.push(Xe(b,c,d,o,h)):k.push(o)}f instanceof z||(q=f);return kb(k,q)}
t.K=function(b){return new Ke(Ye(b,this.Ea,1))};function Ye(b,c,d){if(Oe(c))return 1===d?x([Se,c.b().a().K(b)]):x([Se,Ye(b,c.b().a(),d-1)]);if(Pe(c))return 1===d?x([Te,c.b().a().K(b)]):x([Te,Ye(b,c.b().a(),d-1)]);if(Qe(c))return x([Ue,Ye(b,c.b().a(),d+1)]);if(c.N())return c;for(var f=[],h=B;!c.N();)if(Oe(c)||Qe(c))h=Ye(b,c,d),c=c.b().b();else{var k=c.a(),c=c.b();Pe(k)||Oe(k)||Qe(k)||Re(k)?f.push(Ye(b,k,d)):f.push(k)}c instanceof z||(h=c);return kb(f,h)}t.W=function(b){return new Ke(Ze(b,this.Ea,1))};
function Ze(b,c,d){if(Oe(c))return 1===d?x([Se,c.b().a().W(b)]):x([Se,Ze(b,c.b().a(),d-1)]);if(Pe(c))return 1===d?x([Te,c.b().a().W(b)]):x([Te,Ze(b,c.b().a(),d-1)]);if(Qe(c))return x([Ue,Ze(b,c.b().a(),d+1)]);if(c.N())return c;for(var f=[],h=B;!c.N();)if(Oe(c)||Qe(c))h=Ze(b,c,d),c=c.b().b();else{var k=c.a(),c=c.b();Pe(k)||Oe(k)||Qe(k)||Re(k)?f.push(Ze(b,k,d)):f.push(k)}c instanceof z||(h=c);return kb(f,h)}t.j=function(b){b.sa(this);for(var c=Me(this),d=0,f=c.length;d<f;d++)c[d].j(b);b.Fa(this)};
function $e(){}t=$e.prototype;t.sa=n();t.Fa=n();t.Tb=function(b){this.sa(b)};t.qc=function(b){this.sa(b)};t.Sb=function(b){this.sa(b)};t.Zb=function(b){this.Fa(b)};function af(b){this.Lb=new A(b,B)}af.prototype=new $e;af.prototype.Tb=function(b){b.k(this.Lb.a());this.Lb=new A(b,this.Lb)};af.prototype.Zb=function(){this.Lb=this.Lb.b()};function bf(){this.sb=[];this.Cc=[];this.ob=0;this.Bc=-1}bf.prototype=new $e;t=bf.prototype;t.Tb=function(b){b.Kb()&&this.ob++};t.sa=n();t.Fa=n();
t.Zb=function(b){b.Kb()&&this.ob--};t.qc=function(b){b=b.La-this.ob;if(this.Bc<b)this.Bc=b};function cf(b){this.sb=[];this.Cc=[];this.Ea=b}cf.prototype=new $e;t=cf.prototype;t.Fb=function(){return this.Cc.length};t.Tb=function(b){this.sb.unshift(b);if(b.Kb())this.Ea=this.Ea.K(0)};t.sa=function(b){this.sb.unshift(b)};t.Fa=function(){this.sb.shift()};t.Zb=function(b){this.sb.shift();if(b.Kb())this.Ea=qe(this.Ea)};t.qc=function(b){Nd(b,this.Ea)&&0<this.sb.length&&this.Cc.push(this.sb[0])};
function df(){this.name=this.target=l;this.mc=this.Qc=this.cd=0;this.children=[];this.parent=l;this.Zc={};this.Yc={}}function ef(b,c){var d=c.Na(),f=b[d];if(f===i&&(f=new df,f.target=c,f.name=d,b[d]=f,c instanceof Y&&(d=c.bc,d!==l)))d=ef(b,d),d.children.push(f),f.parent=d;return f}function ff(b){this.target=b;this.Fb=0;this.key=b.Na()}function gf(b,c){var d=b[c.Na()];d===i&&(d=new ff(c),b[d.key]=d);return d}function hf(){this.vc={};this.ud={};this.xc=l;this.now=0}function jf(){}jf.prototype.cb=i;
jf.prototype.end=i;jf.prototype.xb=i;function kf(b){b.show();var c=prompt("q to resume execution, f to skip to the end of this frame, any other key to step");if(c!==l)if(/^q$/i.test(c))Jc(b,yc);else if(/^f$/i.test(c))b.Ic=b.g-1,Jc(b,lf)}function mf(){}mf.prototype=new jf;mf.prototype.cb=n();mf.prototype.end=n();mf.prototype.xb=n();var yc=new mf;function nf(){}nf.prototype=new jf;nf.prototype.cb=function(b){kf(b)};nf.prototype.end=function(b){ya("VM thread finished: returning.");kf(b)};
nf.prototype.xb=n();var of=new nf;function pf(){}pf.prototype=new jf;pf.prototype.cb=function(b){b.Yb=j;for(var c=[],d=[];0<=b.g;)Bc(b).a().Ib&&(c.push(Bc(b)),d.push(b.ga[b.g])),b.g--;for(var f=c.length-1;0<=f;f--)S(b,d[f],c[f])};pf.prototype.end=n();pf.prototype.xb=n();var qf=new pf;function rf(){}rf.prototype=new jf;rf.prototype.cb=function(b){b.g<=b.Ic&&Jc(b,of)};rf.prototype.end=n();rf.prototype.xb=n();var lf=new rf;function sf(){}sf.prototype=new jf;
sf.prototype.cb=function(b){var c=b.Ta.xc;if(c!==l){var d=ef(b.Ta.vc,c),c=1E6*(new Date).getTime()-b.Ta.now;d.Qc+=c;d.mc+=c;for(d=d.parent;d!==l;)d.mc+=c,d=d.parent}var f=Lc(b);if(f!==l)b.q=b.ga[b.g],b.Hb=b.ma[b.g],this.od(f,b),f.la?(c=f.pa(b),c instanceof Sc&&(c=c.p()),d=ef(b.Ta.vc,c),f=f.e,f!==l&&gf(d.Zc,f).Fb++,f=ef(b.Ta.vc,f),c!==l&&gf(f.Yc,c).Fb++,d.cd++,b.Ta.xc=c):b.Ta.xc=f.e!==l?f.e:B,b.Ta.now=1E6*(new Date).getTime()};sf.prototype.end=n();
sf.prototype.xb=function(b){b.Ta=new hf;b.Ta.now=1E6*(new Date).getTime()};var tf=new sf;function uf(b,c,d){this.e=l;this.Wb=b;this.J=c;this.s=d;this.k(G("AssignmentBuilder.build"))}uf.prototype=new N;uf.prototype.className="AssignmentBuilder.BuildAssignment1";uf.prototype.d=function(b){if(!(this.J instanceof z)){try{this.J.yb()}catch(c){c instanceof Ea||g(c),g(new u("assign: unexpected: "+this.J))}E(b,new vf(this.Wb,this.J.b(),this.s));wf(b,this.J.a(),this.s)}};
function vf(b,c,d){this.e=l;this.Wb=b;this.J=c;this.s=d;this.k(G("AssignmentBuilder.build"))}vf.prototype=new N;vf.prototype.className="AssignmentBuilder.BuildAssignment2";vf.prototype.d=function(b){this.Wb.Ia(R(b).reduce());E(b,new uf(this.Wb,this.J,this.s))};var xf=B,yf=L("at-string");
function wf(b,c,d){if(c instanceof z)D(b,c);else if(c instanceof La&&!(xf instanceof z))E(b,new zf(d)),yf.bound()?Ga(yf.value(),b,new A(c,B)):D(b,c);else if(c instanceof M&&Af(c))wf(b,Bf(bb(c,"ssexpand")),d);else if(c instanceof A){var f,h=c.a();f=!(h instanceof M)||!h.bound()?l:gc(h.value());if(f!==l)h=c.b(),h instanceof A||g(new TypeError),E(b,new Cf(d)),Ga(f,b,h);else if(f=c.a(),ab("quote",f))D(b,new ve(c.b().a()));else if(f===Ue)E(b,new Df),Ef(b,c.b().a(),d,1);else if(ab("fn",f))h=c.b(),h instanceof
A||g(new TypeError),c=h,h=d,h===l&&g(new ReferenceError("can't have null lexical bindings!")),f={},d=c.a(),d instanceof z||(h=[f].concat(h)),E(b,new Ff(c,h,f)),d instanceof z?D(b,new A(B,B)):(c=h,Gf(d,c[0],[0],m),Hf(b,d,c));else if(ab("if",f)){h=c=c.b();for(f=new Ae;0<c.ha();)switch(c.ha()){case 0:break;case 1:f.append(new Md);c=c.b();break;case 2:f.append(new Ce);c=c.b();c instanceof A||g(new TypeError);c.Dc(new A(B,B));c=c.b();break;default:f.append(new Ce),c=c.b().b()}c=h;E(b,new If(f));E(b,new Jf(f,
c,d))}else if(ab("assign",f)){c=c.b();h=new ye;f=c.ha();0!==f%2&&g(new u("assign: requires even number of arguments"));f=f/2-1;0>f&&g(new u("assign: nothing to assign"));for(h.Y=new xe;0<f;)h.Y=new re(h.Y),f--;f=new F(h);f.k(G("AssignmentBuilder.build"));E(b,f);E(b,new uf(h,c,d))}else ab("compose",f.pc())?(h=f.b(),h instanceof A||g(new TypeError),c=c.b(),c instanceof A||g(new TypeError),wf(b,Kf(h,c),d)):ab("complement",f.pc())?(h=c.b(),h instanceof A||g(new TypeError),c=wf,f=f.b().a(),h=new A(L("no"),
new A(new A(f,h),B)),c(b,h,d)):f instanceof M&&Af(f)?wf(b,new A(Bf(bb(f,"ssexpand")),c.b()),d):E(b,new Lf(c,d,c,[]))}else{if(c instanceof M)for(h=0;h<d.length;h++)if(c.name()in d[h]){d=d[h][c.name()];D(b,new V(c,h,d));return}D(b,c)}}function zf(b){this.e=l;this.s=b;this.k(G("Compiler.compile"))}zf.prototype=new N;zf.prototype.className="Compiler.FinishAtString";zf.prototype.d=function(b){var c=R(b);c instanceof La?D(b,c):wf(b,c,this.s)};
function Cf(b){this.e=l;this.s=b;this.k(G("Compiler.compilePair"))}Cf.prototype=new N;Cf.prototype.className="Compiler.ThenCompile";Cf.prototype.d=function(b){wf(b,R(b),this.s)};function Df(){this.e=l;this.k(G("Compiler.compilePair"))}Df.prototype=new N;Df.prototype.className="Compiler.WrapQuasiQuotation";Df.prototype.d=function(b){D(b,new Ke(R(b)))};function Kf(b,c){var d=b.a();if(b.b()instanceof z)return new A(d,c);var f=b.b();f instanceof A||g(new TypeError);return new A(d,new A(Kf(f,c),B))}
function Ff(b,c,d){this.e=l;this.ab=b;this.s=c;this.yc=d;this.k(G("FunctionBodyBuilder.build"))}Ff.prototype=new N;Ff.prototype.className="FunctionBodyBuilder.Intermediate";Ff.prototype.d=function(b){var c=R(b),d=c.a(),c=c.b(),f=this.ab.b();f instanceof A||g(new TypeError);E(b,new Mf(c,this.yc,f,d,b.L));E(b,new Nf(f,this.s,[]))};function Mf(b,c,d,f,h){this.e=l;this.v=b;this.yc=c;this.J=d;this.ta=f;this.Db=h;this.k(G("FunctionBodyBuilder.build"))}Mf.prototype=new N;Mf.prototype.ac=j;
Mf.prototype.className="FunctionBodyBuilder.Finish";Mf.prototype.rc=function(b){return b instanceof Error};Mf.prototype.d=function(b){var c=b.error();if(c!==l)b.Pa=l,b.L=this.Db,g(new u("building function fn "+this.v+" "+this.J+": "+c,c));D(b,Of(this.v,this.yc,R(b),this.ta))};
function Of(b,c,d,f){var h="rainbow.function.interpreted.optimise.Bind"+Pf(b,m),k=v[h];if(k===i)return f instanceof z?new Qf(b,c,d):new Rf(b,c,d);try{var q=k.of(b,c,d);q instanceof y||g(new TypeError);return q}catch(o){o instanceof Error||g(o),g(new u("Couldn't instantiate "+h+": "+o,o))}}
function Pf(b,c){if(b instanceof z)return"";if(b instanceof A){if(c){if(Sf(b)){var d=b.b().b().a();return d.Da()?"_Oliteral":d instanceof V?"_Obound":"_Oother"}d=b.a();return"_D"+Pf(d,j)+Pf(b.b(),m)+"_d"}return Pf(b.a(),j)+Pf(b.b(),m)}return c?"_A":"_R"}function Tf(b,c,d){!(c instanceof z)&&c instanceof A&&(d&&Sf(c)?c.b().b().a().j(b):(Tf(b,c.a(),j),Tf(b,c.b(),m)))}var Uf=L("o"),Vf=L("#NIL#");function Hf(b,c,d){var f={value:B},h=[];E(b,new Wf(h,f));E(b,new Xf(h,f,c,d))}
function Wf(b,c){this.e=l;this.I=b;this.ta=c;this.k(G("FunctionParameterListBuilder.buildParams_"))}Wf.prototype=new N;Wf.prototype.className="FunctionParameterListBuilder.ReturnParams";Wf.prototype.d=function(b){if(0===this.I.length){var c;c=R(b)}else c=kb(this.I,R(b));c=new A(this.ta.value,c);D(b,c)};function Xf(b,c,d,f){this.e=l;this.I=b;this.ta=c;this.ra=d;this.s=f;this.k(G("FunctionParameterListBuilder.buildParams_"))}Xf.prototype=new N;Xf.prototype.className="FunctionParameterListBuilder.BuildParams1";
Xf.prototype.d=function(b){if(this.ra.N()){var c=new F(this.ra);c.k(this);E(b,c)}else{var c=this.ra.a(),d=this.ra.b();if(c instanceof A)if(c instanceof z)this.I.push(Vf),E(b,new Xf(this.I,this.ta,d,this.s));else if(this.ta.value=Va,Sf(c)){var f=c.b().a();E(b,new Yf(this.I,this.ta,d,this.s,f));wf(b,c.b().b().a(),this.s)}else E(b,new Zf(this.I,this.ta,d,this.s)),Hf(b,c,this.s);else this.I.push(c),E(b,new Xf(this.I,this.ta,d,this.s))}};
function Yf(b,c,d,f,h){this.e=l;this.I=b;this.ta=c;this.ra=d;this.s=f;this.ed=h;this.k(G("FunctionParameterListBuilder.buildParams_"))}Yf.prototype=new N;Yf.prototype.className="FunctionParameterListBuilder.BuildParams2a";Yf.prototype.d=function(b){this.I.push(x([Uf,this.ed,R(b)]));E(b,new Xf(this.I,this.ta,this.ra,this.s))};function Zf(b,c,d,f){this.e=l;this.I=b;this.ta=c;this.ra=d;this.s=f;this.k(G("FunctionParameterListBuilder.buildParams_"))}Zf.prototype=new N;Zf.prototype.className="FunctionParameterListBuilder.BuildParams2b";
Zf.prototype.d=function(b){this.I.push(R(b).b());E(b,new Xf(this.I,this.ta,this.ra,this.s))};function $f(b){for(;!b.N();){if(b.a()instanceof A)return Va;b=b.b()}return B}function Gf(b,c,d,f){b instanceof z||(b instanceof A?f&&Sf(b)?Gf(b.b().a(),c,d,j):(f=b.a(),f instanceof z?(c[Vf.name()]=d[0],d[0]++):Gf(f,c,d,j),Gf(b.b(),c,d,m)):(b instanceof M||g(new TypeError(""+b)),c[b.name()]=d[0],d[0]++))}
function ag(b,c,d,f){var h=l;f instanceof M&&!f.Ca(b.name)?h=f:Sf(f)&&!f.b().a().Ca(b.name)?h=x([Uf,f.b().a(),f.b().b().a().P(b,c,d)]):!Sf(f)&&f instanceof A&&(h=f);return h}function bg(b,c,d,f){var h=l;f instanceof M&&!f.Ca(b.name)?h=f:Sf(f)&&!f.b().a().Ca(b.name)?h=x([Uf,f.b().a(),f.b().b().a().Q(b,c,m,0,d)]):!Sf(f)&&f instanceof A&&(h=f);return h}function If(b){this.e=l;this.tb=b;this.k(G("IfBuilder.build"))}If.prototype=new N;If.prototype.className="IfBuilder.Reduce";
If.prototype.d=function(b){D(b,this.tb.reduce())};function Jf(b,c,d){this.e=l;this.tb=b;this.J=c;this.s=d;this.k(G("IfBuilder.build"))}Jf.prototype=new N;Jf.prototype.className="IfBuilder.BuildIf1";Jf.prototype.d=function(b){if(!(this.J instanceof z)){try{this.J.yb()}catch(c){c instanceof Ea||g(c),g(new u("if: unexpected: "+this.J))}E(b,new cg(this.tb,this.J.b(),this.s));wf(b,this.J.a(),this.s)}};function cg(b,c,d){this.e=l;this.tb=b;this.J=c;this.s=d;this.k(G("AssignmentBuilder.build"))}
cg.prototype=new N;cg.prototype.className="IfBuilder.BuildIf2";cg.prototype.d=function(b){this.tb.Ia(R(b).reduce());E(b,new Jf(this.tb,this.J,this.s))};function Lf(b,c,d,f){this.e=l;this.J=b;this.s=c;this.qa=d;this.Ja=f;this.k(G("InvocationBuilder.build"))}Lf.prototype=new N;Lf.prototype.className="InvocationBuilder.BuildInvocation";
Lf.prototype.d=function(b){if(this.J instanceof z)D(b,(new Ee(x(this.Ja))).reduce());else{try{this.J.yb()}catch(c){c instanceof Ea||g(c),g(new u("can't compile "+this.qa+"; not a proper list"))}E(b,new Lf(this.J.b(),this.s,this.qa,this.Ja));E(b,new dg(this.Ja));wf(b,this.J.a(),this.s)}};function dg(b){this.e=l;this.Ja=b;this.k(G("InvocationBuilder.build"))}dg.prototype=new N;dg.prototype.className="InvocationBuilder.ReducePush";dg.prototype.d=function(b){this.Ja.push(R(b).reduce())};
function Nf(b,c,d){this.e=l;this.J=b;this.s=c;this.I=d;this.k(G("PairExpander.expand"))}Nf.prototype=new N;Nf.prototype.className="PairExpander.ExpandPair";Nf.prototype.d=function(b){if(this.J instanceof z||!(this.J instanceof A))E(b,new eg(this.I)),wf(b,this.J,this.s);else{E(b,new Nf(this.J.b(),this.s,this.I));var c=this.J.a();E(b,new fg(this.I));wf(b,c,this.s)}};function fg(b){this.e=l;this.Ja=b;this.k(G("PairExpander.expand"))}fg.prototype=new N;fg.prototype.className="PairExpander.ReducePush";
fg.prototype.d=function(b){this.Ja.push(R(b).reduce())};function eg(b){this.e=l;this.I=b;this.k(G("PairExpander.expand"))}eg.prototype=new N;eg.prototype.className="PairExpander.FinishPair";eg.prototype.d=function(b){var c=kb(this.I,R(b).reduce());c instanceof A||g(new TypeError);D(b,c)};var Ue=L("quasiquote"),Se=L("unquote"),Te=L("unquote-splicing");function Ef(b,c,d,f){c.N()?D(b,c):Oe(c)?gg(b,Se,c,f,d):Pe(c)?gg(b,Te,c,f,d):Qe(c)?(E(b,new hg(Ue)),Ef(b,c.b().a(),d,f+1)):E(b,new ig([],c,d,f))}
function ig(b,c,d,f){this.e=l;this.I=b;this.va=c;this.s=d;this.ob=f;this.k(G("QuasiQuoteCompiler.compile"))}ig.prototype=new N;ig.prototype.className="QuasiQuoteCompiler.CompileQuasiQuote";ig.prototype.d=function(b){if(this.va.N())E(b,new jg(this.I)),Ef(b,this.va,this.s,this.ob);else{var c=this.va.a();E(b,new ig(this.I,this.va.b(),this.s,this.ob));c.N()?this.I.push(c):(E(b,new kg(this.I)),Ef(b,c,this.s,this.ob))}};function jg(b){this.e=l;this.I=b;this.k(G("QuasiQuoteCompiler.compile"))}
jg.prototype=new N;jg.prototype.className="QuasiQuoteCompiler.FinishQuasiQuote";jg.prototype.d=function(b){D(b,kb(this.I,R(b)))};function kg(b){this.e=l;this.I=b;this.k(G("QuasiQuoteCompiler.compile"))}kg.prototype=new N;kg.prototype.className="QuasiQuoteCompiler.Push";kg.prototype.d=function(b){this.I.push(R(b))};function gg(b,c,d,f,h){d=d.b().a();E(b,new hg(c));1===f?wf(b,d,h):Ef(b,d,h,f-1)}function hg(b){this.e=l;this.gd=b;this.k(G("QuasiQuoteCompiler.compile"))}hg.prototype=new N;
hg.prototype.className="QuasiQuoteCompiler.Prefix";hg.prototype.d=function(b){D(b,x([this.gd,R(b)]))};var lg={},mg=L("let"),ng=L("self"),og=L("it");L("afn");var pg=L("do"),qg=L("with"),rg=L("aif");
function Fe(b){if(b.a()===mg)a:{b=b.b();if(b.a()===og){var c=b.b().a(),d=b.b().b();if(d.b()instanceof z&&d.a()instanceof Ae&&(d=d.a(),!(d.X instanceof Ce)?0:"it"===d.X.l.toString())){b=d.O();d=d.X;d instanceof Ce||g(new TypeError);b=x([rg,c,b,d.next]);break a}}else if(b.a()===ng&&b.b().a()instanceof z&&(d=b.b().b(),d.a()instanceof ye&&d.b()instanceof z)){c=d.a();var d=c.Y,f="self";if(d.name instanceof M)d=d.name.name()===f;else{if(!(d.name instanceof X))f=d.name,f instanceof V||g(new TypeError);d=
d.name.name.name()===f}if(d&&c.Y.A instanceof Y&&c.Y instanceof xe){b=lg.xd(c.Y.A);break a}}b=new A(mg,b)}return b}function Ge(b){var c=b.a(),d=b.b(),f=c.v;if(d.ha()===f.ha())if(0===d.ha())c=x([pg].concat(c.body));else if(1===d.ha())c=x([mg,f.a(),d.a()].concat(c.body));else{b=d;for(d=[];!(f instanceof z);)d.push(f.a()),d.push(b.a()),f=f.b(),b=b.b();c=x([qg,x(d)].concat(c.body))}else c=b;return c}function $(){}$.prototype=new y;t=$.prototype;t.className="Builtin";
t.c=function(b){this.$=b;L(b).da(this);return this};t.h=function(b){g(new u("Builtin:invoke(args):provide implementation! "+this.name()+" args "+b))};t.f=function(b,c){D(b,this.h(c))};t.oa=r(0);t.type=function(){return sg};function Jb(b,c,d){d<b.ha()&&(ya(c+" got args "+b+" was expecting expecting at most "+d),g(new u(c.toLowerCase()+" expects at most "+d+" arguments: given "+b)))}function tg(b,c,d){b.ha()!==c&&g(new u(d.toLowerCase()+" expects "+c+" arguments: given "+b))}
t.toString=function(){return"[builtin:"+(this.$===l||0===this.$.length?this.className:this.$)+"]"};t.Na=function(){return this.toString()};t.name=function(){return""===this.$?this.className.toLowerCase():this.$};var sg=L("fn");function Sc(b,c){this.va=b;this.fa=c}Sc.prototype=new y;t=Sc.prototype;t.className="Closure";t.wa=function(b){this.va.ia(b,this.fa)};t.r=function(b,c){this.va.u(b,this.fa,c)};t.R=function(b,c,d){this.va.Aa(b,this.fa,c,d)};t.f=function(b,c){this.va.B(b,this.fa,c)};t.type=function(){return sg};
t.toString=function(){return this.va.toString()};t.Na=function(){return this.va.Na()};t.p=p("va");function ug(b){return 0===b.length?m:b.charCodeAt(0)===vg?ug(b.substring(1)):b.charAt(b.length-1)===vg?ug(b.substring(0,b.length-1)):-1!==b.indexOf(wg)}function Y(){}Y.prototype=new y;t=Y.prototype;t.H=Y;t.className="InterpretedFunction";t.c=function(b,c,d){this.name=B;this.v=b;this.o=c;this.body=ob(d);this.wd=this.qb=this.Z=this.bc=this.n=l;xg(this);return this};
t.nc=function(b){if(this.name===b)this.name=B};t.Ub=function(b){this.name=b;for(var b=new af(this),c=0,d=this.body.length;c<d;c++)this.body[c].j(b)};t.Vb=p("name");t.Na=function(){if(this.qb!==l)return this.qb;this.name instanceof z?(this.qb=this.toString(),this.bc!==l&&(this.qb+=" in "+this.bc.Na())):this.qb=this.Vb().toString();return this.qb};
t.reduce=function(){var b;if(yg&&!this.V()&&!(this.v instanceof z)){var c="rainbow.function.interpreted.optimise.stack.Stack"+Pf(this.v,m),d=v[c];if(d===i)b=this;else try{var f=d.of1(this);f instanceof y||g(new TypeError);b=f}catch(h){h instanceof Error||g(h),g(new u("Couldn't instantiate "+c+": "+h,h))}}else b=this;return b};function xg(b){var c=[];Ie(b,c);b.n=x(c);b.n.j(new zg(b))}t.k=ba("bc");function zg(b){this.e=b}zg.prototype=new $e;zg.prototype.Sb=function(b){b.k(this.e)};
function Ie(b,c){if(0===b.body.length)c.push(new F(B));else for(var d=0;d<b.body.length;d++){var f=d===b.body.length-1;b.body[d].m(c);f||c.push(new Yc("intermediate-fn-expression"))}}t=Y.prototype;t.hb=function(b,c){return 1===this.body.length&&this.uc(b,c)&&!this.ea(0)&&!this.V()};
t.uc=function(b,c){var d=this.o[b.name()],d=new V(b,0,d),f;if(!(f=c.Da()))if(!(f=c instanceof ve))if(!(f=c instanceof M))if(!(f=c instanceof V)){d=new cf(d);f=0;for(var h=this.body.length;f<h;f++)this.body[f].j(d);f=1>=d.Fb()}return f};t.V=function(){for(var b=0,c=this.body.length;b<c;b++){var d=this.body[b];if(d instanceof Y){if(we(d))return j}else if(d.V())return j}return m};function Ag(b,c){for(var d=0,f=b.body.length;d<f;d++)if(b.body[d].ea(c))return j;return m}
t.Kb=function(){return!(this.v instanceof z)};t.ea=function(b){return this.v instanceof z?Ag(this,b):Ag(this,b+1)};t.wa=function(b){return this.ia(b,l)};t.ia=function(b,c){return this.B(b,c,B)};t.r=function(b,c){return this.u(b,l,c)};t.u=function(b,c,d){return this.B(b,c,new A(d,B))};t.R=function(b,c,d){return this.Aa(b,l,c,d)};t.Aa=function(b,c,d,f){return this.B(b,c,new A(d,new A(f,B)))};t.Ra=function(b,c,d,f){return this.Jb(b,l,c,d,f)};
t.Jb=function(b,c,d,f,h){return this.B(b,c,new A(d,new A(f,new A(h,B))))};t.f=function(b,c){return this.B(b,l,c)};t.B=function(){g(new u("error: invoke(vm, lc, args) not implemented in "+this.className+"; "+this))};t.m=function(b){we(this)?b.push(new Rc(this)):b.push(new F(this))};t.Da=function(){return!we(this)};function we(b){var c=new bf;b.j(c);return-1<c.Bc}t.j=function(b){b.Tb(this);Tf(b,this.v,m);for(var c=0,d=this.body.length;c<d;c++)this.body[c].j(b);b.Zb(this);this.Z!==l&&this.Z.j(b)};
t.oa=function(b){g(new u("Can't compare "+this+" to "+b))};t.toString=function(){if(this.v instanceof A&&this.v.a()===L("_")&&this.v.b()instanceof z&&1===this.body.length&&!(this.body[0]instanceof zb)){if(this.body[0]instanceof z)return"[]";var b=this.body[0].toString();return"["+b.substring(1,b.length-1)+"]"}return x([L("fn"),this.v].concat(this.body)).toString()};t.type=function(){return sg};t.zb=function(b){return this.body[b]};t.Mc=function(){return this.body[this.body.length-1]};t.length=function(){return this.body.length};
function Bg(b,c,d){try{c.b().Ka()}catch(f){f instanceof Ea||g(f),Cg(b,d)}}function Cg(b,c){g(new u("args "+c+" doesn't match signature for "+b))}
t.jb=function(b,c,d){var f=this.o[b.name()];f===i&&g(new ReferenceError);var b=new V(b,0,f),h;for(var k=this.v,q=c,o=B,C=[];!k.N();){var K=bg(b,q,f,k.a());K!==l&&C.push(K);k=k.b()}k instanceof M&&(q=bg(b,q,f,k),q!==l&&(o=q));try{h=kb(C,o)}catch(ia){ia instanceof Error||g(ia),g(new u("couldn't curry params "+k+", got list "+C+" and last "+o))}k={};Gf(h,k,[0],m);o=h instanceof z;!o&&d&&(c=c.K(0));d=[];for(C=0;C<this.body.length;C++)d.push(this.body[C].Q(b,c,o,0,f).reduce());c=x(d);f=$f(h);return Of(h,
k,c,f)};t.Q=function(b,c,d,f,h){for(var b=this.v instanceof z?b:b.K(0),d=Dg(this),k=[],q=0;q<this.body.length;q++)k.push(this.body[q].Q(b,c,m,f+1,h).reduce());b=x(k);d.body=ob(b);xg(d);return d};t.P=function(b,c,d){if(!(this.v instanceof z))return this;for(var f=Dg(this),h=[],k=0;k<this.body.length;k++)h.push(this.body[k].P(b,c,d).reduce());b=x(h);f.body=ob(b);xg(f);return f};
t.K=function(b){this.v instanceof z||b++;for(var c=Dg(this),d=[],f=0;f<this.body.length;f++)d.push(this.body[f].K(b));b=x(d);c.body=ob(b);xg(c);return c};function Dg(b){var c=new b.H,d;for(d in b)b.hasOwnProperty(d)&&(c[d]=b[d]);return c}function Eg(b,c,d){d.wb(c)||g(new u("error: "+b+" expects "+c+" args, got "+d))}function Qf(b,c,d){this.c(b,c,d)}Qf.prototype=new Y;Qf.prototype.H=Qf;Qf.prototype.className="SimpleArgs";
Qf.prototype.B=function(b,c,d){var f=0,h;for(h in this.o)f++;f=c=new w(f,c);for(h=this.v;!(h instanceof z);)if(h instanceof M){f.add(d);break}else f.add(d.a()),d=d.b(),h=h.b();S(b,c,this.n)};function Rf(b,c,d){this.c(b,c,d)}Rf.prototype=new Y;Rf.prototype.H=Rf;Rf.prototype.className="ComplexArgs";Rf.prototype.B=function(b,c,d){var f=0,h;for(h in this.o)f++;c=new w(f,c);E(b,new Fg(c,this.n,this));E(b,new Gg(c,this.v,d,this))};function Fg(b,c,d){this.e=l;this.fa=b;this.n=c;this.k(d)}Fg.prototype=new N;
Fg.prototype.className="ComplexArgs.Run";Fg.prototype.d=function(b){S(b,this.fa,this.n)};function Gg(b,c,d,f){this.e=l;this.fa=b;this.ra=c;this.ab=d;this.k(f)}Gg.prototype=new N;Gg.prototype.className="ComplexArgs.BuildComplex";
Gg.prototype.d=function(b){if(this.ra.N())this.ra instanceof M&&this.fa.add(this.ab);else{var c=this.ra.a(),d=this.ab.a();E(b,new Gg(this.fa,this.ra.b(),this.ab.b(),this.e));if(c instanceof M)this.fa.add(d);else if(Sf(c))if(c=c.b(),c instanceof A||g(new TypeError),this.ab instanceof z){E(b,new Hg(this.fa,this));var d=this.fa,f=[];c.b().a().m(f);S(b,d,x(f))}else this.fa.add(d);else{try{d.yb()}catch(h){h instanceof Ea||g(h),g(new u("Expected list argument for destructuring parameter "+c+", got "+d))}E(b,
new Gg(this.fa,c,d,this.e))}this.ra=this.ra.b();this.ab=this.ab.b()}};function Hg(b,c){this.e=l;this.fa=b;this.k(c)}Hg.prototype=new N;Hg.prototype.className="ComplexArgs.AddToLc";Hg.prototype.d=function(b){this.fa.add(R(b))};function Sf(b){return!(b instanceof A)?m:b.a()===Ig}var Ig=L("o");function Jg(){}Jg.prototype=new Y;t=Jg.prototype;t.H=Jg;t.className="StackFunctionSupport";t.hb=function(b,c){return this.uc(b,c)&&!this.ea(0)};
t.uc=function(b,c){var d=this.o[b.name()],d=new X(b,d);return c.Da()||c instanceof ve||c instanceof M||1===this.body.length&&this.body[0]instanceof X&&$d(d,this.body[0])};t.Kb=r(m);
t.jb=function(b,c){var d=this.o[b.name()],f=new X(b,d),h;for(var k=this.v,q=B,o=[];!k.N();){var C=ag(f,c,d,k.a());C!==l&&o.push(C);k=k.b()}k instanceof M&&(C=ag(f,c,d,k),C!==l&&(q=C));try{h=kb(o,q)}catch(K){K instanceof Error||g(K),g(new u("couldn't curry params "+k+", got list "+o+" and last "+q))}k={};Gf(h,k,[0],m);q=[];for(o=0;o<this.body.length;o++)q.push(this.body[o].P(f,c,d).reduce());var d=x(q),f=$f(h),ia;q=Pf(h,m);if(""===q)ia=Of(h,k,d,f);else{f="rainbow.function.interpreted.optimise.stack.Stack"+
q;q=v[f];q===i&&g(new u("no stack-based function implementation for "+h+"; couldn't find "+f));try{var U=q.of3(h,k,d);U instanceof y||g(new TypeError);ia=U}catch(sb){sb instanceof Error||g(sb),g(new u("Couldn't instantiate "+f+": "+sb,sb))}}return ia};function Kg(b,c){for(var d=Array(~~c.length),f=0;f<c.length;f++)d[f]=c[f].W(b);return x(d)}function He(){}v["rainbow.function.interpreted.optimise.Bind"]=He;He.prototype=new Y;He.prototype.H=He;He.prototype.className="Bind";
He.of=function(b,c,d){return(new He).c(b,c,d)};He.prototype.ia=function(b,c){S(b,c,this.n)};He.prototype.B=function(b,c,d){try{d.Ka()}catch(f){f instanceof Fa||g(f),g(new u("expected 0 args, got "+d))}S(b,c,this.n)};function Lg(){}v["rainbow.function.interpreted.optimise.Bind_A"]=Lg;Lg.prototype=new Y;Lg.prototype.H=Lg;Lg.prototype.className="Bind_A";Lg.of=function(b,c,d){return(new Lg).c(b,c,d)};Lg.prototype.ia=function(){g(new u("function "+this+" expects 1 arg, got none"))};
Lg.prototype.u=function(b,c,d){var f=0,h;for(h in this.o)f++;c=new w(f,c);c.add(d);S(b,c,this.n)};Lg.prototype.B=function(b,c,d){d instanceof z&&this.ia(b,c);try{d.b().Ka()}catch(f){f instanceof Fa||g(f),g(new u("expected 1 arg, got "+d+" calling "+this))}this.u(b,c,d.a())};function Mg(){}v["rainbow.function.interpreted.optimise.Bind_A_A"]=Mg;Mg.prototype=new Y;Mg.prototype.H=Mg;Mg.prototype.className="Bind_A_A";Mg.of=function(b,c,d){return(new Mg).c(b,c,d)};Mg.prototype.ia=function(){g(new u("error: expected 2 args, got none"))};
Mg.prototype.u=function(b,c,d){g(new u("error: expected 2 args, got 1: "+d))};Mg.prototype.Aa=function(b,c,d,f){var h=0,k;for(k in this.o)h++;c=new w(h,c);c.add(d);c.add(f);S(b,c,this.n)};Mg.prototype.B=function(b,c,d){try{d.b().b().Ka()}catch(f){f instanceof Fa||g(f),g(new u("expected 2 args, got "+d))}this.Aa(b,c,d.a(),d.b().a())};function Ng(){}v["rainbow.function.interpreted.optimise.Bind_A_A_A"]=Ng;Ng.prototype=new Y;Ng.prototype.H=Ng;Ng.prototype.className="Bind_A_A_A";
Ng.of=function(b,c,d){return(new Ng).c(b,c,d)};Ng.prototype.Jb=function(b,c,d,f,h){var k=0,q;for(q in this.o)k++;c=new w(k,c);c.add(d);c.add(f);c.add(h);S(b,c,this.n)};Ng.prototype.B=function(b,c,d){Bg(this,d.b().b().b(),d);this.Jb(b,c,d.a(),d.b().a(),d.b().b().a())};function Og(){}v["rainbow.function.interpreted.optimise.Bind_A_A_R"]=Og;Og.prototype=new Y;Og.prototype.H=Og;Og.prototype.className="Bind_A_A_R";Og.of=function(b,c,d){return(new Og).c(b,c,d)};Og.prototype.ia=function(){g(new u("error: expected at least 2 arg, got none"))};
Og.prototype.u=function(b,c,d){g(new u("error: expected at least 2 args, got one: "+d))};Og.prototype.B=function(b,c,d){var f=0,h;for(h in this.o)f++;c=new w(f,c);c.add(d.a());c.add(d.b().a());c.add(d.b().b());S(b,c,this.n)};function Pg(){}v["rainbow.function.interpreted.optimise.Bind_A_Obound"]=Pg;Pg.prototype=new Y;Pg.prototype.H=Pg;Pg.prototype.className="Bind_A_Obound";
Pg.of=function(b,c,d){c=(new Pg).c(b,c,d);d=b.b().a().b().b().a();d instanceof V||g(new TypeError);c.S=d;b=b.b().a().b().a();b instanceof M||g(new TypeError);if(c.hb(b,c.S))try{var f=c.jb(b,c.S,m);f instanceof Y||g(new TypeError);c.Z=f}catch(h){h instanceof Error||g(h),za(h)}return c};Pg.prototype.u=function(b,c,d){if(this.Z!==l)this.Z.u(b,c,d);else{var f=0,h;for(h in this.o)f++;c=new w(f,c);c.add(d);c.add(this.S.t(c));S(b,c,this.n)}};
Pg.prototype.Aa=function(b,c,d,f){var h=0,k;for(k in this.o)h++;c=new w(h,c);c.add(d);c.add(f);S(b,c,this.n)};Pg.prototype.B=function(b,c,d){d instanceof z&&Cg(this,d);var f=d.a(),h=d.b();h instanceof z?this.u(b,c,f):(Bg(this,h.b(),d),this.Aa(b,c,f,h.a()))};function Qg(){}v["rainbow.function.interpreted.optimise.Bind_A_Oliteral"]=Qg;Qg.prototype=new Y;Qg.prototype.H=Qg;Qg.prototype.className="Bind_A_Oliteral";
Qg.of=function(b,c,d){c=(new Qg).c(b,c,d);c.S=b.b().a().b().b().a();b=b.b().a().b().a();b instanceof M||g(new TypeError);if(c.hb(b,c.S))try{var f=c.jb(b,c.S,m);f instanceof Y||g(new TypeError);c.Z=f}catch(h){h instanceof Error||g(h),za(h)}return c};Qg.prototype.u=function(b,c,d){if(this.Z!==l)this.Z.u(b,c,d);else{var f=0,h;for(h in this.o)f++;c=new w(f,c);c.add(d);c.add(this.S);S(b,c,this.n)}};Qg.prototype.Aa=function(b,c,d,f){var h=0,k;for(k in this.o)h++;c=new w(h,c);c.add(d);c.add(f);S(b,c,this.n)};
Qg.prototype.B=function(b,c,d){d instanceof z&&Cg(this,d);var f=d.a(),h=d.b();h instanceof z?this.u(b,c,f):(Bg(this,h.b(),d),this.Aa(b,c,f,h.a()))};function Rg(){}v["rainbow.function.interpreted.optimise.Bind_A_Oother"]=Rg;Rg.prototype=new Y;Rg.prototype.H=Rg;Rg.prototype.className="Bind_A_Oother";Rg.of=function(b,c,d){c=(new Rg).c(b,c,d);d=[];b.b().a().b().b().a().m(d);c.Ac=x(d);return c};
Rg.prototype.u=function(b,c,d){var f=0,h;for(h in this.o)f++;c=new w(f,c);c.add(d);E(b,new Sg(c,this.n,this));S(b,c,this.Ac)};Rg.prototype.Aa=function(b,c,d,f){var h=0,k;for(k in this.o)h++;c=new w(h,c);c.add(d);c.add(f);S(b,c,this.n)};Rg.prototype.B=function(b,c,d){d instanceof z&&Cg(this,d);var f=d.a(),h=d.b();h instanceof z?this.u(b,c,f):(Bg(this,h.b(),d),this.Aa(b,c,f,h.a()))};function Tg(){}v["rainbow.function.interpreted.optimise.Bind_A_R"]=Tg;Tg.prototype=new Y;Tg.prototype.H=Tg;
Tg.prototype.className="Bind_A_R";Tg.of=function(b,c,d){return(new Tg).c(b,c,d)};Tg.prototype.ia=function(){g(new u("error: expected at least 1 arg, got none"))};Tg.prototype.B=function(b,c,d){var f=0,h;for(h in this.o)f++;c=new w(f,c);c.add(d.a());c.add(d.b());S(b,c,this.n)};function Ug(){}v["rainbow.function.interpreted.optimise.Bind_D_A_A_A_d"]=Ug;Ug.prototype=new Y;Ug.prototype.H=Ug;Ug.prototype.className="Bind_D_A_A_A_d";Ug.of=function(b,c,d){return(new Ug).c(b,c,d)};
Ug.prototype.u=function(b,c,d){var f=0,h;for(h in this.o)f++;c=new w(f,c);d instanceof A||g(new TypeError);c.add(d.a());d=d.b();d instanceof A||g(new TypeError);c.add(d.a());d=d.b();d instanceof A||g(new TypeError);c.add(d.a());S(b,c,this.n)};Ug.prototype.B=function(b,c,d){try{d.b().Ka()}catch(f){f instanceof Fa||g(f),g(new u("expected 1 arg, got extra "+d.b()+" calling "+this))}this.u(b,c,d.a())};function Vg(){}v["rainbow.function.interpreted.optimise.Bind_D_A_A_d"]=Vg;Vg.prototype=new Y;
Vg.prototype.H=Vg;Vg.prototype.className="Bind_D_A_A_d";Vg.of=function(b,c,d){return(new Vg).c(b,c,d)};Vg.prototype.u=function(b,c,d){var f=0,h;for(h in this.o)f++;c=new w(f,c);d instanceof A||g(new TypeError);c.add(d.a());d=d.b();d instanceof A||g(new TypeError);c.add(d.a());S(b,c,this.n)};Vg.prototype.B=function(b,c,d){Bg(this,d.b(),d);this.u(b,c,d.a())};function Wg(){}v["rainbow.function.interpreted.optimise.Bind_Obound"]=Wg;Wg.prototype=new Y;Wg.prototype.H=Wg;Wg.prototype.className="Bind_Obound";
Wg.of=function(b,c,d){c=(new Wg).c(b,c,d);b=b.a();b instanceof A||g(new TypeError);b=b.b().b().a();b instanceof V||g(new TypeError);c.dd=b;return c};Wg.prototype.ia=function(b,c){var d=0,f;for(f in this.o)d++;c=new w(d,c);c.add(this.dd.t(c));S(b,c,this.n)};Wg.prototype.u=function(b,c,d){var f=0,h;for(h in this.o)f++;c=new w(f,c);c.add(d);S(b,c,this.n)};
Wg.prototype.B=function(b,c,d){if(d instanceof z)this.ia(b,c);else{try{d.b().Ka()}catch(f){f instanceof Fa||g(f),g(new u("expected 0 or 1 args, got extra "+d.b()+" calling "+this))}this.u(b,c,d.a())}};function Xg(){}v["rainbow.function.interpreted.optimise.Bind_Oliteral"]=Xg;Xg.prototype=new Y;Xg.prototype.H=Xg;Xg.prototype.className="Bind_Oliteral";
Xg.of=function(b,c,d){c=(new Xg).c(b,c,d);c.S=b.a().b().b().a();b=b.a().b().a();b instanceof M||g(new TypeError);if(c.hb(b,c.S))b=c.jb(b,c.S,m),b instanceof Y||g(new TypeError),c.Z=b;return c};Xg.prototype.ia=function(b,c){if(this.Z!==l)this.Z.ia(b,c);else{var d=0,f;for(f in this.o)d++;c=new w(d,c);c.add(this.S);S(b,c,this.n)}};Xg.prototype.u=function(b,c,d){var f=0,h;for(h in this.o)f++;c=new w(f,c);c.add(d);S(b,c,this.n)};
Xg.prototype.B=function(b,c,d){if(d instanceof z)this.ia(b,c);else{try{d.b().Ka()}catch(f){f instanceof Fa||g(f),g(new u("expected 0 or 1 args, got extra "+d.b()+" calling "+this))}this.u(b,c,d.a())}};function Yg(){}v["rainbow.function.interpreted.optimise.Bind_Oother"]=Yg;Yg.prototype=new Y;Yg.prototype.H=Yg;Yg.prototype.className="Bind_Oother";Yg.of=function(b,c,d){var f=(new Yg).c(b,c,d);f.c(b,c,d);f.S=b.a().b().b().a();b=[];f.S.m(b);f.Ac=x(b);return f};
Yg.prototype.ia=function(b,c){var d=0,f;for(f in this.o)d++;c=new w(d,c);E(b,new Sg(c,this.n,this));S(b,c,this.Ac)};Yg.prototype.u=function(b,c,d){var f=0,h;for(h in this.o)f++;c=new w(f,c);c.add(d);S(b,c,this.n)};Yg.prototype.B=function(b,c,d){if(d instanceof z)this.ia(b,c);else{try{d.b().Ka()}catch(f){f instanceof Fa||g(f),g(new u("expected 0 or 1 args, got extra "+d.b()+" calling "+this))}this.u(b,c,d.a())}};function Zg(){}v["rainbow.function.interpreted.optimise.Bind_R"]=Zg;Zg.prototype=new Y;
Zg.prototype.H=Zg;Zg.prototype.className="Bind_R";Zg.of=function(b,c,d){return(new Zg).c(b,c,d)};Zg.prototype.B=function(b,c,d){var f=0,h;for(h in this.o)f++;c=new w(f,c);c.add(d);S(b,c,this.n)};function $g(){}v["rainbow.function.interpreted.optimise.stack.Stack_A"]=$g;$g.prototype=new Jg;$g.prototype.H=$g;$g.prototype.className="Stack_A";$g.of1=function(b){return $g.of3(b.v,b.o,Kg(b.o,b.body))};$g.of3=function(b,c,d){return(new $g).c(b,c,d)};$g.prototype.r=function(b,c){T(b,l,this.n,[c])};
$g.prototype.u=function(b,c,d){T(b,c,this.n,[d])};$g.prototype.f=function(b,c){Eg(this,1,c);this.r(b,c.a())};$g.prototype.B=function(b,c,d){Eg(this,1,d);this.u(b,c,d.a())};function ah(){}v["rainbow.function.interpreted.optimise.stack.Stack_A_A"]=ah;ah.prototype=new Jg;ah.prototype.H=ah;ah.prototype.className="Stack_A_A";ah.of1=function(b){return ah.of3(b.v,b.o,Kg(b.o,b.body))};ah.of3=function(b,c,d){return(new ah).c(b,c,d)};ah.prototype.R=function(b,c,d){T(b,l,this.n,[c,d])};
ah.prototype.Aa=function(b,c,d,f){T(b,c,this.n,[d,f])};ah.prototype.f=function(b,c){Eg(this,2,c);this.R(b,c.a(),c.b().a())};ah.prototype.B=function(b,c,d){Eg(this,2,d);this.Aa(b,c,d.a(),d.b().a())};function bh(){}v["rainbow.function.interpreted.optimise.stack.Stack_A_A_A"]=bh;bh.prototype=new Jg;bh.prototype.H=bh;bh.prototype.className="Stack_A_A_A";bh.of1=function(b){return bh.of3(b.v,b.o,Kg(b.o,b.body))};bh.of3=function(b,c,d){return(new bh).c(b,c,d)};
bh.prototype.Ra=function(b,c,d,f){T(b,l,this.n,[c,d,f])};bh.prototype.Jb=function(b,c,d,f,h){T(b,c,this.n,[d,f,h])};bh.prototype.f=function(b,c){Eg(this,3,c);this.Ra(b,c.a(),c.b().a(),c.b().b().a())};bh.prototype.B=function(b,c,d){Eg(this,3,d);this.Jb(b,c,d.a(),d.b().a(),d.b().b().a())};function ch(){}v["rainbow.function.interpreted.optimise.stack.Stack_A_A_A_A"]=ch;ch.prototype=new Jg;ch.prototype.H=ch;ch.prototype.className="Stack_A_A_A_A";ch.of1=function(b){return ch.of3(b.v,b.o,Kg(b.o,b.body))};
ch.of3=function(b,c,d){return(new ch).c(b,c,d)};ch.prototype.f=function(b,c){Eg(this,4,c);var d=c.a(),f=c.b().a(),h=c.b().b().a(),k=c.b().b().b().a();T(b,l,this.n,[d,f,h,k])};ch.prototype.B=function(b,c,d){Eg(this,4,d);var f=d.a(),h=d.b().a(),k=d.b().b().a(),d=d.b().b().b().a();T(b,c,this.n,[f,h,k,d])};function dh(){}v["rainbow.function.interpreted.optimise.stack.Stack_A_A_R"]=dh;dh.prototype=new Jg;dh.prototype.H=dh;dh.prototype.className="Stack_A_A_R";
dh.of1=function(b){return dh.of3(b.v,b.o,Kg(b.o,b.body))};dh.of3=function(b,c,d){return(new dh).c(b,c,d)};dh.prototype.B=function(b,c,d){T(b,c,this.n,[d.a(),d.b().a(),d.b().b()])};function eh(){}v["rainbow.function.interpreted.optimise.stack.Stack_A_R"]=eh;eh.prototype=new Jg;eh.prototype.H=eh;eh.prototype.className="Stack_A_R";eh.of1=function(b){return eh.of3(b.v,b.o,Kg(b.o,b.body))};eh.of3=function(b,c,d){return(new eh).c(b,c,d)};eh.prototype.B=function(b,c,d){T(b,c,this.n,[d.a(),d.b()])};
function fh(){}v["rainbow.function.interpreted.optimise.stack.Stack_R"]=fh;fh.prototype=new Jg;fh.prototype.H=fh;fh.prototype.className="Stack_R";fh.of1=function(b){return fh.of3(b.v,b.o,Kg(b.o,b.body))};fh.of3=function(b,c,d){return(new fh).c(b,c,d)};fh.prototype.B=function(b,c,d){T(b,c,this.n,[d])};function gh(){}v["rainbow.function.interpreted.optimise.stack.Stack_D_A_A_A_A_d"]=gh;gh.prototype=new Jg;gh.prototype.H=gh;gh.prototype.className="Stack_D_A_A_A_A_d";
gh.of1=function(b){return gh.of3(b.v,b.o,Kg(b.o,b.body))};gh.of3=function(b,c,d){return(new gh).c(b,c,d)};gh.prototype.r=function(b,c){T(b,l,this.n,[c.a(),c.b().a(),c.b().b().a(),c.b().b().b().a()])};gh.prototype.u=function(b,c,d){T(b,c,this.n,[d.a(),d.b().a(),d.b().b().a(),d.b().b().b().a()])};gh.prototype.f=function(b,c){Eg(this,1,c);this.r(b,c.a())};gh.prototype.B=function(b,c,d){Eg(this,1,d);this.u(b,c,d.a())};function hh(){}v["rainbow.function.interpreted.optimise.stack.Stack_D_A_A_d"]=hh;
hh.prototype=new Jg;hh.prototype.H=hh;hh.prototype.className="Stack_D_A_A_d";hh.of1=function(b){return hh.of3(b.v,b.o,Kg(b.o,b.body))};hh.of3=function(b,c,d){return(new hh).c(b,c,d)};hh.prototype.r=function(b,c){T(b,l,this.n,[c.a(),c.b().a()])};hh.prototype.u=function(b,c,d){T(b,c,this.n,[d.a(),d.b().a()])};hh.prototype.f=function(b,c){Eg(this,1,c);this.r(b,c.a())};hh.prototype.B=function(b,c,d){Eg(this,1,d);this.u(b,c,d.a())};function ih(){}
v["rainbow.function.interpreted.optimise.stack.Stack_A_Oliteral"]=ih;ih.prototype=new Jg;ih.prototype.H=ih;ih.prototype.className="Stack_A_Oliteral";ih.of1=function(b){var c=new ih,d=Kg(b.o,b.body),b=c.c(b.v,b.o,d);b.S=b.v.b().a().b().b().a();c=b.v.b().a().b().a();c instanceof M||g(new TypeError);if(b.hb(c,b.S))c=b.jb(c,b.S,m),c instanceof Y||g(new TypeError),b.Z=c;return b};ih.of3=function(b,c,d){c=(new ih).c(b,c,d);c.S=b.a().b().b().a();return c};t=ih.prototype;
t.r=function(b,c){this.Z!==l?this.Z.r(b,c):T(b,l,this.n,[c,this.S])};t.R=function(b,c,d){T(b,l,this.n,[c,d])};t.u=function(b,c,d){this.Z!==l?this.Z.u(b,c,d):T(b,c,this.n,[d,this.S])};t.Aa=function(b,c,d,f){T(b,c,this.n,[d,f])};t.f=function(b,c){if(c instanceof z)Cg(this,c);else{var d=c.a();c.b()instanceof z?this.r(b,d):this.R(b,d,c.b().a())}};t.B=function(b,c,d){if(d instanceof z)Cg(this,d);else{var f=d.a();d.b()instanceof z?this.u(b,c,f):this.vd(b,c,f,d.b().a())}};function jh(){}
v["rainbow.function.interpreted.optimise.stack.Stack_Oliteral"]=jh;jh.prototype=new Jg;jh.prototype.H=jh;jh.prototype.className="Stack_Oliteral";jh.of1=function(b){var c=new jh,d=Kg(b.o,b.body),b=c.c(b.v,b.o,d);b.S=b.v.a().b().b().a();c=b.v.a().b().a();c instanceof M||g(new TypeError);if(b.hb(c,b.S))c=b.jb(c,b.S,m),c instanceof Y||g(new TypeError),b.Z=c;return b};jh.of3=function(b,c,d){c=(new jh).c(b,c,d);c.S=b.a().b().b().a();return c};t=jh.prototype;
t.wa=function(b){this.Z!==l?this.Z.r(b):T(b,l,this.n,[this.S])};t.r=function(b,c){T(b,l,this.n,[c])};t.ia=function(b,c){this.Z!==l?this.Z.u(b,c):T(b,c,this.n,[this.S])};t.u=function(b,c,d){T(b,c,this.n,[d])};t.f=function(b,c){c instanceof z?this.wa(b):(Eg(this,1,c),this.r(b,c.a()))};t.B=function(b,c,d){d instanceof z?this.ia(b):(Eg(this,1,d),this.u(b,c,d.a()))};function kh(){this.c("macex")}kh.prototype=new $;kh.prototype.className="Macex";
kh.prototype.f=function(b,c){if(c instanceof z)D(b,B);else{var d=c.a();if(d instanceof A){var f=d.a();f instanceof M?f.bound()?(f=f.value(),f=gc(f),f===l?D(b,d):(d=d.b(),d instanceof A||g(new TypeError),E(b,new lh(this)),Ga(f,b,d))):D(b,d):D(b,d)}else D(b,d)}};function lh(b){this.e=l;this.k(b)}lh.prototype=new N;lh.prototype.className="Macex.Again";lh.prototype.d=function(b){this.e.f(b,new A(R(b),B))};function mh(){this.c("uniq")}mh.prototype=new $;mh.prototype.className="Uniq";
mh.prototype.wa=function(b){D(b,L("gs"+ ++nh))};mh.prototype.h=function(b){try{b.Ka()}catch(c){c instanceof Fa||g(new u("uniq: expects no args, got "+b))}return L("gs"+ ++nh)};var nh=0;function oh(){this.c("details")}oh.prototype=new $;oh.prototype.className="Details";oh.prototype.h=function(b){b=b.a();try{b instanceof Aa||g(new TypeError)}catch(c){c instanceof TypeError||g(c),g(new u("Wrong argument type: "+this+" expected an exception, got "+b))}return b.message()};function ph(){this.c("err")}
ph.prototype=new $;ph.prototype.className="Err";ph.prototype.h=function(b){g(new u(Nb(b.a(),this).value()))};function qh(){this.c("on-err")}qh.prototype=new $;qh.prototype.className="OnErr";qh.prototype.h=function(b){var c=new Qc(b.a(),vm.L);c.k(this);E(vm,c);b.b().a().f(vm,B)};function rh(){this.c("protect");this.nd=new sh(this)}rh.prototype=new $;rh.prototype.className="Protect";function sh(b){this.ld=b}sh.prototype=new $e;sh.prototype.Sb=function(b){b.k(this.ld)};
rh.prototype.f=function(b,c){var d=new A(new Tc(c.b().a()),new A(new Yc("clear up 'protect/after' return value"),B));d.j(this.nd);S(b,l,d);c.a().f(b,B)};function th(){this.c("apply")}th.prototype=new $;t=th.prototype;t.className="Apply";t.wa=function(){g(new u("apply: expects at least 2 args, got none"))};t.r=function(b,c){g(new u("apply: expects at least 2 args, got "+c))};t.R=function(b,c,d){d instanceof A||g(new TypeError);c.f(b,d)};t.Ra=function(b,c,d,f){c.f(b,new A(d,f))};
t.f=function(b,c){var d=c.a(),f=c.b();f instanceof A||g(new TypeError);d.f(b,uh(this,f))};function uh(b,c){return c.b()instanceof z?qb(c.a(),b):new A(c.a(),uh(b,qb(c.b(),b)))}function vh(){this.c("eval")}vh.prototype=new $;vh.prototype.className="Eval";vh.prototype.f=function(b,c){E(b,new wh(this));wf(b,c.a(),[])};function wh(b){this.e=l;this.k(b)}wh.prototype=new N;wh.prototype.className="Eval.ReduceAndExecute";wh.prototype.d=function(b){var c=[];R(b).reduce().m(c);S(b,l,x(c))};
function xh(){this.c("ssexpand")}xh.prototype=new $;xh.prototype.className="SSExpand";xh.prototype.h=function(b){return Bf(bb(b.a(),this))};
function Bf(b){b=b.name();if(/:/.test(b)||/^~/.test(b)){b=b.split(":");if(1===b.length)b=yh(b[0]);else{for(var c=[L("compose")],d=0,f=b.length;d<f;d++)c.push(yh(b[d]));b=kb(c,B)}return b}if(ug(b)){c=[L("andf")];d=0;for(b=zh(b).length;d<b;d++)f=Na(s),f instanceof M||g(new TypeError),c.add(Ah(f));return x(c)}if(/[.!]/.test(b)){for(var c=b.replace(/#/g,"#h").replace(/%/g,"#p").replace(/([.!])/g,"%$1%").split(/%+/),d=[],f=m,h=0,k=c.length;h<k;h++)if(""!==c[h]){var q=Na(c[h].replace(/#p/g,"%").replace(/#h/g,
"#"));q===Ra||q===db?(f&&g(new u("Bad syntax "+b)),f=j):f=m;d.unshift(q)}f&&d.unshift(L("#<eof>"));return Bh(d,0)}g(new u("Unknown syntax "+b))}function zh(b){if(0===b.length)return[""];if(b.charCodeAt(0)===vg)return b=zh(b.substring(1)),b[0]=wg+b[0],b;return b.charCodeAt(b.length-1)===vg?(b=zh(b.substring(0,b.length-1)),b[b.length-1]+=wg,b):b.split(wg)}
function Bh(b,c){var d=Ah(b[c++]),f=l;c<b.length&&(f=b[c++],f instanceof M||g(new TypeError));d=f===db?x([L("quote"),d]):d;return c<b.length?x([Bh(b,c),d]):f!==l?x([L("get"),d]):d}function Ch(b){try{return Ja(b)}catch(c){c instanceof Ba||g(c),g(new u("Couldn't read value of symbol: "+b,c))}}function Ah(b){if(b instanceof z)return b;b instanceof M||g(new TypeError);return Ch(b.name())}function yh(b){return/^~/.test(b)?x([L("complement"),Ch(b.substring(1))]):Ch(b)}var wg="&",vg=38;
function Dh(){this.c("ssyntax")}Dh.prototype=new $;Dh.prototype.className="SSyntax";Dh.prototype.h=function(b){return b.a()instanceof M&&Af(b.a())?Va:B};function Af(b){var c;c=b.name();if(!(c=/:/.test(c)||/^~/.test(c)))if(!(c=ug(b.name())))c=/[.!]/.test(b.name());return c}function Eh(){this.c("java-debug")}Eh.prototype=new $;Eh.prototype.className="JavaDebug";Eh.prototype.h=function(b){return b.a()};function Fh(){this.c("java-invoke")}Fh.prototype=new $;Fh.prototype.className="JavaInvoke";
Fh.prototype.h=function(b){var c;var d=b.a();try{d instanceof mc||g(new TypeError),c=d}catch(f){f instanceof TypeError||g(f),g(new u("Wrong argument type: "+this+" expected a java-object, got "+d))}var d=bb(b.b().a(),this).name(),h=b.b().b().a();h instanceof A||g(new TypeError);b=qc;c=c.zc;var k=Object(c)[d];"[object Function]"!==Object.prototype.toString.call(k)&&g(new u("Field "+d+" is not a method on "+c));d=k.apply(c,oc(h));return b(d)};function Gh(){this.c("car")}Gh.prototype=new $;
Gh.prototype.className="Car";Gh.prototype.r=function(b,c){D(b,c.a())};Gh.prototype.h=function(b){tg(b,1,this.className);return b.a().a()};function Hh(){this.c("cdr")}Hh.prototype=new $;Hh.prototype.className="Cdr";Hh.prototype.r=function(b,c){D(b,c.b())};Hh.prototype.h=function(b){tg(b,1,this.className);return b.a().b()};function Ih(){this.c("cons")}Ih.prototype=new $;Ih.prototype.className="Cons";Ih.prototype.R=function(b,c,d){D(b,new A(c,d))};
Ih.prototype.h=function(b){tg(b,2,this.className);return new A(b.a(),b.b().a())};function Jh(){this.c("len")}Jh.prototype=new $;Jh.prototype.className="Len";Jh.prototype.h=function(b){Jb(b,this.className,1);return new Q(b.a().ha(),1)};function Kh(){this.c("newstring")}Kh.prototype=new $;Kh.prototype.className="NewString";
Kh.prototype.h=function(b){var c=b.a();c instanceof P||g(new TypeError);var d=Eb;b.b()instanceof z||(d=b.b().a(),d instanceof O||g(new TypeError));for(var b=[],f=0;f<c.G();f++)b.push(d.value());return G(b.join(""))};function Lh(){this.c("scar")}Lh.prototype=new $;Lh.prototype.className="Scar";Lh.prototype.R=function(b,c,d){D(vm,c.Qb(d))};Lh.prototype.h=function(b){return b.a().Qb(b.b().a())};function Mh(){this.c("scdr")}Mh.prototype=new $;Mh.prototype.className="Scdr";
Mh.prototype.h=function(b){var c=b.a();c instanceof A||g(new TypeError);b=b.b().a();c.Dc(b);return b};function Nh(){this.c("acos")}Nh.prototype=new $;Nh.prototype.className="Acos";Nh.prototype.h=function(b){Jb(b,this.className,1);b=Math.acos(eb(b.a(),this).C());return new I(b)};function Oh(){this.c("+")}Oh.prototype=new $;t=Oh.prototype;t.className="Add";t.wa=function(b){D(b,cc)};t.r=function(b,c){D(b,c)};t.R=function(b,c,d){D(b,c.add(d))};t.Ra=function(b,c,d,f){D(b,c.add(d).add(f))};
t.h=function(b){if(b instanceof z)return cc;for(var c=b.a(),b=b.b();!(b instanceof z);)c=c.add(b.a()),b=b.b();return c};function Ph(){this.c("asin")}Ph.prototype=new $;Ph.prototype.className="Asin";Ph.prototype.h=function(b){Jb(b,this.className,1);b=Math.asin(eb(b.a(),this).C());return new I(b)};function Qh(){this.c("atan")}Qh.prototype=new $;Qh.prototype.className="Atan";Qh.prototype.h=function(b){Jb(b,this.className,1);b=Math.atan(eb(b.a(),this).C());return new I(b)};
function Rh(){this.c("complex-parts")}Rh.prototype=new $;Rh.prototype.className="ComplexParts";Rh.prototype.h=function(b){Jb(b,this.className,1);b=Xb(b.a(),this);return x([new I(b.T),new I(b.M)])};function Sh(){this.c("cos")}Sh.prototype=new $;Sh.prototype.className="Cosine";Sh.prototype.h=function(b){Jb(b,this.className,1);b=Math.cos(eb(b.a(),this).C());return new I(b)};function Th(){this.c("/")}Th.prototype=new $;Th.prototype.className="Divide";
Th.prototype.h=function(b){b instanceof z&&g(new u("Function `/` expected at least 1 arg"));return Uh(b).tc(b)};function Vh(){this.c("expt")}Vh.prototype=new $;Vh.prototype.className="Expt";Vh.prototype.h=function(b){Jb(b,this.className,2);var c=b.a();c instanceof P||g(new TypeError);b=b.b().a();b instanceof P||g(new TypeError);if(c instanceof J)return $b(c,b);if(b instanceof J)return $b(new J(c.C(),0),b);c=c.C();b=b.C();return new I(Math.pow(c,b))};function Wh(){this.c("log")}Wh.prototype=new $;
Wh.prototype.className="Logarithm";Wh.prototype.h=function(b){Jb(b,this.className,1);b=eb(b.a(),this);return b instanceof J?b.log():new I(Math.log(b.C()))};function Xh(){this.c("make-complex")}Xh.prototype=new $;Xh.prototype.className="MakeComplex";Xh.prototype.h=function(b){Jb(b,this.className,2);var c=eb(b.a(),this),b=eb(b.b().a(),this);return new J(c.C(),b.C())};function Yh(){for(;;){var b=Math.floor(9007199254740992*Math.hd());if(9007199254740992>b)return b}}
function Uh(b){if(b instanceof z)return Zh;if(b.a()instanceof I)return $h;if(b.a()instanceof J)return complexOps;b.b()instanceof A||g(new TypeError);return Uh(b.b())}function ai(){}ai.prototype.lc=i;ai.prototype.multiply=i;ai.prototype.tc=i;function bi(){}bi.prototype=new ai;bi.prototype.lc=function(b){return Pa(ci(this,b))};function ci(b,c){if(c instanceof z)return 0;var d=c.a();d instanceof P||g(new TypeError);var d=d.C(),f=c.b();f instanceof A||g(new TypeError);return d+ci(b,f)}
bi.prototype.multiply=function(b){return Pa(di(this,b))};bi.prototype.tc=function(b){var c=b.b(),d=b.a();d instanceof P||g(new TypeError);c=c instanceof z?1/d.C():d.C();b=b.b();b instanceof A||g(new TypeError);return Pa(c/di(this,b))};function di(b,c){if(c instanceof z)return 1;var d=c.a();d instanceof P||g(new TypeError);var d=d.C(),f=c.b();f instanceof A||g(new TypeError);f=di(b,f);return d*f}var $h=new bi;function ei(){}ei.prototype=new ai;
ei.prototype.lc=function(b){if(b instanceof z)return cc;var c=b.a();c instanceof Q||g(new TypeError);b=b.b();b instanceof A||g(new TypeError);return c.Nb(this.lc(b))};ei.prototype.multiply=function(b){if(b instanceof z)return dc;var c=b.a();c instanceof Q||g(new TypeError);b=b.b();b instanceof A||g(new TypeError);return bc(c,this.multiply(b))};
ei.prototype.tc=function(b){var c=b.b(),d=b.a();d instanceof Q||g(new TypeError);c=c instanceof z?new Q(d.U,d.ca):d;b=b.b();b instanceof A||g(new TypeError);b=this.multiply(b);b=new Q(b.U,b.ca);return bc(c,b)};var Zh=new ei;function fi(){this.c("mod")}fi.prototype=new $;fi.prototype.className="Mod";fi.prototype.R=function(b,c,d){c instanceof P||g(new TypeError);d instanceof P||g(new TypeError);D(b,c.Pc(d))};fi.prototype.f=function(b,c){Jb(c,this.className,2);this.R(b,c.a(),c.b().a())};
function gi(){this.c("*")}gi.prototype=new $;t=gi.prototype;t.className="Multiply";t.wa=function(b){D(b,dc)};t.r=function(b,c){D(b,c)};t.R=function(b,c,d){D(b,c.multiply(d))};t.Ra=function(b,c,d,f){D(b,c.multiply(d).multiply(f))};t.h=function(b){if(b instanceof z)return dc;for(var c=b.a(),b=b.b();!(b instanceof z);)c=c.multiply(b.a()),b=b.b();return c};function hi(){this.c("polar-coordinates")}hi.prototype=new $;hi.prototype.className="PolarCoordinates";
hi.prototype.h=function(b){Jb(b,this.className,1);b=Xb(b.a(),this);return x([new I(Math.sqrt(b.T*b.T+b.M*b.M)),new I(Math.atan2(b.M,b.T))])};function ii(){this.c("quotient")}ii.prototype=new $;ii.prototype.className="Quotient";ii.prototype.h=function(b){tg(b,2,this.className);var c=gb(b.a(),this),d=gb(b.b().a(),this);(!c.ja()||!d.ja())&&g(new u("Type error: "+this+" : expected integer, got "+b));b=c.G()/d.G();return H(0>b?Math.ceil(b):Math.floor(b))};function ji(){this.c("rand")}ji.prototype=new $;
ji.prototype.className="Rand";ji.prototype.h=function(b){if(b instanceof z)return new I(Math.hd());var c=b.a();c instanceof P||g(new TypeError);c.ja()||g(new u("rand: requires one exact integer argument, got "+b));return new Q(Math.abs(Yh()%c.G()),1)};function ki(){this.c("sin")}ki.prototype=new $;ki.prototype.className="Sine";ki.prototype.h=function(b){Jb(b,this.className,1);b=Math.sin(eb(b.a(),this).C());return new I(b)};function li(){this.c("sqrt")}li.prototype=new $;li.prototype.className="Sqrt";
li.prototype.r=function(b,c){D(b,c.sqrt())};li.prototype.f=function(b,c){tg(c,1,this.className);this.r(b,c.a())};function mi(){this.c("-")}mi.prototype=new $;t=mi.prototype;t.className="Subtract";t.r=function(){g(new u("- : expected at least 1 arg"))};t.r=function(b,c){c instanceof P||g(new TypeError);D(b,c.nb())};t.R=function(b,c,d){d instanceof P||g(new TypeError);D(b,c.add(d.nb()))};
t.h=function(b){b instanceof z&&g(new u("Function `-` expected at least 1 arg"));var c=b.a();c instanceof P||g(new TypeError);c=c.nb();b=b.b();b instanceof A||g(new TypeError);b instanceof z?b=c:(b=new A(c,b),b=Uh(b).lc(b).nb());return b};function ni(){this.c("tan")}ni.prototype=new $;ni.prototype.className="Tangent";ni.prototype.h=function(b){Jb(b,this.className,1);b=Math.tan(eb(b.a(),this).C());return new I(b)};function oi(){this.c("trunc")}oi.prototype=new $;oi.prototype.className="Trunc";
oi.prototype.h=function(b){Jb(b,this.className,1);b=b.a();b instanceof P||g(new TypeError);b=b.C();return new Q(Math.floor(b),1)};function pi(){this.c("bound")}pi.prototype=new $;pi.prototype.className="Bound";pi.prototype.wa=function(){g(new u("bound: requires 1 arg"))};pi.prototype.r=function(b,c){c instanceof M||g(new TypeError);D(b,yb(c.bound()))};pi.prototype.h=function(b){Jb(b,this.className,1);b=bb(b.a(),this);return yb(b.bound())};function qi(){this.c("exact")}qi.prototype=new $;
qi.prototype.className="Exact";qi.prototype.h=function(b){b=eb(b.a(),this);return yb(b instanceof Q&&b.ja())};function ri(){this.c(">")}ri.prototype=new $;t=ri.prototype;t.className="GreaterThan";t.wa=function(b){D(b,Va)};t.r=function(b){D(b,Va)};t.R=function(b,c,d){D(b,0>=c.oa(d)?B:Va)};t.h=function(b){if(2>b.ha())return Va;var c=b.a(),b=b.b();for(b instanceof A||g(new TypeError);!(b instanceof z);){var d=b.a();if(0>=c.oa(d))return B;c=d;b=b.b();b instanceof A||g(new TypeError)}return Va};
function si(){this.c("is")}si.prototype=new $;t=si.prototype;t.className="Is";t.wa=function(b){D(b,Va)};t.r=function(b){D(b,Va)};t.R=function(b,c,d){D(b,yb(c.Ca(d)))};t.h=function(b){return ti(this,b.a(),b.b())};function ti(b,c,d){return d instanceof z?Va:!c.Ca(d.a())?B:ti(b,c,d.b())}function ui(){this.c("<")}ui.prototype=new $;t=ui.prototype;t.className="LessThan";t.wa=function(b){D(b,Va)};t.r=function(b){D(b,Va)};t.R=function(b,c,d){D(b,0>c.oa(d)?Va:B)};
t.h=function(b){var c=b.a(),b=b.b();for(b instanceof A||g(new TypeError);!(b instanceof z);){var d=b.a();if(0<=c.oa(d))return B;c=d;b=b.b();b instanceof A||g(new TypeError)}return Va};function vi(){this.c("rainbow-debug")}vi.prototype=new $;vi.prototype.className="RainbowDebug";vi.prototype.f=function(b){Jc(b,of);D(b,L(this.$))};function wi(){this.c("rainbow-profile")}wi.prototype=new $;wi.prototype.className="RainbowProfile";wi.prototype.wa=function(b){this.profile(b);D(b,B)};
wi.prototype.r=function(b,c){c instanceof jc||g(new TypeError);this.profile(c);D(b,B)};wi.prototype.profile=function(b){Jc(b,tf)};function xi(){this.c("rainbow-profile-report")}xi.prototype=new $;xi.prototype.className="RainbowProfileReport";xi.prototype.wa=function(b){D(b,this.jd(b))};xi.prototype.r=function(b,c){c instanceof jc||g(new TypeError);D(b,this.jd(b))};function yi(){this.c("current-gc-milliseconds")}yi.prototype=new $;yi.prototype.className="CurrentGcMilliseconds";
yi.prototype.f=function(b){D(b,H(1))};function zi(){this.c("current-process-milliseconds")}zi.prototype=new $;zi.prototype.className="CurrentProcessMilliseconds";zi.prototype.f=function(b){D(b,H(1))};function Ai(){this.c("declare")}Ai.prototype=new $;Ai.prototype.className="Declare";Ai.prototype.R=function(b,c,d){c===Bi?(c=xf,xf=d,D(b,c)):D(b,B)};Ai.prototype.f=function(b,c){this.R(b,c.a(),c.b().a())};var Bi=L("atstrings");function Ci(){this.c("msec")}Ci.prototype=new $;Ci.prototype.className="MSec";
Ci.prototype.h=function(){return H((new Date).getTime())};function Di(){this.c("seconds")}Di.prototype=new $;Di.prototype.className="Seconds";Di.prototype.h=function(){var b=(new Date).getTime()/1E3;return H(0>b?Math.ceil(b):Math.floor(b))};function Ei(){this.c("maptable")}Ei.prototype=new $;Ei.prototype.className="MapTable";Ei.prototype.R=function(b,c,d){D(b,d);d instanceof Da||g(new TypeError);D(b,tc(d));c=new ad(c);c.k(this);E(b,c)};
Ei.prototype.f=function(b,c){tg(c,2,this.className);this.R(b,c.a(),c.b().a())};function Fi(){this.c("sref")}Fi.prototype=new $;Fi.prototype.className="Sref";Fi.prototype.Ra=function(b,c,d,f){D(b,c.kc(d,f))};Fi.prototype.f=function(b,c){tg(c,3,this.className);this.Ra(b,c.a(),c.b().a(),c.b().b().a())};function Gi(){this.c("table")}Gi.prototype=new $;Gi.prototype.className="Table";
Gi.prototype.f=function(b,c){var d=new Da;D(b,d);if(!(c instanceof z)){var f=new Yc("table-initialiser");f.k(this);E(b,f);c.a().f(b,x([d]))}};function Hi(){this.c("atomic-invoke")}Hi.prototype=new $;Hi.prototype.className="AtomicInvoke";Hi.prototype.r=function(b,c){for(;b!==Ii&&Ii!==l;);Ii=b;Ji++;var d=new Ki;d.k(this);E(b,d);c.f(b,B)};Hi.prototype.f=function(b,c){this.r(b,c.a())};function Ki(){this.e=l}Ki.prototype=new N;Ki.prototype.className="AtomicInvoke.ReleaseLock";
Ki.prototype.d=function(){Ji--;0===Ji&&(Ii=l)};var Ii=l,Ji=0;function Li(){this.c("break-thread")}Li.prototype=new $;Li.prototype.className="BreakThread";Li.prototype.h=function(b){b=b.a();b instanceof jc||g(new TypeError);Jc(b,qf);return B};function Mi(){this.c("ccc")}Mi.prototype=new $;Mi.prototype.className="CCC";Mi.prototype.r=function(b,c){c instanceof z&&g(new u("Can't ccc nil!"));c.r(b,new Ni(b))};Mi.prototype.f=function(b,c){Jb(c,this.className,1);this.r(b,c.a())};
function Ni(b){this.Rb=b;this.sd=m}Ni.prototype=new y;t=Ni.prototype;t.className="CCC.ContinuationWrapper";t.r=function(b,c){var d;a:{for(d=0;d<b.g;d++)if(b.D[d]!==this.Rb.D[d]){d-=1;break a}d=b.g}for(var f=[],h=[];d<b.g;)Bc(b).a().Ib&&(f.push(Bc(b)),h.push(b.ga[b.g])),b.g--;d=[f,h];this.Rb.copyTo(b);D(b,c);for(f=d[0].length-1;0<=f;f--)h=d[1][f],h instanceof w||g(new TypeError),d[0][f]instanceof A||g(new TypeError),S(b,h,instructions)};t.f=function(b,c){this.r(b,c.a())};t.type=function(){return sg};
t.toString=function(){return"#<continuation ip:"+this.Rb.g+";ap:"+this.Rb.L+";VM#"+this.Rb.Ec+">"};function Oi(){this.c("dead")}Oi.prototype=new $;Oi.prototype.className="Dead";Oi.prototype.f=function(b,c){var d=c.a();d instanceof jc||g(new TypeError);D(b,yb(d.Yb))};function Pi(){this.c("kill-thread")}Pi.prototype=new $;Pi.prototype.className="KillThread";Pi.prototype.f=function(b,c){var d=c.a();d instanceof jc||g(new TypeError);Jc(d,qf);D(b,B)};function Qi(){this.c("thread-local")}Qi.prototype=new $;
Qi.prototype.className="NewThreadLocal";Qi.prototype.h=function(){return new Tb};function Ri(){this.c("thread-local-ref")}Ri.prototype=new $;Ri.prototype.className="ThreadLocalGet";Ri.prototype.h=function(b){return Vb(b.a(),this).get()};function Si(){this.c("thread-local-set")}Si.prototype=new $;Si.prototype.className="ThreadLocalSet";Si.prototype.h=function(b){var c=Vb(b.a(),this),b=b.b().a();c.set(b);return b};function Ti(){this.c("annotate")}Ti.prototype=new $;Ti.prototype.className="Annotate";
Ti.prototype.h=function(b){var c=b.a(),b=b.b().a();return c===b.type()?b:new fc(c,b)};function Ui(){this.c("coerce");Vi()}Ui.prototype=new $;Ui.prototype.className="Coerce";Ui.prototype.R=function(b,c,d){var f=c.type();if(f===d)D(b,c);else try{d instanceof M||g(new TypeError),f instanceof M||g(new TypeError),(d.vb[f]||l).r(b,c)}catch(h){h instanceof Wi&&g(new u("Can't coerce "+c+" to "+d)),g(new u("Can't coerce "+c+" ( a "+c.type()+" ) to "+d,h))}};
Ui.prototype.Ra=function(b,c,d,f){var h=c.type();if(h===d)D(b,c);else try{d instanceof M||g(new TypeError),h instanceof M||g(new TypeError),(d.vb[h]||l).R(b,c,f)}catch(k){k instanceof Wi&&g(new u("Can't coerce "+c+" to "+d)),g(new u("Can't coerce "+c+" ( a "+c.type()+" ) to "+d,k))}};Ui.prototype.f=function(b,c){c.wb(2)?this.R(b,c.a(),c.b().a()):c.wb(3)?this.Ra(b,c.a(),c.b().a(),c.b().b().a()):g(new u("coerce expects 2 or 3 args, got "+c))};function Xi(){this.c("rep")}Xi.prototype=new $;
Xi.prototype.className="Rep";Xi.prototype.h=function(b){var c=b.a();if(c instanceof fc){b=b.a();try{b instanceof fc||g(new TypeError)}catch(d){d instanceof TypeError||g(d),g(new u("Wrong argument type: "+this+" expected a Tagged, got "+b))}b=b.rb}else b=c;return b};function Yi(){this.c("type")}Yi.prototype=new $;Yi.prototype.className="Type";Yi.prototype.r=function(b,c){D(b,c.type())};Yi.prototype.h=function(b){Jb(b,this.className,1);return b.a().type()};
var Lb=L("string"),Zi=L("sym"),$i=L("int"),aj=L("num"),bj=L("cons"),cj=L("char");
function Vi(){cb(bj,Lb,new Mb("string-cons",function(b){b instanceof La||g(new TypeError);for(var b=b.value(),c=[],d=0;d<b.length;d++)c.push(Ma(b.charCodeAt(d)));return x(c)}));cb(Lb,bj,new Mb("cons-string",function(b){b instanceof A||g(new TypeError);for(var c=[];!(b instanceof z);)c.push(b.a().Xa()),b=b.b(),b instanceof A||g(new TypeError);return G(c.join(""))}));cb(Lb,$i,new Mb("int-string",function(b){return this.ub(b,ec)},function(b,c){c instanceof P||g(new TypeError);b instanceof P||g(new TypeError);
var d;b instanceof J?d=G(b.toString()):(b instanceof I&&10!==c.G()&&g(new Wi),d=b instanceof Q?b.stringify(c):dj(b,c));return d}));cb(Lb,aj,new Mb("num-string",function(b){return this.ub(b,ec)},function(b,c){c instanceof P||g(new TypeError);b instanceof P||g(new TypeError);var d;b instanceof J?d=G(b.toString()):(b instanceof I&&10!==c.G()&&g(new Wi),d=b instanceof Q?b.stringify(c):dj(b,c));return d}));cb(Zi,Lb,new Mb("string-sym",function(b){b instanceof La||g(new TypeError);return Na(b.value())}));
cb(Lb,Zi,new Mb("sym-string",function(b){return b instanceof z?G(""):G(b.Xa())}));cb($i,cj,new Mb("char-int",function(b){b instanceof O||g(new TypeError);b=b.value();return H(b)},function(b){return this.Eb(b)}));cb($i,aj,new Mb("num-int",function(b){b instanceof P||g(new TypeError);return b.round()},function(b){return this.Eb(b)}));cb(aj,$i,new Mb("int-num",aa()));cb(cj,$i,new Mb("int-char",function(b){b instanceof P||g(new TypeError);b.ja()||g(new Wi);return Ma(b.G())}));cb(Lb,cj,new Mb("char-string",
function(b){b instanceof O||g(new TypeError);b=b.value();return G(String.fromCharCode(b))}));cb(Zi,cj,new Mb("char-sym",function(b){b instanceof O||g(new TypeError);b=b.value();return Na(String.fromCharCode(b))}));cb(aj,Lb,new Mb("string-num",function(b){return this.ub(b,ec)},function(b,c){c instanceof P||g(new TypeError);b instanceof La||g(new TypeError);var d=b.value().toLowerCase();if("+inf.0"===d)d=new I(1/0);else if("-inf.0"===d)d=new I(-1/0);else if("+nan.0"===d)d=new I(0/0);else{var f;if(/i$/i.test(d))try{f=
Wb()}catch(h){h instanceof Ba||g(h),g(new Wi)}else/\./.test(d)||15>c.G()&&/.e./.test(d)?d=ej(d,c.G()):/\//.test(d)?d=fj(d,c.G()):(f=c.G(),d=H(parseInt(d,~~f))),f=d;d=f}return d}));cb($i,Lb,new Mb("string-int",function(b){return this.ub(b,ec)},function(b,c){c instanceof P||g(new TypeError);b instanceof La||g(new TypeError);var d=b.value().toLowerCase();("+inf.0"===d||"-inf.0"===d||"+nan.0"===d||/i$/i.test(d))&&g(new Wi);if(/\./.test(d)||15>c.G()&&/.e./i.test(d))return d=ej(d,c.G()),d instanceof I||
g(new TypeError),d.ic();if(/\//.test(d))return d=fj(d,c.G()),d instanceof Q||g(new TypeError),d.ic();var f=c.G();return H(parseInt(d,~~f))}))}function dj(b,c){if(10===c.G())return G(b.toString());var d=b.G().toString(~~c.G());return G(""+d+".0")}function fj(b,c){var d=b.split(/\//g);2<d.length&&g(new Wi);return new Q(parseInt(d[0],~~c),parseInt(d[1],~~c))}
function ej(b,c){var d=m;/^-/.test(b)&&(d=j,b=b.substring(1));b=b.toUpperCase();/E/.test(b)||(b+="E0");if(/\./.test(b))/^\./.test(b)&&(b="0"+b);else var f=b.split(/E/g),b=f[0]+".0E"+f[1];var f=b.split(/\./g),h=parseInt(f[0],~~c),f=f[1].split(/E/g);/^\+/.test(f[1])&&(f[1]=f[1].substring(1));f=(h+parseInt(f[0],~~c)/Math.pow(c,f[0].length))*Math.pow(c,parseInt(f[1],~~c));d&&(f=-f);return Pa(f)}function Mb(b,c,d){this.$=b;if(c!==i)this.Eb=c;if(d!==i)this.ub=d}Mb.prototype=new y;t=Mb.prototype;
t.className="Typing.Coercion";t.type=function(){return L("fn")};t.Eb=function(){g(new u("not implemented: "+name+".coerce 1 arg"))};t.ub=function(){g(new u("not implemented: "+name+".coerce 2 args"))};t.r=function(b,c){D(b,this.Eb(c))};t.R=function(b,c,d){D(b,this.ub(c,d))};function Wi(){}Wi.prototype=Error();function gj(b){this.qa=b}gj.prototype=new zb;t=gj.prototype;t.className="Input";
t.gc=function(b,c){return this.qa.gc(function(c,f){return c?b(new u("Cannot read byte from "+this,c)):f===l?b(l,B):b(l,H(f))},c)};function hj(b,c,d){return b.qa.hc(function(b,d){return b?c(new u("reading character: "+b)):d===l?c(l,B):c(l,Ma(d))},d)}function ij(b,c,d,f){return Ka(b.qa,function(b,f){return b?d(new u("Can't parse input: "+b,b)):f===l?d(l,c):d(l,f)},f)}t.type=function(){return jj};t.na=p("qa");t.close=function(){this.rd=j;this.qa.close()};
function kj(b,c){try{return b instanceof gj||g(new TypeError),b}catch(d){d instanceof TypeError||g(d),g(new u("Wrong argument type: "+c+" expected input-port, got "+b))}}var jj=L("input");function lj(b){this.fb=b}lj.prototype=new zb;t=lj.prototype;t.className="Output";t.write=function(b){this.fb.Va(""+b)};t.type=function(){return mj};t.na=p("fb");t.close=function(){this.fb.close()};t.oc=function(b){this.fb.oc(b)};
function nj(b,c){try{return b instanceof lj||g(new TypeError),b}catch(d){d instanceof TypeError||g(d),g(new u("Wrong argument type: "+c+" expected output-port, got "+b))}}t.flush=function(){this.fb.flush()};var mj=L("output");
function qa(b){function c(){if(b.length<=h)return m;var c=b.charCodeAt(h++);f.push(c>>>8&255,c&255);return j}function d(){return 0!==f.length||c()?f.shift():l}var f=[],h=0;gj.call(this,{gc:function(b){b(l,d());return j},hc:function(b){var c=d(),f=d();b(l,f===l?l:c<<8|f);return j},gb:function(b){b(l,2<=f.length||c()?f[0]<<8|f[1]:l);return j},close:n()})}qa.prototype=new gj(i);qa.prototype.className="StringInputPort";
function oj(){var b=this;b.Mb=[];b.mb=l;lj.call(this,{Va:function(c){if(b.mb===l)b.Mb.push(c);else for(var d=0,f=c.length;d<f;d++){var h=c.charCodeAt(d);b.Mb.push(String.fromCharCode(b.mb<<8|h>>>8&255));b.mb=h&255}},oc:function(c){b.mb===l?b.mb=c:(b.Mb.push(String.fromCharCode(b.mb<<8|c)),b.mb=l)},close:n(),flush:n()})}oj.prototype=new lj(i);oj.prototype.className="StringOutputPort";oj.prototype.value=function(){var b=this.Mb.join("");this.Mb=[b];return G(b)};oj.prototype.toString=r("#<string-output-port>");
function pj(){this.fb=la}pj.prototype=new lj(i);pj.prototype.className="IO.Anon_STD_OUT_";pj.prototype.close=n();pj.prototype.toString=r("IO.STD_OUT");var qj=new pj;function rj(){this.fb=ma}rj.prototype=new lj(i);rj.prototype.className="IO.Anon_STD_ERR_";rj.prototype.close=n();rj.prototype.toString=r("IO.STD_ERR");var sj=new rj;function tj(){this.qa=ja}tj.prototype=new gj(i);tj.prototype.className="IO.Anon_STD_IN_";tj.prototype.close=n();tj.prototype.toString=r("IO.STD_IN");
var uj={value:new tj},vj={value:qj};function yj(b,c){return b instanceof z?vj.value:nj(b,c)}function zj(b,c){return b instanceof z?uj.value:kj(b,c)}function Aj(b){for(;!(b instanceof z);){var c=b.a();c instanceof gj?c.close():c instanceof lj?c.close():c instanceof mc?c.close():g(new u("close: expected Input or Output object; got "+c));b=b.b();b instanceof A||g(new TypeError)}return B}function Bj(){this.c("close")}Bj.prototype=new $;Bj.prototype.className="Close_Builtin";Bj.prototype.h=function(b){return Aj(b)};
function Cj(){this.c("disp")}Cj.prototype=new $;Cj.prototype.className="Disp";Cj.prototype.r=function(b,c){vj.value.write(c.Xa());D(b,B)};Cj.prototype.h=function(b){var c=yj(b.b().a(),this),b=b.a();c.write(b.Xa());return B};function Dj(){this.c("flushout")}Dj.prototype=new $;Dj.prototype.className="FlushOut";Dj.prototype.h=function(){vj.value.flush();return Va};function Ej(){this.c("force-close")}Ej.prototype=new $;Ej.prototype.className="ForceClose";Ej.prototype.h=function(b){return Aj(b)};
function Fj(){this.c("stderr")}Fj.prototype=new $;Fj.prototype.className="StdErr";Fj.prototype.h=function(){return sj};function Gj(){this.c("stdin")}Gj.prototype=new $;Gj.prototype.className="StdIn";Gj.prototype.h=function(b){tg(b,0,this.className);return uj.value};function Hj(){this.c("stdout")}Hj.prototype=new $;Hj.prototype.className="StdOut";Hj.prototype.h=function(){return vj.value};function Ij(){this.c("write")}Ij.prototype=new $;Ij.prototype.className="Write";
Ij.prototype.h=function(b){yj(b.b().a(),this).write(b.a());return B};function Jj(){this.c("writeb")}Jj.prototype=new $;Jj.prototype.className="WriteB";Jj.prototype.h=function(b){var c=yj(b.b().a(),this),b=gb(b.a(),this);b.ja()||g(new u("write byte: expected byte, got "+b));c.oc(b.G());return B};function Kj(){this.c("writec")}Kj.prototype=new $;Kj.prototype.className="WriteC";Kj.prototype.h=function(b){var c=yj(b.b().a(),this),d=Cb(b.a(),this);c.fb.Va(String.fromCharCode(d.value()));return b.a()};
function Lj(){this.c("instring")}Lj.prototype=new $;Lj.prototype.className="InString";Lj.prototype.h=function(b){return new qa(Nb(b.a(),this).value())};function Mj(){this.c("inside")}Mj.prototype=new $;Mj.prototype.className="Inside";Mj.prototype.h=function(b){b=b.a();try{b instanceof oj||g(new TypeError)}catch(c){c instanceof TypeError||g(c),g(new u("Wrong argument type: "+this+" expected a StringOutputPort, got "+b))}return b.value()};function Nj(){this.c("outstring")}Nj.prototype=new $;
Nj.prototype.className="OutString";Nj.prototype.h=function(){return new oj};function Oj(){this.c("call-w/stdin")}Oj.prototype=new $;Oj.prototype.className="CallWStdIn";Oj.prototype.f=function(b,c){var d=new Zc(uj,uj.value);d.k(this);E(b,d);uj.value=kj(c.a(),this);c.b().a().f(b,B)};function Pj(){this.c("call-w/stdout")}Pj.prototype=new $;Pj.prototype.className="CallWStdOut";Pj.prototype.f=function(b,c){var d=new Zc(vj,vj.value);d.k(this);E(b,d);vj.value=nj(c.a(),this);c.b().a().f(b,B)};
function Qj(){this.c("readb")}Qj.prototype=new $;Qj.prototype.className="ReadB";Qj.prototype.r=function(b,c){E(b,new Rj(zj(c,this),this))};Qj.prototype.f=function(b,c){E(b,new Rj(zj(c.a(),this),this))};function Rj(b,c){this.e=l;this.Ob=b;this.k(c)}Rj.prototype=new N;Rj.prototype.za=j;Rj.prototype.className="ReadB.Go";Rj.prototype.Ha=function(b,c,d){return this.Ob.gc(function(d,h){if(d)return void c(d);D(b,h);c(l)},d)};Rj.prototype.d=function(){g(Error())};function Sj(){this.c("readc")}
Sj.prototype=new $;Sj.prototype.className="ReadC";Sj.prototype.r=function(b,c){E(b,new Tj(zj(c,this),this))};Sj.prototype.f=function(b,c){E(b,new Tj(zj(c.a(),this),this))};function Tj(b,c){this.e=l;this.Ob=b;this.k(c)}Tj.prototype=new N;Tj.prototype.za=j;Tj.prototype.className="ReadC.Go";Tj.prototype.Ha=function(b,c,d){return hj(this.Ob,function(d,h){if(d)return void c(d);D(b,h);c(l)},d)};Tj.prototype.d=function(){g(Error())};function Uj(){this.c("sread")}Uj.prototype=new $;
Uj.prototype.className="Sread";Uj.prototype.f=function(b,c){E(b,new Vj(kj(c.a(),this),c.b().a(),this))};function Vj(b,c,d){this.e=l;this.Ob=b;this.ad=c;this.k(d)}Vj.prototype=new N;Vj.prototype.za=j;Vj.prototype.className="Sread.Go";Vj.prototype.Ha=function(b,c,d){return ij(this.Ob,this.ad,function(d,h){if(d)return void c(d);D(b,h);c(l)},d)};Vj.prototype.d=function(){g(Error())};function Wj(){this.c("dir")}Wj.prototype=new $;Wj.prototype.className="Dir";
Wj.prototype.f=function(b,c){E(b,new Xj(Nb(c.a(),this).value(),this))};function Xj(b,c){this.e=l;this.Sa=b;this.k(c)}Xj.prototype=new N;Xj.prototype.za=j;Xj.prototype.className="Dir.Go";Xj.prototype.Ha=function(b,c){return na(function(d,f){if(d)return void c(d);D(b,f);c(l)})};Xj.prototype.d=function(){g(Error())};function Yj(){this.c("dir-exists")}Yj.prototype=new $;Yj.prototype.className="DirExists";Yj.prototype.f=function(b,c){E(b,new Zj(c.a(),this))};
function Zj(b,c){this.e=l;this.Sa=b;this.k(c)}Zj.prototype=new N;Zj.prototype.za=j;Zj.prototype.className="DirExists.Go";Zj.prototype.Ha=function(b,c){return oa(Nb(this.Sa,this.e).value(),function(d,f){if(d)return void c(d);D(b,f?this.Sa:B);c(l)})};Zj.prototype.d=function(){g(Error())};function $j(){this.c("file-exists")}$j.prototype=new $;$j.prototype.className="FileExists";$j.prototype.f=function(b,c){E(b,new ak(c.a(),this))};function ak(b,c){this.e=l;this.Sa=b;this.k(c)}ak.prototype=new N;
ak.prototype.za=j;ak.prototype.className="FileExists.Go";ak.prototype.Ha=function(b,c,d){return wa.Jc(Nb(this.Sa,this.e).value(),function(d,h){if(d)return void c(d);D(b,h);c(l)},d)};ak.prototype.d=function(){g(Error())};function bk(){this.c("infile")}bk.prototype=new $;bk.prototype.className="InFile";bk.prototype.f=function(b,c){E(b,new ck(Nb(c.a(),this).value(),this))};function ck(b,c){this.e=l;this.Sa=b;this.k(c)}ck.prototype=new N;ck.prototype.za=j;ck.prototype.className="InFile.Go";
ck.prototype.Ha=function(b,c,d){return pa(this.Sa,function(d,h){if(d)return void c(d);D(b,new gj(h));c(l)},d)};ck.prototype.d=function(){g(Error())};function dk(){this.c("outfile")}dk.prototype=new $;dk.prototype.className="OutFile";dk.prototype.f=function(b,c){var d=Nb(c.a(),this).value(),f=c.b().a(),f=!(f instanceof z)&&"append"===bb(f,this).name();E(b,new ek(d,f,this))};function ek(b,c,d){this.e=l;this.$=b;this.pd=c;this.k(d)}ek.prototype=new N;ek.prototype.za=j;ek.prototype.className="OutFile.Go";
ek.prototype.Ha=function(b,c){return ra(function(d,f){if(d)return void c(d);D(b,new lj(f));c(l)})};ek.prototype.d=function(){g(Error())};function fk(){this.c("make-directory")}fk.prototype=new $;fk.prototype.className="MakeDirectory";fk.prototype.f=function(b,c){E(b,new gk(Nb(c.a(),this).value(),this))};function gk(b,c){this.e=l;this.Sa=b;this.k(c)}gk.prototype=new N;gk.prototype.za=j;gk.prototype.className="MakeDirectory.Go";
gk.prototype.Ha=function(b,c){return sa(function(d,f){if(d)return void c(d);D(b,f?xb:wb.Xc);c(l)})};gk.prototype.d=function(){g(Error())};function hk(){this.c("make-directory*")}hk.prototype=new $;hk.prototype.className="MakeDirectories";hk.prototype.f=function(b,c){E(b,new ik(Nb(c.a(),this).value(),this))};function ik(b,c){this.e=l;this.Sa=b;this.k(c)}ik.prototype=new N;ik.prototype.za=j;ik.prototype.className="MakeDirectories.Go";
ik.prototype.Ha=function(b,c){return ta(function(d,f){if(d)return void c(d);D(b,f?xb:wb.Xc);c(l)})};ik.prototype.d=function(){g(Error())};function jk(){this.c("mvfile")}jk.prototype=new $;jk.prototype.className="MvFile";jk.prototype.f=function(b,c){E(b,new kk(Nb(c.a(),this).value(),Nb(c.b().a(),this).value(),this))};function kk(b,c,d){this.e=l;this.Bd=b;this.Ad=c;this.k(d)}kk.prototype=new N;kk.prototype.za=j;kk.prototype.className="MvFile.Go";
kk.prototype.Ha=function(b,c){return ua(function(d){if(d)return void c(d);D(b,B);c(l)})};kk.prototype.d=function(){g(Error())};function lk(){this.c("rmfile")}lk.prototype=new $;lk.prototype.className="RmFile";lk.prototype.f=function(b,c){E(b,new mk(Nb(c.a(),this).value(),this))};function mk(b,c){this.e=l;this.Sa=b;this.k(c)}mk.prototype=new N;mk.prototype.za=j;mk.prototype.className="RmFile.Go";mk.prototype.Ha=function(b,c){return va(function(d){if(d)return void c(d);D(b,B);c(l)})};
mk.prototype.d=function(){g(Error())};var yg=j;
function nk(b){var c=(new Date).getTime(),d=[];-1===d.indexOf(".")&&(d=["."].concat(d));var f=ok();new Ci;new Di;new zi;new yi;new Ai;L("pi").da(new I(Math.PI));L("e").da(new I(Math.E));new oi;new Vh;new ji;new li;new ii;new fi;new Oh;new mi;new gi;new Th;new ki;new Sh;new ni;new Ph;new Nh;new Qh;new Wh;new Rh;new Xh;new hi;new Yi;new Ti;new Xi;new Ui;new Fh;new Eh;new pk;new Pi;new Li;new Oi;new Hi;new Mi;new Qi;new Ri;new Si;new mh;new kh;new rh;new ph;new qh;new oh;new Kh;new Gh;new Hh;new Lh;
new Mh;new Ih;new Jh;new pi;new ui;new ri;new qi;new si;new th;new vh;new xh;new Dh;new Gi;new Ei;new Fi;new Oj;new Pj;new Gj;new Hj;new Fj;new Cj;new Ij;new Uj;new Jj;new Kj;new Qj;new Sj;new Dj;new Bj;new Ej;new dk;new bk;new Yj;new $j;new Wj;new lk;new jk;new fk;new hk;new Lj;new Nj;new Mj;new vi;new wi;new xi;var h=new jc;L("*argv*").da(x(f));L("call*").da(new Da);L("sig").da(new Da);qk(h,d,function(d){if(d)return void b(d);rk(h,function(d){if(d)return void b(d);ya("repl in "+((new Date).getTime()-
c)+"ms");sk(h,b,i)})})}function ok(){for(var b=[],c=[],d=0,f=b.length;d<f;d++){var h=b[d];"[object String]"!==Object.prototype.toString.call(h)&&g(new TypeError);c.push(Ja(""+h))}return c}function qk(b,c,d){var f=[].concat([]),h=i;function k(o){o===q?d():tk(b,c,f[o],function(b){if(b)return void d(b);k(o+1)},h)}var q=f.length;k(0)}
function rk(b,c){var d=[],f=i;function h(d,k){if(d)return void c(d);if(k===l)return void c();uk(b,k,function(b){if(b)return void c(b);Ka(K,h,f)},f)}for(var k=[],q=0,o=d.length;q<o;q++){var C=d[q];"[object String]"!==Object.prototype.toString.call(C)&&g(new TypeError);k.push(C+" ")}var K=(new qa(k.join(""))).na();Ka(K,h,f)}
function sk(b,c,d){xa("arc> ");for(var f=j,h=m;!h;)if(Ka(ja,function(k,q){if(k){if(!(k instanceof Ba))return void c(k);za(k);f||sk(b,c,d)}else q===l?(h=j,f||c()):uk(b,q,function(h){if(h)return void c(h);f||sk(b,c,d)},d)||(f=m)},d)||(f=m),!f)return;c()}function uk(b,c,d,f){return vk(b,c,function(b,c){if(b){if(!(b instanceof u))return void d(b);ya("Message    : "+b.message);xa("Java stack : ");za(b,la)}else ya(c);d()},f)}
function wk(b,c,d,f){function h(o){if(o===K)d(Error("Could not find "+c+" under "+JSON.stringify(b)));else{var q=k[o];wa.Jc(q,function(b,c){if(b)return void d(b);if(c)return void d(l,q);h(o+1)},f)}}for(var k=[],q=b.length,o=0;o<q;o++){var C=""+b[o]+"/"+c;k.push(C,C+".arc")}var K=k.length;h(0)}function tk(b,c,d,f,h){wa.Jc(d,function(k,q){if(k)return void f(k);q||wk(c,d,function(c,d){if(c)return void f(c);pa(d,function(c,d){if(c)return void f(c);xk(b,d,f,h)},h)},h)},h)}
function xk(b,c,d,f){var h=j;Ka(c,function(k,q){if(k)return void d(k);if(q===l)return void d();vk(b,q,function(k){if(k)return void d(k);xk(b,c,d,f)||(h=m)},f)||(h=m)},f)||(h=m);return h}function yk(b){this.e=b}yk.prototype=new $e;yk.prototype.className="Console.Anon_mkVisitor_";yk.prototype.Sb=function(b){b.k(this.e)};function vk(b,c,d,f){E(b,new zk(c));return kc(b,d,f)}function zk(b){this.e=l;this.va=b;this.k(G("Console.compileAndEvalAsync_"))}zk.prototype=new N;zk.prototype.className="Console.CompileAndEval";
zk.prototype.d=function(b){E(b,new Ak);wf(b,this.va,[])};function Ak(){this.e=l;this.k(G("Console.compileAndEvalAsync_"))}Ak.prototype=new N;Ak.prototype.className="Console.AndEval";Ak.prototype.d=function(b){var c=R(b).reduce(),d=[];c.m(d);d=x(d);d.j(new yk(c));S(b,l,d)};function pk(){this.c("new-thread")}pk.prototype=new $;pk.prototype.className="NewThread";pk.prototype.h=function(){g(new u("Rainbow.js doesn't support new-thread."))};function Sg(b,c,d){this.e=l;this.fa=b;this.n=c;this.k(d)}
Sg.prototype=new N;Sg.prototype.className="BindAndRun";Sg.prototype.d=function(b){this.fa.add(R(b));S(b,this.fa,this.n)};Na("window").da(new mc(window));
da(window,"load",function(){function b(){var b=C.value+"\n";C.value="";ea.fc.Va(b)}function c(b){if(b.Uc!==i)return b.Uc();for(var c=[],d=j;d;)b.hc(function(b,f){b&&g(b);f!==l?d=m:c.push(String.fromCharCode(f))},j)||(d=m);return c.join("")}function d(b){o.appendChild(document.createTextNode(b));ia||(ia=j,setTimeout(function(){ia=m;o.scrollTop=o.scrollHeight},0))}function f(b){b&&g(b);b=c(ea.Qa);""!==b&&(d(b),fa.fc.Va(b),ea.Qa.gb(f))}function h(b){b&&g(b);b=c(ga.Qa);""!==b&&(d(b),ga.Qa.gb(h))}function k(b){b&&
g(b);b=c(ha.Qa);""!==b&&(d(b),ha.Qa.gb(k))}var q=document.getElementById("repl"),o=document.createElement("pre");o.className="scrollback";o.appendChild(document.createTextNode(""));q.appendChild(o);var C=document.createElement("textarea");C.className="prompt";da(C,"keydown",function(b){if(13===(b.which||b.keyCode))b.preventDefault?b.preventDefault():b.returnValue=m});da(C,"keyup",function(c){13===(c.which||c.keyCode)&&b()});q.appendChild(C);var K=document.createElement("button");K.className="eval";
K.appendChild(document.createTextNode("Eval"));da(K,"click",function(){b()});q.appendChild(K);var ia=m;ea.Qa.gb(f);ga.Qa.gb(h);ha.Qa.gb(k);nk(n())});
