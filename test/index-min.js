function g(b){throw b;}var i=void 0,j=null;function aa(){return function(b){return b}}function l(){return function(){}}function ba(b){return function(c){this[b]=c}}function m(b){return function(){return this[b]}}function n(b){return function(){return b}}var o;
function ca(){function b(){if(k!==j){var b=k,c=p;k=j;p=j;c(b)}}function c(b,c,q,X){if(d.length!==0){var tc=d[0];if(d.length===1&&(tc.type==="byte"||tc.xa.length<<1===f+1))return h?(c&&(d=[]),b(j,j),!0):(X||(k=b,p=q),!1);var eb,q=0,X=f,U=tc;if(U.type==="byte")q++,tc=U.xa;else{U=U.xa;eb=U.charCodeAt(X>>>1);if(X&1)return c&&(f++,U.length<<1<=f&&(d.shift(),f=0)),b(j,eb),!0;tc=eb>>>8&255;X++;U.length<<1<=X&&(q++,X=0)}U=d[q];U.type==="byte"?(q++,eb=U.xa):(U=U.xa,eb=U.charCodeAt(X>>>1),eb=(X&1?eb:eb>>>8)&
255,X++,U.length<<1<=X&&(q++,X=0));c&&(q&&d.shift(),f=X);b(j,tc<<8|eb);return!0}else return h?(b(j,j),!0):(X||(k=b,p=q),!1)}var d=[],f=0,h=!1,k=j,p=j,q={},z=q.fc=function(b,c){if(d.length!==0){var q=d[0];if(q.type==="byte")d.shift(),b(j,q.xa);else{var q=q.xa,X=q.charCodeAt(f>>>1),X=(f&1?X:X>>>8)&255;f++;q.length<<1<=f&&(d.shift(),f=0);b(j,X)}return!0}else return h?(b(j,j),!0):(c||(k=b,p=z),!1)},K=q.gc=function(b,d){return c(b,!0,K,d)},ga=q.gb=function(b,d){return c(b,!1,ga,d)};q.close=l();q.Qc=function(){var b=
d.length,c=!1,h,k=[],p=0;if(f&1){var q=d[0].xa,c=!0;h=q.charCodeAt(f>>>1)&255;f++;for(var U=f>>>1,z=q.length;U<z;U++){var Qb=q.charCodeAt(U);k.push(String.fromCharCode(h<<8|Qb>>>8&255));h=Qb&255}f=0;p++}else f&&(k.push(d[0].xa.substring(f>>>1)),f=0,p++);for(b=d.length;p<b;p++)if(q=d[p],q.type==="byte")c?(k.push(String.fromCharCode(h<<8|q.xa)),c=!1):(h=q.xa,c=!0);else if(q=q.xa,c){U=0;for(z=q.length;U<z;U++)Qb=q.charCodeAt(U),k.push(String.fromCharCode(h<<8|Qb>>>8&255)),h=Qb&255}else k.push(q);d=c?
[{type:"byte",xa:h}]:[];return k.join("")};return{Qa:q,ec:{Va:function(c){!h&&c!==""&&(d.push({type:"string",xa:c}),b())},mc:function(c){h||(d.push({type:"byte",xa:c}),b())},close:function(){h=!0;b()},flush:l()}}}function da(b,c,d){b.addEventListener?b.addEventListener(c,d,!1):b.attachEvent("on"+c,d)}var ea=ca(),fa=ca(),ha=ca(),ja=ca(),ka=fa.Qa,la=ha.ec,ma=ja.ec;function na(b){b(new r("No filesystem."));return!0}function oa(b,c){c(j,!1);return!0}
function pa(b,c,d){if(d)return c(new r("Can't access the Web synchronously.")),!0;var f=new XMLHttpRequest;if("withCredentials"in f)f.open("GET",b,!0);else if("XDomainRequest"in window)f=new XDomainRequest,f.open("GET",b);else return c(new r("No AJAX.")),!0;da(f,"error",function(){c(new r("Couldn't open page: "+b+" because of error: "+f.statusText))});da(f,"load",function(){c(j,new qa(f.responseText))});f.send(j);return!1}function ra(b){b(new r("No filesystem."));return!0}
function sa(b){b(new r("No filesystem."));return!0}function ta(b){b(new r("No filesystem."));return!0}function ua(b){b(new r("No filesystem."));return!0}var va={};function wa(b){la.Va(""+b)}function xa(b){la.Va(""+b+"\n")}function ya(b,c){i===c&&(c=ma);for(c.Va(""+b+"\n"+(b.stack||b)+"\n");b instanceof r&&(b=b.Yc);)b instanceof za&&(b=b.pa),c.Va("Caused by: "+b+"\n"+(b.stack||b)+"\n")}var t={};function r(b,c){this.message=b;this.stack=Error().stack;this.Yc=c;this.od=[]}r.prototype=Error();function u(b,c){this.parent=c;this.bb=Array(~~b);this.Gb=0}o=u.prototype;
o.add=function(b){this.bb.length<=this.Gb&&g(new r("Can't add "+b+" to bindings: already full ("+this.Gb+") "+w(this.bb)));this.bb[this.Gb]=b;this.Gb++};o.yb=function(b){return b===0?this:this.parent.yb(b-1)};o.toString=function(){for(var b=[],c=0;c<this.bb.length;c++)b.push(c),b.push(" : "),b.push(this.bb[c]),b.push("\n");return b.join("")+"\nparent: "+(this.parent===j?"<none>":this.parent.toString())};o.set=function(b,c){return this.bb[b]=c};o.count=m("Gb");o.size=function(){return this.bb.length};
function Ba(){}Ba.prototype=Error();function x(){}o=x.prototype;o.Ga=!1;o.className="ArcObject";o.Da=n(!1);o.m=function(){g(new r("addInstructions not defined on "+this+", a "+this.className))};o.f=function(b,c){var d=Ca.value();d instanceof Da||g(new TypeError);d=d.value(this.type());d instanceof y&&g(new r("No handler for "+this.type()+" in call* table: called "+this+" with args "+c));d.f(b,new A(this,c))};o.wa=function(b){this.f(b,B)};o.r=function(b,c){this.f(b,new A(c,B))};
o.S=function(b,c,d){this.f(b,new A(c,new A(d,B)))};o.Ra=function(b,c,d,f){this.f(b,new A(c,new A(d,new A(f,B))))};o.ha=function(){g(new r("len: expects one string, list or hash argument, got "+this.type()))};o.Pb=function(){g(new r("Can't set car of "+this.type()))};o.jc=function(b,c){g(new r("Can't sref "+this+"( a "+this.type()+"), other args were "+b+", "+c))};o.na=n(0);o.nc=function(){return B};o.a=function(){g(new r("Can't take car of "+this))};o.b=function(){g(new r("Can't take cdr of "+this))};
o.uc=n(!1);o.type=i;o.ra=function(){return this};o.Ca=function(b){return this===b};o.copyTo=aa();o.M=n(!0);o.xb=function(){g(new Ea)};o.Ka=function(){g(new Fa)};o.Oc=function(){return this};function Ga(b,c,d){for(var f=d,h=0;!(d instanceof y);)C(c,d.a()),d=d.b(),h++;D(c,new Ha(f,c.N,b));d=new Ia(h);d.k(b);D(c,d);d=new E(b);d.k(b);D(c,d)}o.vb=function(){g(new r("has length: not a proper list: ends with "+this))};o.bc=function(){g(new r("longer than: not a proper list: ends with "+this))};o.L=function(){return this};
o.j=l();o.W=function(){return this};o.lc=l();o.Tb=l();o.Ub=function(){return B};o.Na=function(){return this.Ub().toString()};o.add=function(){g(new r("add not implemented for "+this.type()+" "+this))};o.sqrt=function(){g(new r("sqrt not implemented for "+this.type()+" "+this))};o.multiply=function(){g(new r("multiply not implemented for "+this.type()+" "+this))};function Fa(){}o.reduce=function(){return this};o.V=n(!1);o.R=function(){return this};o.Q=function(){return this};o.ea=n(!1);o.Xa=function(){return this.toString()};
function Ja(b){var c=j;Ka((new qa(b)).ra(),function(b,f){b&&g(b);c=f},!0)||g(new Ba);return c}
function Ka(b,c,d){function f(c){return b.gb(function(b,d){if(b)return void c(b);c(j,d===j?j:String.fromCharCode(d))},d)}function h(c){return b.gc(function(b,d){if(b)return void c(b);c(j,d===j?j:String.fromCharCode(d))})}function k(b){for(var c=!0,d=!1;c&&!d;)d=!0,h(function(p,q){if(p)return void b(p);q===j||q==="\n"?b(j):q==="\r"?f(function(d,f){if(d)return void b(d);f==="\n"?h(function(c){if(c)return void b(c);b(j)})||(c=!1):b(j)})||(c=!1):(d=!1,c||k(b))})||(c=!1);return c}function p(b){for(var c=
!0,d=!1;c&&!d;)d=!0,f(function(f,q){function Aa(f){if(f)return void b(f);d=!1;c||p(b)}if(f)return void b(f);q===";"?k(Aa)||(c=!1):q===j||/[^ \t\r\n]/.test(q)?b(j):h(Aa)||(c=!1)})||(c=!1);return c}function q(b,c){function d(f){var h=b.length-1,k=b[h];b=typeof f==="string"&&k instanceof La?b.slice(0,h).concat([F(k.value()+f)]):typeof f==="string"?b.concat([F(f)]):b.concat([f]);K=!1;z||q(b,c)}function k(b){b===i&&(b=new Ba);c(b)}function Aa(){se(function(b,c){if(b)return k(b);p(function(b){if(b)return k(b);
h(function(b,f){if(b)return k(b);f===")"?d(c):k()})||(z=!1)})||(z=!1)})||(z=!1)}for(var z=!0,K=!1;z&&!K;)K=!0,h(function(p,q){if(p)return k(p);q===j?k():q==='"'?c(j,b):q==="\\"?h(function(b,c){if(b)return k(b);c==='"'?d('"'):c==="\\"?d("\\"):c==="n"?d("\n"):c==="r"?d("\r"):c==="t"?d("\t"):c==="#"?h(function(b,c){if(b)return k(b);c==="("?d("#("):k()})||(z=!1):k()})||(z=!1):q==="#"?f(function(b,c){if(b)return k(b);if(c!=="(")return void d("#");h(function(b){if(b)return k(b);Aa()})||(z=!1)})||(z=!1):
d(q)})||(z=!1);return z}function z(b,c){function d(b){c(j,Ma(b))}for(var k=!0,p=!1;k&&!p;)p=!0,f(function(f,q){if(f)return void c(f);q===j||/[^01-9a-zA-Z]/.test(q)?b==="newline"?d("\n".charCodeAt(0)):b==="tab"?d("\t".charCodeAt(0)):b==="space"?d(" ".charCodeAt(0)):b==="return"?d("\r".charCodeAt(0)):b==="null"?d("\x00".charCodeAt(0)):/^[01-9][01-9]+$/.test(b)?d(parseInt(b,10)):/^u[0-9a-f]+$/i.test(b)?d(parseInt(b.substring(1),16)):b.length===1?d(b.charCodeAt(0)):c(new Ba):h(function(d,f){if(d)return void c(d);
p=!1;b+=f;k||z(b,c)})||(k=!1)})||(k=!1);return k}function K(b,c){for(var d=!0,k=!1;d&&!k;)k=!0,f(function(f,p){if(f)return void c(f);if(p===j||/[^01-9a-fA-F]/.test(p)){if(b==="")return void c(new Ba);c(j,G(parseInt(b,16)))}else h(function(f,h){if(f)return void c(f);k=!1;b+=h;d||K(b,c)})||(d=!1)})||(d=!1);return d}function ga(b,c){for(var d=!0,f=!1;d&&!f;)f=!0,h(function(h,k){if(h)return void c(h);k===j?c(new Ba):k==="|"?c(j,Na(b)):(f=!1,b+=k,d||ga(b,c))})||(d=!1);return d}function Aa(b,c,d){for(var k=
!0,q=!1;k&&!q;)q=!0,p(function(p){if(p)return void d(p);f(function(f,p){if(f)return void d(f);p===j?d(new Ba):p===c?h(function(c){if(c)return void d(c);d(j,b)})||(k=!1):se(function(f,h){if(f)return void d(f);q=!1;b=b.concat([h]);k||Aa(b,c,d)})||(k=!1)})||(k=!1)})||(k=!1);return k}function qb(b,c){for(var d=!0,k=!1;d&&!k;)k=!0,f(function(f,p){if(f)return void c(f);var q=p!==j&&p.charCodeAt(0);if(p!==j&&(/^[-+$%&*\/<=>?^_~.!:01-9a-zA-Z]+$/.test(p)||128<=q&&q<65536))h(function(f,h){if(f)return void c(f);
k=!1;b+=h;d||qb(b,c)})||(d=!1);else if(p==="\\")h(function(f){if(f)return void c(f);h(function(f,h){if(f)return void c(f);h==="|"?(k=!1,b+="\\|",d||qb(b,c)):c(new Ba)})||(d=!1)})||(d=!1);else{var z;/^-?[01-9]+\/[01-9]+$/.test(b)?c(j,Oa(b)):/^-?[01-9]+$/.test(b)?c(j,G(parseInt(b,10))):/^[-+]?[01-9]*\.?[01-9]+(e-?[01-9]+)?$/.test(b)?c(j,Pa(parseFloat(b))):b==="+inf.0"?c(j,new H(1/0)):b==="-inf.0"?c(j,new H(-1/0)):b==="+nan.0"?c(j,new H(0/0)):b==="+i"?c(j,new I(0,1)):b==="-i"?c(j,new I(0,-1)):(z=/^([-+]?[01-9]*\.?[01-9]+(?:e-?[01-9]+)?)([-+])([01-9]*\.?[01-9]+(?:e-?[01-9]+)?)?i$/.exec(b))?
c(j,new I(Pa(parseFloat(z[1])).value(),Pa(parseFloat(z[2]+(z[3]||"1"))).value())):c(j,Na(b))}})||(d=!1);return d}function se(b){function c(){q([],function(c,d){if(c)return void b(c);d.length===0?b(j,F("")):d.length===1?b(j,d[0]):b(j,w([Na("string")].concat(d)))})||(ia=!1)}function d(){ga("",function(c,d){if(c)return void b(c);b(j,Na(d))})||(ia=!1)}function k(){h(function(c,d){if(c)return void b(c);d!==j&&/x/i.test(d)?K("",b)||(ia=!1):d==="\\"?h(function(c,d){if(c)return void b(c);if(/[^a-zA-Z]/.test(c))return void b(j,
Ma(c.charCodeAt(0)));z(d,b)||(ia=!1)})||(ia=!1):b(new Ba)})||(ia=!1)}function te(c){se(function(d,f){if(d)return void b(d);f===j?b(new Ba):b(j,w([J(c),f]))})||(ia=!1)}function Qb(){f(function(c,d){if(c)return void b(c);d===j?b(new Ba):d==="@"?h(function(c){if(c)return void b(c);te("unquote-splicing")})||(ia=!1):te("unquote")})||(ia=!1)}function sj(){Aa([],")",function(c,d){if(c)return void b(c);if(d.length===0)b(j,Qa);else{try{var f=d===j||d.length===0?B:d[0]===Ra?Sa(d):new A(d[0],Ta(d.slice(1)))}catch(h){return void b(h)}b(j,
f)}})||(ia=!1)}function tj(){Aa([],"]",function(c,d){if(c)return void b(c);b(j,w([J("fn"),w([J("_")]),w(d)]))})||(ia=!1)}var ia=!0;p(function(f){if(f)return void b(f);h(function(f,h){if(f)return void b(f);h===j?b(j,j):h==='"'?c():h==="|"?d():h==="#"?k():h==="'"?te("quote"):h===","?Qb():h==="`"?te("quasiquote"):h==="("?sj():h==="["?tj():qb(h,b)||(ia=!1)})||(ia=!1)})||(ia=!1);return ia}return se(c)}function L(b,c){this.Y=b;this.Pc=c;this.$c=b;this.ub=this.i=j}L.prototype=new x;o=L.prototype;
o.className="Symbol";o.m=function(b){b.push(new Ua(this))};function J(b){var c=Na(b);if(c instanceof L)return c;else g(new r("can't make symbol from \""+b+'"'))}
function Na(b){if(b==="t")b=Va;else if(b==="nil")b=B;else{var c;if(!(c=Wa.test(b))){a:if(/^-?[01-9]+\/[01-9]+$/.test(b)||/^-?[01-9]+$/.test(b)||/^[-+]?[01-9]*\.?[01-9]+(e-?[01-9]+)?$/.test(b)||b==="+inf.0"||b==="-inf.0"||b==="+nan.0"||b==="+i"||b==="-i"||/^([-+]?[01-9]*\.?[01-9]+(?:e-?[01-9]+)?)([-+])([01-9]*\.?[01-9]+(?:e-?[01-9]+)?)?i$/.test(b)||/\\(?!\|)/.test(b))c=!0;else{c=0;for(var d=b.length;c<d;c++){var f=b.charCodeAt(c);if(!(/^[-+$%&*\/<=>?^_~.!:01-9a-zA-Z]+$/.test(b.charAt(c))||128<=f&&
f<65536)){c=!0;break a}}c=!1}c=c||b==="."}b=c?Xa(b,"|"+b+"|"):Ya.test(b)?Xa(b.replace(/\\\|/g,"|"),b):Xa(b,b)}return b}o.Xa=m("Y");o.toString=m("Pc");function Xa(b,c){if(b in Za)return Za[b];var d=new L(b,c);return Za[b]=d}o.name=m("Y");o.na=function(b){b instanceof L||g(new TypeError);return this.Y.localeCompare(b.name)};o.type=function(){return $a};o.ra=function(){return this.name()};o.ya=m("$c");o.ua=function(b){return this===b};function ab(b,c){return c instanceof L&&c.name()===b}
o.da=function(b){var c=this.i;this.i=b;c!==j&&c.lc(this);b.Tb(this)};o.value=function(){this.i===j&&g(new r("Symbol "+this.Y+" is not bound"));return this.i};o.bound=function(){return this.i!==j};function bb(b,c){try{return b instanceof L||g(new TypeError),b}catch(d){d instanceof TypeError||g(d),g(new r("Wrong argument type: "+c+" expected a Symbol, got "+b))}}function cb(b,c,d){if(b.ub===j)b.ub={};b.ub[c.name()]=d}
var Za={},Wa=/.*(["'; \t\n\)\(]|([^\\]|^)\|).*/,Ya=/.*\\\|/,$a=J("sym"),Ra=J("."),db=J("!");function A(b,c){b===j&&g(new r("Can't create Pair with null car: use NIL instead"));c===j&&g(new r("Can't create Pair with null cdr: use NIL instead"));this.Wa=b;this.ib=c}A.prototype=new x;o=A.prototype;o.className="Pair";o.f=function(b,c){var d=fb(c.a(),this);C(b,this.yb(d.G()).a())};o.nc=m("Wa");o.a=m("Wa");o.b=m("ib");o.Ka=function(){this.Wa!==j&&g(new Fa)};o.M=n(!1);o.Pb=function(b){return this.Wa=b};
o.jc=function(b,c){return this.yb(gb(c,this).G()).Pb(b)};o.uc=function(b){return b===this.Wa};o.toString=function(){if(this.a()instanceof L&&this.a().name()in hb&&this.b()instanceof A&&this.b().size()===1){var b=this.a(),b=hb[b.name()],c=this.b();c instanceof A||g(new TypeError);return b+ib(c)}else return"("+ib(this)+")"};function ib(b){for(var c=[];!b.M();)c.push(b.a()),b.b().M()||c.push(" "),b=b.b();b instanceof y||c.push(" . ",b);return c.join("")}o.Bc=ba("ib");
function Ta(b){if(b.length===0)return B;if(b[0]===Ra)return b.length===2?(b=b[1],b instanceof x||g(new TypeError),b):Sa(b);var c=b[0];c instanceof x||g(new TypeError);return new A(c,Ta(b.slice(1)))}function Sa(b){g(new r('Error: illegal use of "." in '+b))}function jb(b,c,d){if(d===b.length)return c;else{var f=b[d];f instanceof x||g(new TypeError);return new A(f,jb(b,c,d+1))}}function kb(b,c){return b===j||b.length===0?c:jb(b,c,0)}function w(b){return kb(b,B)}o.type=function(){return lb};o.ha=function(){return this.size()};
o.size=function(){if(this instanceof y)return 0;else{for(var b=1,c=this.ib;!(c instanceof y);)c.M()&&g(new r("cannot take size: not a proper list: "+this)),b++,c=c.b();return b}};o.na=function(){g(new r("Pair.compareTo:unimplemented"))};o.copyTo=function(b){b.push(this.a());if(this.b()instanceof y)return b;else this.b()instanceof A||g(new r("Not a list: "+this));this.b().copyTo(b);return b};
o.ua=function(b){if(this===b)return!0;var c=this instanceof y;b instanceof x||g(new TypeError);var d=b instanceof y;return c!==d?!1:c&&d?!0:b instanceof A?(c=b.Wa.ua(this.Wa),b=b.ib.ua(this.ib),c&&b):!1};o.ya=function(){return this.a().ya()+this.b().ya()};o.yb=function(b){try{for(var c,d=this,f=b;0<f;)d.b()instanceof y&&g(new mb),d=d.b(),f--;c=d;c instanceof A||g(new TypeError);return c}catch(h){h instanceof mb||g(e),g(new r("Error: index "+b+" too large for list "+this))}};
o.vb=function(b){return this.b().vb(b-1)};o.bc=function(b){return b<0||this.b().bc(b-1)};o.Na=function(){return"ref:"+this.type().toString()};function mb(){}mb.prototype=Error();o=A.prototype;o.ra=function(){var b=[];nb(b,this);return b};o.Ca=function(b){return x.prototype.Ca.call(this,b)||this instanceof y&&b instanceof y};function nb(b,c){if(!(c instanceof y)){b.push(c.a().ra());var d=c.b();d instanceof A||g(new TypeError);nb(b,d)}}function ob(b){var c=Array(~~b.size());pb(b,c,0);return c}
function pb(b,c,d){if(d<c.length)c[d]=b.Wa,b=b.ib,b instanceof A||g(new TypeError),b instanceof y||pb(b,c,d+1)}function rb(b,c){try{return b instanceof A||g(new TypeError),b}catch(d){d instanceof TypeError||g(d),g(new r("Wrong argument type: "+c+" expected a cons, got "+b))}}o.xb=l();o.add=function(b){if(b instanceof A){var c=[];this.copyTo(c);b.copyTo(c);return w(c)}else g(new r("+ : expects cons, got "+b.type()+" "+b))};
o.j=function(b){b.sa(this);for(var c=this;!c.M();)c.a().j(b),c=c.b();c instanceof y||c.j(b);b.Fa(this)};function Ea(){}var lb=J("cons"),hb={quasiquote:"`",quote:"'",unquote:",","unquote-splicing":",@"};function y(b){this.Wa=this.ib=j;this.qb=b}var sb=new A(i,i);sb.O=sb.K=j;y.prototype=sb;o=y.prototype;o.className="Nil";o.m=function(b){b.push(new E(tb))};o.f=function(b,c){g(new r("Function dispatch on inappropriate object: "+this+" with args "+c))};o.xb=l();o.Da=n(!0);o.ha=n(0);o.M=n(!0);o.Ka=l();
o.toString=m("qb");o.nc=function(){return this};o.a=function(){return this};o.b=function(){return this};o.uc=n(!1);o.Bc=function(){g(Error("can't set the cdr of "+this))};o.size=n(0);o.copyTo=aa();o.type=function(){return ub};o.ya=n("nil");o.ua=function(b){if(this===b)return!0;b instanceof x||g(new TypeError);return b instanceof y};o.ra=n(!1);o.Ca=function(b){return b instanceof y};o.Oc=aa();o.vb=function(b){return b===0};o.bc=function(b){return b<0};var ub=$a,tb=new y("nil"),vb=new y("()");
function wb(){L.call(this,this.Y,this.Pc);xb!==i&&g(Error())}wb.prototype=new L("t","t");o=wb.prototype;o.className="Truth";o.Da=n(!0);o.m=function(b){b.push(new E(xb))};o.toString=n("t");o.na=function(){g(new r("Truth.compareTo:unimplemented"))};o.type=function(){return $a};function yb(b){return b?xb:B}o.ya=n("t");o.ua=function(b){return this===b};o.ra=n(!0);o.da=function(){g(new r("error: can't rebind t!"))};o.value=function(){return this};var xb=new wb;function M(){this.e=j}M.prototype=new x;
o=M.prototype;o.Ib=!1;o.$b=!1;o.la=!1;o.za=!1;o.className="Instruction";o.type=function(){return J("instruction")};o.Za=function(){return this.toString()};o.toString=function(){return"("+this.className+")"};o.d=i;o.k=ba("e");o.j=function(b){b.Rb(this)};function Ha(b,c,d){this.e=j;this.ed=b;this.Eb=c;this.k(d)}Ha.prototype=new M;Ha.prototype.$b=!0;Ha.prototype.className="ArcObject.ConvertError";Ha.prototype.pc=function(b){return b instanceof Error};
Ha.prototype.d=function(b){var c=b.error();if(c!==j)b.Pa=j,b.N=this.Eb,g(new r("error invoking "+this.e+" with args "+this.ed+": "+c,c))};var Ca=J("call*"),B=tb,Qa=vb,Va=xb;function zb(){}zb.prototype=new x;zb.prototype.className="LiteralObject";zb.prototype.Da=n(!0);zb.prototype.m=function(b){b.push(new E(this))};zb.prototype.Na=function(){return"ref:"+this.type().toString()};function N(b){this.i=b;Ab[b]=this}N.prototype=new zb;o=N.prototype;o.className="ArcCharacter";
function Ma(b){return Ab[b]===i?new N(b):Ab[b]}o.Da=n(!0);o.toString=function(){return"#\\"+String.fromCharCode(this.i)};o.na=function(b){b instanceof N||g(new TypeError);return this.i-other.i};o.type=function(){return Bb};o.ra=function(){return this.value()};o.value=m("i");o.Xa=function(){return String.fromCharCode(this.i)};o.ya=function(){return this.Xa()};o.ua=function(b){return this===b||b instanceof N&&b.i===this.i};
function Cb(b,c){try{return b instanceof N||g(new TypeError),b}catch(d){d instanceof TypeError||g(d),g(new r("Wrong argument type: "+c+" expected a character, got "+b))}}var Bb=J("char"),Ab=Array(65536);function Db(){N.call(this,0)}Db.prototype=new N(0);Db.prototype.className="ArcCharacter.Anon_NULL_";Db.prototype.toString=n("#\\null");var Eb=new Db;function Fb(){N.call(this,"\n".charCodeAt(0))}Fb.prototype=new N("\n".charCodeAt(0));Fb.prototype.className="ArcCharacter.Anon_named_1_";
Fb.prototype.toString=n("#\\newline");function Gb(){N.call(this,"\t".charCodeAt(0))}Gb.prototype=new N("\t".charCodeAt(0));Gb.prototype.className="ArcCharacter.Anon_named_2_";Gb.prototype.toString=n("#\\tab");function Hb(){N.call(this,"\r".charCodeAt(0))}Hb.prototype=new N("\r".charCodeAt(0));Hb.prototype.className="ArcCharacter.Anon_named_3_";Hb.prototype.toString=n("#\\return");function Ib(){N.call(this," ".charCodeAt(0))}Ib.prototype=new N(" ".charCodeAt(0));Ib.prototype.className="ArcCharacter.Anon_named_4_";
Ib.prototype.toString=n("#\\space");new Fb;new Gb;new Hb;new Ib;function La(b){this.i=b}La.prototype=new zb;o=La.prototype;o.className="ArcString";o.f=function(b,c){Jb(c,this.className,1);var d=gb(c.a(),this);d.ja()||g(new r("string-ref: expects exact integer: got "+d));d=~~d.G();0<=d||d<this.value.length()||g(new r("string-ref: index "+d+" out of range [0, "+(this.i.length-1)+"] for string "+this.toString()));C(b,Ma(this.i.charCodeAt(d)))};o.value=m("i");o.Xa=m("i");
o.toString=function(){var b=this.i,c=[];c.push('"');for(var d=0;d<b.length;d++)switch(b.charAt(d)){case '"':c.push('\\"');break;case "\\":c.push("\\\\");break;case "\n":c.push("\\n");break;case "\r":c.push("\\r");break;default:c.push(b.charAt(d))}c.push('"');return c.join("")};o.na=function(b){b instanceof La||g(new TypeError);return this.i.localeCompare(b.i)};o.ha=function(){return this.i.length};o.Pb=function(b){var c=[Cb(b,this).Xa()];c.push(this.value().substring(1));this.da(c.join(""));return b};
o.jc=function(b,c){var d=Cb(b,N),f=gb(c,this),f=f.G();0<=f&&f<this.i.length||g(new RangeError);this.i=this.i.substring(0,f-1)+String.fromCharCode(d.value())+this.i.substring(f+1);return b};o.type=function(){return Kb};o.ra=function(){return this.value()};function F(b){return new La(b)}o.da=ba("i");o.ya=m("i");o.ua=function(b){return this===b||b instanceof La&&b.i===this.i};o.Ca=function(b){return this.ua(b)};
o.add=function(b){var c=[this.i];if(!(b instanceof La)){var d=b.type();d instanceof L||g(new TypeError);d=Lb.ub[d]||j;d instanceof Mb||g(new TypeError);b=d.Fb(b);b instanceof La||g(new TypeError)}c.push(b.value());return F(c.join(""))};function Nb(b,c){try{return b instanceof La||g(new TypeError),b}catch(d){d instanceof TypeError||g(d),g(new r("Wrong argument type: "+c+" expected a string, got "+b))}}var Kb=J("string");function za(b,c,d){this.pb=c;this.pa=b;this.jd=d}za.prototype=new zb;
za.prototype.className="ArcException";za.prototype.type=function(){return Ob};za.prototype.message=function(){return this.pa!==j?F(this.pa.message):Pb};za.prototype.toString=function(){return this.message().toString()};var Ob=J("exn"),Pb=F("no message");function O(){}O.prototype=new zb;o=O.prototype;o.className="ArcNumber";o.ja=i;o.B=i;o.G=i;o.nb=i;o.round=i;o.hc=function(){g(new r("round[closest] not implemented for "+this.className+"("+this+")"))};o.Da=n(!0);
o.na=function(b){b instanceof O||g(new TypeError);b=b.B()-this.B();return b<0?1:b===0?0:-1};o.type=function(){return this.ja()?Rb:Sb};o.Ca=function(b){return this.ua(b)};function fb(b,c){try{return b instanceof O||g(new TypeError),b}catch(d){d instanceof TypeError||g(d),g(new r("Wrong argument type: "+c+" expected a number, got "+b))}}o.Mc=function(){g(new r("mod: not implemented for "+this.className+"("+this+")"))};var Rb=J("int"),Sb=J("num");function Tb(){this.i=j}Tb.prototype=new zb;
Tb.prototype.className="ArcThreadLocal";Tb.prototype.set=ba("i");Tb.prototype.get=m("i");Tb.prototype.type=function(){return Ub};function Vb(b,c){try{return b instanceof Tb||g(new TypeError),b}catch(d){d instanceof TypeError||g(d),g(new r("Wrong argument type: "+c+" expected a thread-local, got "+b))}}var Ub=J("thread-local");function I(b,c){this.O=b;this.K=c}I.prototype=new O;o=I.prototype;o.className="Complex";
function Wb(){var b;if(soFar==="+i")return new I(0,1);else if(soFar==="-i")return new I(0,-1);else if(b=/^([-+]?[01-9]*\.?[01-9]+(?:e-?[01-9]+)?)([-+])([01-9]*\.?[01-9]+(?:e-?[01-9]+)?)?i$/.exec(soFar))return new I(Pa(parseFloat(b[1])).value(),Pa(parseFloat(b[2]+(b[3]||"1"))).value());else g(new Ba)}o.ja=function(){return this.K===0&&Math.floor(this.O)===real};o.B=function(){g(new r("Cannot convert complex to double"))};o.G=function(){g(new r("Cannot convert complex to int"))};
o.nb=function(){return new I(-this.O,-this.K)};o.toString=function(){return(new H(this.O)).toString()+(this.K<0?"":"+")+(new H(this.K)).toString()+"i"};function Xb(b,c){try{return b instanceof I||g(new TypeError),b}catch(d){d instanceof TypeError||g(d),g(new r("Wrong argument type: "+c+" expected a complex number, got "+b))}}o.round=function(){return new r("Can't convert "+this+" to integer")};function Yb(b){var c=argument.B();return new I(b.O*c,b.K*c)}
o.multiply=function(b){return b instanceof I?Zb(this,b):(b instanceof O||g(new TypeError),b=b.B(),new I(this.O*b,this.K*b))};function Zb(b,c){var d=b.O,f=c.O,h=b.K,k=c.K;return new I(d*f-h*k,d*k+f*h)}o.add=function(b){if(b instanceof I)return new I(this.O+b.O,this.K+b.K);else if(b instanceof P)return new I(this.O+b.B(),this.K);else if(b instanceof H)return new I(this.O+b.B(),this.K);else g(new r("+: expects a number, got "+b.type()+" "+b))};
o.log=function(){return new I(Math.log(Math.sqrt(this.O*this.O+this.K*this.K)),Math.atan2(this.K,this.O))};function $b(b,c){var d;if(c instanceof I)d=Zb(b.log(),c).exp();else{d=b.log();var f=c.B();d=(new I(d.O*f,d.K*f)).exp()}return d}o.sqrt=function(){return $b(this,Pa(0.5))};o.exp=function(){var b=Math.exp(this.O);return new I(b*Math.cos(this.K),b*Math.sin(this.K))};o.na=function(){g(new r("Compare: complex numbers are unordered and cannot be compared"))};
o.Ca=function(b){return b instanceof I?b.O===this.O&&b.K===this.K:b instanceof O&&this.K===0&&b.B()===this.O};function P(b,c){c===0&&b!==0&&g(new r("/: division by zero"));var d=ac(this,b,c);this.ca=b/d;this.U=c/d}P.prototype=new O;o=P.prototype;o.className="Rational";function Oa(b){b=b.split("/");return new P(parseInt(b[0],10),parseInt(b[1],10))}function G(b){return new P(b,1)}o.toString=function(){return this.ca+(this.U===1?"":"/"+this.U)};o.ja=function(){return this.U===1};
o.B=function(){return this.ca/this.U};o.G=function(){if(this.ca===0)return 0;else{var b=this.ca/this.U;return b<0?Math.ceil(b):Math.floor(b)}};function ac(b,c,d){return d===0?c:ac(b,d,c%d)}o.Mc=function(b){(!this.ja()||!b.ja())&&g(new r("modulo: expects integer, got ("+this+" "+b+")"));var b=b.G(),c=this.ca%b;c<0&&(c+=b);return G(c)};function bc(b,c){return new P(b.ca*c.ca,b.U*c.U)}o.zb=function(b){return new P(this.ca*b.U+b.ca*this.U,this.U*b.U)};o.nb=function(){return new P(-this.ca,this.U)};
o.ra=function(){return this.ja()?this.G():this.B()};o.ya=function(){return this.ja()?this.G():this.B()};o.ya=function(){return 37*this.ca+this.U+""};o.ua=function(b){return b instanceof P&&this.ca===b.ca&&this.U===b.rd};function gb(b,c){try{return b instanceof P||g(new TypeError),b}catch(d){d instanceof TypeError||g(d),g(new r("Wrong argument type: "+c+" expected a Rational, got "+b))}}
o.round=function(){if(this.U===1)return this;else if(this.U===2){var b=this.ca/this.U,b=b<0?Math.ceil(b):Math.floor(b);return G(b+(b%2===1?1:0))}else return G(Math.round(this.ca/this.U))};o.hc=function(){return this.U===1?this:G(Math.round(this.ca/this.U))};o.stringify=function(b){var c=this.ca.toString(b.G());return this.ja()?F(c):(b=this.U.toString(b.G()),F(c+"/"+b))};o.sqrt=function(){var b=Math.sqrt(this.ca/this.U);return Math.floor(b)===b?G(b):Pa(b)};
o.multiply=function(b){if(b instanceof I)return Yb(b);else if(b instanceof H)return Pa(b.i*this.B());else if(b instanceof P)return bc(this,b);else g(new r("*: expects a number, got "+b.type()+" "+b))};o.add=function(b){if(b instanceof I)return new I(b.O+this.B(),b.K);else if(b instanceof H)return b.zb(this);else if(b instanceof P)return this.zb(b);else g(new r("+: expects a number, got "+b.type()+" "+b))};var cc=G(0),dc=G(1),ec=G(10);function H(b){this.i=b}H.prototype=new O;o=H.prototype;
o.className="Real";function Pa(b){return new H(b)}o.toString=function(){return this.i===-1/0?"-inf.0":this.i===1/0?"+inf.0":this.i!==this.i?"+nan.0":""+this.i};o.ra=function(){this.ja();return this.value()};o.type=function(){return Sb};o.value=m("i");o.ja=function(){return Math.floor(this.i)===this.i};o.B=m("i");o.G=function(){return this.i<0?Math.ceil(this.i):Math.floor(this.i)};o.nb=function(){return Pa(-this.i)};o.ya=function(){return""+this.i};
o.ua=function(b){return b instanceof I?b.Ca(this):this===b||b instanceof H&&this.i===b.i};o.round=function(){var b=Math.round(this.i);return Math.abs(this.i-b)===0.5&&b%2==1?b<this.i?G(b+1):G(b-1):G(b)};o.hc=function(){return G(Math.round(this.i))};o.zb=function(b){return Pa(this.i+b.B())};o.sqrt=function(){return Pa(Math.sqrt(this.i))};o.multiply=function(b){if(b instanceof I)return Yb(b);else if(b instanceof O)return Pa(this.i*b.B());else g(new r("*: expects a number, got "+b.type()+" "+b))};
o.add=function(b){if(b instanceof I)return new I(b.O+this.B(),b.K);else if(b instanceof P)return this.zb(b);else if(b instanceof H)return this.zb(b);else g(new r("+: expects a number, got "+b.type()+" "+b))};function fc(b,c){this.Cb=b;this.qb=c}fc.prototype=new zb;o=fc.prototype;o.className="Tagged";o.f=function(b,c){var d=Ca.value();d instanceof Da||g(new TypeError);return d.value(this.Cb).f(b,new A(this.qb,c))};o.na=n(0);o.type=m("Cb");
function gc(b){return b instanceof fc&&b.Cb.toString()==="mac"?b.qb:j}o.toString=function(){return hc(this)};function hc(b){var c=ic;if(!c.bound())return"#<tagged "+b.Cb+" "+b.qb+">";c=c.value();c instanceof Da||g(new TypeError);c=c.value(b.Cb);if(c instanceof y)return"#<tagged "+b.Cb+" "+b.qb+">";b=new jc;c.f(b,w([rep]));var d;kc(b,function(b,c){b&&g(b);d=c},!0)||g(new r("An asynchronous operation was attempted during a toString()."));return""+lc(d)}var ic=J("tagged-writers");
function mc(b){this.xc=b}mc.prototype=new zb;o=mc.prototype;o.className="JsObject";o.type=function(){return nc};o.ra=m("xc");o.toString=function(){return""+this.xc};function oc(b){var c=[];pc(c,b);return c}function pc(b,c){b.push(lc(c.a()));if(!(c.b()instanceof y)){var d=c.b();d instanceof A||g(new TypeError);pc(b,d)}}function lc(b){return b.ra()}
function qc(b){if(b===j)return B;else if(b instanceof x)return b;var c=Object.prototype.toString.call(b);if(c==="[object Number]")return b*=1,b===Math.floor(b)?G(b):Pa(b);else{if(c==="[object String]")b=F(""+b);else if(c==="[object Array]"||c==="[object Arguments]"){for(var c=Array(~~b.length),d=0;d<b.length;d++)c[d]=qc(b[d]);b=w(c)}else b=c==="[object Boolean]"?b?Va:B:new mc(b);return b}}o.close=function(){g(new r("close: unexpected object: "+this))};var nc=J("java-object");
function Da(){this.Y=B;this.cc={};this.lb=this.Zb=j;this.dc=new rc;this.Lc=0}Da.prototype=new zb;o=Da.prototype;o.className="Hash";o.lc=function(b){if(this.Y===b)this.Y=B,this.dc=new rc};o.Tb=function(b){this.Y=b;this.dc=new sc(this)};o.Ub=m("Y");o.f=function(b,c){C(b,this.value(c.a()).Oc(c.b().a()))};o.toString=function(){return"#hash"+uc(this)};function uc(b){for(var c=[],d=b.Zb;d!==j;d=d.next){var f=d.key,f=new A(f,new A(b.value(f),B));c.push(f)}return kb(c,Qa)}o.ha=function(){return this.size()};
o.jc=function(b,c){if(b instanceof y){var d=this.value(c),f=this.cc[c.ya()];if(f)for(var h=0,k=f.length;h<k;h++){var p=f[h];if(c.ua(p.key)){f.splice(h,1);if(p.Ob)p.Ob.next=p.next;if(p.next)p.next.Ob=p.Ob;if(this.Zb===p)this.Zb=p.next;if(this.lb===p)this.lb=p.Ob;this.ha--;break}}this.dc.Dc(d,c)}else{d=c.ya();d=this.cc[d]||(this.cc[d]=[]);f=j;h=0;for(k=d.length;h<k;h++)if(p=d[h],c.ua(p.key)){f=p;break}f===j?(f=this.lb,this.lb={key:c,value:b,Ob:f,next:j},f===j?this.Zb=this.lb:f.next=this.lb,d.push(this.lb),
this.Lc++):f.value=b;this.dc.name(b,c)}return b};o.value=function(b){var c=this.cc[b.ya()];if(!c)return B;for(var d=0,f=c.length;d<f;d++){var h=c[d];if(b.ua(h.key))return h.value}return B};o.na=n(0);o.type=function(){return vc};o.size=m("Lc");function wc(){}wc.prototype.name=i;wc.prototype.Dc=i;function sc(b){this.Sc=b}sc.prototype=new wc;sc.prototype.name=function(b,c){b.Tb(new A(c,this.Sc))};sc.prototype.Dc=function(b,c){b.lc(new A(c,this.Sc))};function rc(){}rc.prototype=new wc;
rc.prototype.name=l();rc.prototype.Dc=l();var vc=J("table");function jc(){this.Cc=xc++;this.aa=Array(100);this.N=-1;this.ma=[];this.ga=Array(100);this.D=Array(100);this.g=-1;this.Pa=this.Hb=this.q=j;this.kb=yc;this.Xb=!1;this.Ba=0;this.Ta=j;this.Gc=0;this.pb=j}jc.prototype=new x;o=jc.prototype;o.className="VM";
function kc(b,c,d){var f=b.Ba;b.Ba=b.g;var h=zc(b,function(){b.Ba=f;if(b.Pa===j)b.kb.end(b),c(j,Q(b));else{var d=b.Pa;b.Pa=j;var h=d.jd,q="\nAt instruction "+d.pb;if(h!==j)for(var z=0,K=h.length;z<K;z++)q+="\n"+h[z].Na();c(new r("Unhandled exception on thread#"+b.Cc+": "+d.pa.message+q,d.pa))}},d);if(d&&!h)b.Ba=f;return h}
function zc(b,c,d){function f(){for(;h.Ba<=h.g;)try{if(h.D[h.g]instanceof y)h.g--;else{h.q=h.ga[h.g];h.Hb=h.ma[h.g];var b=h.D[h.g].a();b instanceof M||g(new TypeError);h.pb=b;var q=h.D[h.g].b();q instanceof A||g(new TypeError);h.D[h.g]=q;if(h.pb.za){var z=!0,z=h.pb.Ha(h,function(b){b?Ac(h,b):h.kb.cb(h);z||f()},d);if(!z){k=!1;return}}else h.pb.d(h),h.kb.cb(h)}}catch(K){Ac(h,K)}c()}b.kb.cb(b);var h=b,k=!0;f();return k}
function Ac(b,c){for(var d=[],f=[],h=[];b.Ba<=b.g;){var k=Bc(b).a();if(k.$b&&k.pc(c))break;k=Bc(b).a();k.Ib&&(f.push(Bc(b)),h.push(b.ga[b.g]));if(k instanceof M)k=Bc(b).a().e,k!==j&&d.push(k);b.g--}b.Pa=new za(c,b.pb,d);for(d=f.length-1;0<=d;d--)R(b,h[d],f[d])}o.error=m("Pa");
o.show=function(){xa("Thread Dump for thread#"+threadId);xa(""+(this.N+1)+" args");for(var b=5<this.N?this.N-5:0;b<this.N+1;b++)xa(""+b+". "+this.aa[b]);xa();b=this.g+1;if(this.D[this.g]instanceof y)b=this.g;xa(""+b+" instruction frames");for(var b=20<this.g?this.g-20:0,c=this.g;b<=c;c--)if(!(this.D[c]instanceof y)){var d=this.D[c],f=this.ga[c],h=this.ma[c];for(wa("\nInstruction Frame "+c+":");!(d instanceof y);){var k=d.a();k instanceof M||g(new TypeError);d=d.b();newInstructions instanceof A||g(new TypeError);
wa(k.Za(f));wa(" ")}wa("[");k=0;for(d=h.length;k<d;k++)wa(""+h[k]+" ");wa("]");la.Va("\n")}};function D(b,c){b.Ba<=b.g&&Bc(b)instanceof y||(b.g++,0<=b.g&&b.g<b.D.length||(Cc(b,b.D.length*2),Dc(b,b.ga.length*2),Ec(b,b.ma.length*2)));b.D[b.g]=new A(c,B)}function R(b,c,d){b.Ba<=b.g&&Bc(b)instanceof y||(b.g++,0<=b.g&&b.g<b.D.length||(Cc(b,b.D.length*2),Dc(b,b.ga.length*2),Ec(b,b.ma.length*2)));b.D[b.g]=d;b.ga[b.g]=c}
function S(b,c,d,f){b.Ba<=b.g&&Bc(b)instanceof y||(b.g++,0<=b.g&&b.g<b.D.length||(Cc(b,b.D.length*2),Dc(b,b.ga.length*2),Ec(b,b.ma.length*2)));b.D[b.g]=d;b.ga[b.g]=c;b.ma[b.g]=f}function Fc(b,c){b.Ba<=b.g&&Bc(b)instanceof y?b.D[b.g]=c:(b.g++,0<=b.g&&b.g<b.D.length||(Cc(b,b.D.length*2),Dc(b,b.ga.length*2),Ec(b,b.ma.length*2)),b.D[b.g]=c,b.ga[b.g]=b.q,b.ma[b.g]=b.Hb)}function Bc(b){return b.D[b.g]}
function C(b,c){b.N++;if(!(0<=b.N&&b.N<b.aa.length)){var d=Array(~~(b.aa.length*2));Gc(b.aa,d);b.aa=d}b.aa[b.N]=c}function Hc(b){return b.aa[b.N]}function Q(b){return b.aa[b.N--]}function Ic(b,c){for(var d=Qa,f=0;f<c;f++)d=new A(b.aa[b.N-f],d);b.N-=c;return d}function Jc(b,c){b.kb=c;c.wb(b)}o.type=function(){return Kc};
o.copyTo=function(b){b.N=this.N;b.g=this.g;b.D.length<this.D.length?(b.D=this.D.slice(),b.ga=this.ga.slice(),b.ma=this.ma.slice()):(Gc(this.D,b.D),Gc(this.ga,b.ga),Gc(this.ma,b.ma));b.aa.length!==this.aa.length?b.aa=this.aa.slice():Gc(this.aa,b.aa);b.q=this.q;b.Pa=this.Pa;b.kb=this.kb;b.Xb=this.Xb;b.Ba=this.Ba};o.toString=function(){return"[thread#"+this.Cc+": instruction stack "+this.g+"; arg stack "+this.N+"]"};function Dc(b,c){var d=Array(~~c);Gc(b.ga,d);b.ga=d}
function Cc(b,c){var d=Array(~~c);Gc(b.D,d);b.D=d}function Ec(b,c){var d=Array(~~c);Gc(b.ma,d);b.ma=d}function Gc(b,c){for(var d=0,f=b.length;d<f;d++)c[d]=b[d]}function Lc(b){if(!(b.Ba<=b.g))return j;return b.D[b.g]instanceof y?(b.g--,Lc(b)):b.D[b.g].a()}var Kc=J("thread"),xc=0;function Mc(){this.Ja=[];this.Kc=B}Mc.prototype=new x;o=Mc.prototype;o.className="ListBuilder";o.append=function(b){this.Ja.push(b)};o.Jc=ba("Kc");o.list=function(){return kb(this.Ja,this.Kc)};o.type=function(){return J("list-builder")};
o.toString=function(){return"ListBuilder:"+this.list().toString()};function Nc(){this.e=j}Nc.prototype=new M;Nc.prototype.className="Append";Nc.prototype.d=function(b){var c=Q(b),b=Hc(b);b instanceof Mc||g(new TypeError);b.append(c)};Nc.prototype.toString=n("(append)");function Oc(){this.e=j}Oc.prototype=new M;Oc.prototype.className="AppendAll";Oc.prototype.d=function(b){var c=Q(b),b=Hc(b);b instanceof Mc||g(new TypeError);c instanceof A||g(new TypeError);c.copyTo(b.Ja)};Oc.prototype.toString=n("(append-all)");
function Pc(){this.e=j}Pc.prototype=new M;Pc.prototype.className="AppendDot";Pc.prototype.d=function(b){var c=Q(b),b=Hc(b);b instanceof Mc||g(new TypeError);b.Jc(c)};Pc.prototype.toString=n("(append-dot)");function Qc(b,c){this.e=j;this.Nc=b;this.Eb=c}Qc.prototype=new M;o=Qc.prototype;o.$b=!0;o.className="Catch";o.pc=n(!0);o.d=function(b){var c=b.error();if(c!==j)b.Pa=j,b.N=this.Eb,this.Nc.f(b,w([c]))};o.toString=function(){return"(catch "+this.Nc+")"};function Rc(b){this.e=j;this.Ic=b}
Rc.prototype=new M;Rc.prototype.className="Close_Instruction";Rc.prototype.d=function(b){C(b,new Sc(this.Ic,b.q))};Rc.prototype.toString=function(){return"(close "+this.Ic+")"};function Tc(b){this.e=j;this.Ec=b}Tc.prototype=new M;Tc.prototype.Ib=!0;Tc.prototype.className="FinallyInvoke";Tc.prototype.d=function(b){this.Ec.f(b,B)};Tc.prototype.toString=function(){return"(finally:"+this.Ec+")"};function Uc(){this.e=j}Uc.prototype=new M;Uc.prototype.className="FinishList";
Uc.prototype.d=function(b){var c=Q(b);c instanceof Mc||g(new TypeError);C(b,c.list())};Uc.prototype.toString=n("(finish-list)");function Ua(b){this.e=j;this.Ua=b}Ua.prototype=new M;Ua.prototype.className="FreeSym";Ua.prototype.d=function(b){C(b,this.Ua.value())};Ua.prototype.toString=function(){return"(free-sym "+this.Ua+")"};Ua.prototype.Za=function(){return"(free-sym "+this.Ua+" -> "+(sym.bound()?""+sym.value():"#unbound#")+")"};function Vc(b){this.e=j;this.Ua=b}Vc.prototype=new M;
Vc.prototype.className="LexSym";Vc.prototype.d=function(b){C(b,this.Ua.t(b.q))};Vc.prototype.toString=function(){return"(lex-sym "+this.Ua+")"};Vc.prototype.Za=function(b){return"(lex-sym "+this.Ua+" -> "+this.Ua.t(b)+")"};function Wc(b){this.e=j;this.Rc=b}Wc.prototype=new M;Wc.prototype.className="Listify";Wc.prototype.d=function(b){C(b,Ic(b,this.Rc))};Wc.prototype.toString=function(){return"(listify "+this.Rc+")"};function E(b){this.e=j;this.Fc=b}E.prototype=new M;E.prototype.className="Literal";
E.prototype.d=function(b){C(b,this.Fc)};E.prototype.toString=function(){return"(literal "+this.Fc+")"};function Xc(){this.e=j}Xc.prototype=new M;Xc.prototype.className="NewList";Xc.prototype.d=function(b){C(b,new Mc)};Xc.prototype.toString=n("(new-list)");function Yc(b){this.e=j;this.Y=b}Yc.prototype=new M;Yc.prototype.className="PopArg";Yc.prototype.d=function(b){Q(b)};Yc.prototype.toString=function(){return"(pop-arg:"+this.Y+")"};function Zc(b,c){this.e=j;this.ld=b;this.i=c}Zc.prototype=new M;
Zc.prototype.Ib=!0;Zc.prototype.className="SetThreadLocal";Zc.prototype.d=function(){this.ld.value=this.i};function $c(b,c){this.e=j;this.Ua=b;this.eb=c}$c.prototype=new M;$c.prototype.className="StackSym";$c.prototype.d=function(b){var c=this.eb;b.N++;if(!(0<=b.N&&b.N<b.aa.length)){var d=Array(~~(b.aa.length*2));Gc(b.aa,d);b.aa=d}b.aa[b.N]=b.Hb[c]};$c.prototype.toString=function(){return"(stack-bound symbol:"+this.Ua+")"};function ad(b){this.e=j;this.Hc=b}ad.prototype=new M;
ad.prototype.className="TableMapper";ad.prototype.d=function(b){var c=Q(b);c instanceof A||g(new TypeError);if(!(c instanceof y)){C(b,c.b());D(b,this);c=c.a();c instanceof A||g(new TypeError);var d=new Yc("map-table-iterator");d.k(this);D(b,d);this.Hc.f(b,c)}};ad.prototype.toString=function(){return"(table-mapper "+this.Hc+")"};function bd(b){this.e=j;this.name=b}bd.prototype=new M;bd.prototype.className="Assign_Lex";function cd(b,c){bd.call(this,b);this.value=c}cd.prototype=new bd;
cd.prototype.className="Assign_Lex_Free";cd.prototype.d=function(b){var c=this.value.value();dd(this.name,b.q,c);C(b,c)};cd.prototype.toString=function(){return"(assign-lex "+this.name+" "+this.value+")"};function ed(b,c){cd.call(this,b,c)}ed.prototype=new cd;ed.prototype.className="Assign_Lex_Free.Intermediate";ed.prototype.d=function(b){dd(this.name,b.q,this.value.value())};function fd(b,c){bd.call(this,b);this.value=c}fd.prototype=new bd;fd.prototype.className="Assign_Lex_Lex";
fd.prototype.d=function(b){var c=this.value.t(b.q);dd(this.name,b.q,c);C(b,c)};fd.prototype.toString=function(){return"(assign-lex "+this.name+" "+this.value+")"};fd.prototype.Za=function(b){return"(assign-lex "+this.name+"--\>"+this.name.t(b)+this.value+"--\>"+this.value.t(b)+")"};function gd(b,c){fd.call(this,b,c)}gd.prototype=new fd;gd.prototype.className="Assign_Lex_Lex.Intermediate";gd.prototype.d=function(b){dd(this.name,b.q,this.value.t(b.q))};function hd(b,c){bd.call(this,b);this.Ya=c}
hd.prototype=new bd;hd.prototype.className="Assign_Lex_Literal";hd.prototype.d=function(b){dd(this.name,b.q,this.Ya);C(b,this.Ya)};hd.prototype.toString=function(){return"(assign-lex "+this.name+" "+this.Ya+")"};function id(b,c){hd.call(this,b,c)}id.prototype=new hd;id.prototype.className="Assign_Lex_Literal.Intermediate";id.prototype.d=function(b){dd(this.name,b.q,this.Ya)};function jd(b){bd.call(this,b)}jd.prototype=new bd;jd.prototype.className="Assign_Lex_Other";
jd.prototype.d=function(b){dd(this.name,b.q,Hc(b))};jd.prototype.toString=function(){return"(assign-lex "+this.name+")"};jd.prototype.Za=function(b){return"(assign-lex "+this.name+" -> "+this.name.t(b)+")"};function kd(b){bd.call(this,b)}kd.prototype=new jd;kd.prototype.className="Assign_Lex_Other.Intermediate";kd.prototype.d=function(b){dd(this.name,b.q,Q(b))};function ld(b,c){bd.call(this,b);this.value=c}ld.prototype=new bd;ld.prototype.className="Assign_Lex_Stack";
ld.prototype.d=function(b){var c=this.value.get(b);dd(this.name,b.q,c);C(b,c)};ld.prototype.toString=function(){return"(assign-lex "+this.name+" "+this.value+")"};ld.prototype.Za=function(b){return"(assign-lex "+this.name+"--\>"+this.name.t(b)+" <-- "+this.value+")"};function md(b,c){ld.call(this,b,c)}md.prototype=new ld;md.prototype.className="Assign_Lex_Stack.Intermediate";md.prototype.d=function(b){dd(this.name,b.q,this.value.get(b))};function nd(b){this.e=j;this.name=b}nd.prototype=new M;
nd.prototype.className="Assign_Free";function od(b,c){nd.call(this,b);this.value=c}od.prototype=new nd;od.prototype.className="Assign_Free_Free";od.prototype.d=function(b){var c=this.value.value();this.name.da(c);C(b,c)};od.prototype.toString=function(){return"(assign-free-free "+this.name+" "+this.value+")"};function pd(b,c){od.call(this,b,c)}pd.prototype=new od;pd.prototype.className="Assign_Free_Free.Intermediate";pd.prototype.d=function(){this.name.da(this.value.value())};
function qd(b,c){nd.call(this,b);this.value=c}qd.prototype=new nd;qd.prototype.className="Assign_Free_Lex";qd.prototype.d=function(b){var c=this.value.t(b.q);this.name.da(c);C(b,c)};qd.prototype.toString=function(){return"(assign-free-lex "+this.name+" "+this.value+")"};function rd(b,c){qd.call(this,b,c)}rd.prototype=new qd;rd.prototype.className="Assign_Free_Lex.Intermediate";rd.prototype.d=function(b){this.name.da(this.value.t(b.q))};function sd(b,c){nd.call(this,b);this.Ya=c}sd.prototype=new nd;
sd.prototype.className="Assign_Free_Literal";sd.prototype.d=function(b){this.name.da(this.Ya);C(b,this.Ya)};sd.prototype.toString=function(){return"(assign-free-literal "+this.name+" "+this.Ya+")"};function td(b,c){sd.call(this,b,c)}td.prototype=new sd;td.prototype.className="Assign_Free_Literal.Intermediate";td.prototype.d=function(){this.name.da(this.Ya)};function ud(b){nd.call(this,b)}ud.prototype=new nd;ud.prototype.className="Assign_Free_Other";ud.prototype.d=function(b){this.name.da(Hc(b))};
ud.prototype.toString=function(){return"(assign-free-other "+this.name+")"};ud.prototype.Za=function(){return"(assign-free-other "+this.name+" -> "+(name.bound()?""+name.value():"#unbound#")+")"};function vd(b){nd.call(this,b)}vd.prototype=new ud;vd.prototype.className="Assign_Free_Other.Intermediate";vd.prototype.d=function(b){this.name.da(Q(b))};function wd(b,c){nd.call(this,b);this.value=c}wd.prototype=new nd;wd.prototype.className="Assign_Free_Stack";
wd.prototype.d=function(b){v=this.value.get(b);this.name.da(v);C(b,v)};wd.prototype.toString=function(){return"(assign-free-stack "+this.name+" "+this.value+")"};function xd(b,c){wd.call(this,b,c)}xd.prototype=new wd;xd.prototype.className="Assign_Free_Stack.Intermediate";xd.prototype.d=function(b){this.name.da(this.value.get(b))};function yd(b){this.e=j;this.name=b}yd.prototype=new M;yd.prototype.className="Assign_Stack";function zd(b,c){yd.call(this,b);this.value=c}zd.prototype=new yd;
zd.prototype.className="Assign_Stack_Free";zd.prototype.d=function(b){var c=this.value.value();this.name.set(b,c);C(b,c)};zd.prototype.toString=function(){return"(assign-free "+this.name+" "+this.value+")"};function Ad(b,c){zd.call(this,b,c)}Ad.prototype=new zd;Ad.prototype.className="Assign_Stack_Free.Intermediate";Ad.prototype.d=function(b){this.name.set(b,this.value.value())};function Bd(b,c){yd.call(this,b);this.value=c}Bd.prototype=new yd;Bd.prototype.className="Assign_Stack_Lex";
Bd.prototype.d=function(b){var c=this.value.t(b.q);this.name.set(b,c);C(b,c)};Bd.prototype.toString=function(){return"(assign-free "+this.name+" "+this.value+")"};function Cd(b,c){Bd.call(this,b,c)}Cd.prototype=new Bd;Cd.prototype.className="Assign_Stack_Lex.Intermediate";Cd.prototype.d=function(b){this.name.set(b,this.value.t(b.q))};function Dd(b,c){yd.call(this,b);this.value=c}Dd.prototype=new yd;Dd.prototype.className="Assign_Stack_Literal";
Dd.prototype.d=function(b){this.name.set(b,this.value);C(b,this.value)};Dd.prototype.toString=function(){return"(assign-free "+this.name+" "+this.value+")"};function Ed(b,c){Dd.call(this,b,c)}Ed.prototype=new Dd;Ed.prototype.className="Assign_Stack_Literal.Intermediate";Ed.prototype.d=function(b){this.name.set(b,this.value)};function Fd(b){yd.call(this,b)}Fd.prototype=new yd;Fd.prototype.className="Assign_Stack_Other";Fd.prototype.d=function(b){this.name.set(b,Hc(b))};
Fd.prototype.toString=function(){return"(assign-stack "+this.name+")"};function Gd(b){yd.call(this,b)}Gd.prototype=new Fd;Gd.prototype.className="Assign_Stack_Other.Intermediate";Gd.prototype.d=function(b){this.name.set(b,Q(b))};function Hd(b,c){yd.call(this,b);this.value=c}Hd.prototype=new yd;Hd.prototype.className="Assign_Stack_Stack";Hd.prototype.d=function(b){var c=this.value.get(b);this.name.set(b,c);C(b,c)};Hd.prototype.toString=function(){return"(assign-free "+this.name+" "+this.value+")"};
function Id(b,c){Hd.call(this,b,c)}Id.prototype=new Hd;Id.prototype.className="Assign_Stack_Stack.Intermediate";Id.prototype.d=function(b){this.name.set(b,this.value.get(b))};function Jd(b,c){this.e=j;this.F=b;this.Oa=Kd(b);this.z=c;this.ka=Kd(c)}Jd.prototype=new M;Jd.prototype.className="Cond";function Kd(b){var c=[];b.m(c);return w(c)}Jd.prototype.d=function(b){Fc(b,Q(b)instanceof y?this.ka:this.Oa)};Jd.prototype.j=function(b){M.prototype.j.call(this,b);this.Oa.j(b);this.ka.j(b)};
Jd.prototype.toString=function(){return"(cond then:"+this.F+", else:"+this.z+")"};function Ld(b,c,d){this.e=j;this.ba=b;this.F=c;this.z=d}t["rainbow.vm.instructions.cond.optimise.If_bound_bound_literal"]=Ld;Ld.prototype=new M;Ld.prototype.className="If_bound_bound_literal";Ld.prototype.d=function(b){this.ba.t(b.q)instanceof y?C(b,this.z):C(b,this.F.t(b.q))};
Ld.addInstructions=function(b,c,d,f){c instanceof T||g(new TypeError);d instanceof T||g(new TypeError);f instanceof V||g(new TypeError);Md(c,d)?f.l instanceof y?c.m(b):b.push(new Nd(c,f.l)):b.push(new Ld(c,d,f.l))};Ld.prototype.toString=function(){return"(if "+this.ba+" "+this.F+" "+this.z+")"};function Nd(b,c){this.e=j;this.Db=b;this.z=c}Nd.prototype=new M;Nd.prototype.className="If_bound_bound_literal.Or";Nd.prototype.d=function(b){var c=this.Db.t(b.q);c instanceof y?C(b,this.z):C(b,c)};
Nd.prototype.toString=function(){return"(if[bbl$or] "+a+" "+a+" "+elseExpr+")"};function Od(b,c,d){this.e=j;this.ba=b;this.F=c;this.ka=Kd(d);this.z=d}t["rainbow.vm.instructions.cond.optimise.If_bound_bound_other"]=Od;Od.prototype=new M;Od.prototype.className="If_bound_bound_other";Od.prototype.d=function(b){this.ba.t(b.q)instanceof y?Fc(b,this.ka):C(b,this.F.t(b.q))};
Od.addInstructions=function(b,c,d,f){c instanceof T||g(new TypeError);d instanceof T||g(new TypeError);Md(c,d)?b.push(new Pd(c,f)):b.push(new Od(c,d,f))};Od.prototype.j=function(b){M.prototype.j.call(this,b);this.ka.j(b)};Od.prototype.toString=function(){return"(if "+this.ba+" "+this.F+" "+this.z+")"};function Pd(b,c){this.e=j;this.Db=b;this.ka=Kd(c);this.z=c}Pd.prototype=new M;Pd.prototype.className="If_bound_bound_other.Or";
Pd.prototype.d=function(b){var c=this.Db.t(b.q);c instanceof y?Fc(b,this.ka):C(b,c)};Pd.prototype.j=function(b){M.prototype.j.call(this,b);this.ka.j(b)};Pd.prototype.toString=function(){return"(if "+a+" "+a+" "+elseExpr+")"};function Qd(b,c,d){this.e=j;this.ba=b;this.F=c;this.z=d}t["rainbow.vm.instructions.cond.optimise.If_bound_literal_literal"]=Qd;Qd.prototype=new M;Qd.prototype.className="If_bound_literal_literal";Qd.prototype.d=function(b){this.ba.t(b.q)instanceof y?C(b,this.z):C(b,this.F)};
Qd.prototype.toString=function(){return"(if "+this.ba+" "+this.F+" "+this.z+")"};Qd.addInstructions=function(b,c,d,f){f instanceof V||g(new TypeError);c instanceof T||g(new TypeError);b.push(new Qd(c,d,f.l))};function Rd(b,c,d){this.e=j;this.ba=b;this.F=c;this.Oa=Kd(c);this.z=d}t["rainbow.vm.instructions.cond.optimise.If_bound_other_literal"]=Rd;Rd.prototype=new M;Rd.prototype.className="If_bound_other_literal";Rd.prototype.d=function(b){this.ba.t(b.q)instanceof y?C(b,this.z):Fc(b,this.Oa)};
Rd.prototype.toString=function(){return"(if "+this.ba+" "+this.F+" "+this.z+")"};Rd.prototype.j=function(b){M.prototype.j.call(this,b);this.Oa.j(b)};Rd.addInstructions=function(b,c,d,f){c instanceof T||g(new TypeError);f instanceof V||g(new TypeError);b.push(new Rd(c,d,f.l))};function Sd(b,c,d){this.e=j;this.ba=b;this.F=c;this.Oa=Kd(c);this.z=d;this.ka=Kd(d)}t["rainbow.vm.instructions.cond.optimise.If_bound_other_other"]=Sd;Sd.prototype=new M;Sd.prototype.className="If_bound_other_other";
Sd.prototype.d=function(b){this.ba.t(b.q)instanceof y?Fc(b,this.ka):Fc(b,this.Oa)};Sd.prototype.toString=function(){return"(if "+this.ba+" "+this.F+" "+this.z+")"};Sd.prototype.j=function(b){M.prototype.j.call(this,b);this.Oa.j(b)};Sd.addInstructions=function(b,c,d,f){c instanceof T||g(new TypeError);b.push(new Sd(c,d,f))};function Td(b,c){this.e=j;this.ka=Kd(c);this.F=b;this.z=c}t["rainbow.vm.instructions.cond.optimise.If_other_bound_other"]=Td;Td.prototype=new M;Td.prototype.className="If_other_bound_other";
Td.prototype.d=function(b){Q(b)instanceof y?Fc(b,this.ka):C(b,this.F.t(b.q))};Td.prototype.toString=function(){return"(if ? "+this.F+" "+this.z+")"};Td.prototype.j=function(b){M.prototype.j.call(this,b);this.ka.j(b)};Td.addInstructions=function(b,c,d,f){c.m(b);d instanceof T||g(new TypeError);b.push(new Td(d,f))};function Ud(b,c){this.e=j;this.Oa=Kd(b);this.F=b;this.z=c}t["rainbow.vm.instructions.cond.optimise.If_other_other_literal"]=Ud;Ud.prototype=new M;Ud.prototype.className="If_other_other_literal";
Ud.prototype.d=function(b){Q(b)instanceof y?C(b,this.z):Fc(b,this.Oa)};Ud.prototype.toString=function(){return"(if ? "+this.F+" "+this.z+")"};Ud.prototype.j=function(b){M.prototype.j.call(this,b);this.Oa.j(b)};Ud.addInstructions=function(b,c,d,f){f instanceof V||g(new TypeError);c.m(b);b.push(new Ud(d,f.l))};function Vd(b,c){this.e=j;this.F=b;this.z=c}t["rainbow.vm.instructions.cond.optimise.If_other_stack_literal"]=Vd;Vd.prototype=new M;Vd.prototype.className="If_other_stack_literal";
Vd.prototype.d=function(b){Q(b)instanceof y?C(b,this.z):C(b,this.F.get(b))};Vd.prototype.toString=function(){return"(if ? "+this.F+" "+this.z+")"};Vd.addInstructions=function(b,c,d,f){f instanceof V||g(new TypeError);c.m(b);d instanceof W||g(new TypeError);b.push(new Vd(d,f.l))};function Wd(b,c){this.e=j;this.F=b;this.ka=Kd(c);this.z=c}t["rainbow.vm.instructions.cond.optimise.If_other_stack_other"]=Wd;Wd.prototype=new M;Wd.prototype.className="If_other_stack_other";
Wd.prototype.d=function(b){Q(b)instanceof y?Fc(b,this.ka):C(b,this.F.get(b))};Wd.prototype.toString=function(){return"(if ? "+this.F+" "+this.z+")"};Wd.prototype.j=function(b){M.prototype.j.call(this,b);this.ka.j(b)};Wd.addInstructions=function(b,c,d,f){c.m(b);d instanceof W||g(new TypeError);b.push(new Wd(d,f))};function Xd(b,c,d){this.ba=b;this.F=c;this.z=d}t["rainbow.vm.instructions.cond.optimise.If_stack_literal_free"]=Xd;Xd.prototype=new M;Xd.prototype.className="If_stack_literal_free";
Xd.prototype.d=function(b){this.ba.get(b)instanceof y?C(b,this.z.value()):C(b,this.F)};Xd.prototype.toString=function(){return"(if "+this.ba+" "+this.F+" "+this.z+")"};Xd.addInstructions=function(b,c,d,f){c instanceof W||g(new TypeError);f instanceof V||g(new TypeError);f=f.l;f instanceof L||g(new TypeError);b.push(new Xd(c,d,f))};function Yd(b,c,d){this.e=j;this.ba=b;this.F=c;this.z=d}t["rainbow.vm.instructions.cond.optimise.If_stack_stack_literal"]=Yd;Yd.prototype=new M;Yd.prototype.className="If_stack_stack_literal";
Yd.prototype.d=function(b){this.ba.get(b)instanceof y?C(b,this.z):C(b,this.F.get(b))};Yd.prototype.toString=function(){return"(if "+this.ba+" "+this.F+" "+this.z+")"};Yd.addInstructions=function(b,c,d,f){c instanceof W||g(new TypeError);d instanceof W||g(new TypeError);f instanceof V||g(new TypeError);Zd(c,d)?f.l instanceof y?c.m(b):b.push(new $d(c,f.l)):b.push(new Yd(c,d,f.l))};function $d(b,c){this.e=j;this.Db=b;this.z=c}$d.prototype=new M;$d.prototype.className="If_stack_stack_literal.Or";
$d.prototype.d=function(b){var c=this.Db.get(b);c instanceof y?C(b,this.z):C(b,c)};$d.prototype.toString=function(){return"(if[ssl$or] "+a+" "+a+" "+elseExpr+")"};function ae(b){this.e=j;this.p=b}ae.prototype=new M;o=ae.prototype;o.la=!0;o.className="Invoke_0.Lex";o.d=function(b){this.p.t(b.q).f(b,B)};o.toString=function(){return"(invoke "+this.p+")"};o.oa=function(b){return this.p.t(b.q)};function be(b){this.e=j;this.p=b}be.prototype=new M;o=be.prototype;o.la=!0;o.className="Invoke_0.Free";
o.d=function(b){this.p.value().f(b,B)};o.toString=function(){return"(invoke "+this.p+")"};o.oa=function(){return this.p.value()};function ce(){this.e=j}ce.prototype=new M;o=ce.prototype;o.la=!0;o.className="Invoke_0.Other";o.d=function(b){Q(b).f(b,B)};o.toString=n("(invoke <0>)");o.oa=function(b){return Hc(b)};function de(b){this.e=j;this.p=b}de.prototype=new M;o=de.prototype;o.la=!0;o.className="Invoke_1.Lex";o.d=function(b){this.p.t(b.q).f(b,new A(Q(b),B))};
o.toString=function(){return"(invoke "+this.p+" <1>)"};o.oa=function(b){return this.p.t(b.q)};function ee(b){this.e=j;this.p=b}ee.prototype=new M;o=ee.prototype;o.la=!0;o.className="Invoke_1.Free";o.d=function(b){this.p.value().f(b,new A(Q(b),B))};o.toString=function(){return"(invoke "+this.p+" <1>)"};o.oa=function(){return this.p.value()};function fe(){this.e=j}fe.prototype=new M;o=fe.prototype;o.la=!0;o.className="Invoke_1.Other";o.d=function(b){Q(b).f(b,new A(Q(b),B))};o.toString=n("(invoke <1>)");
o.oa=function(b){return Hc(b)};function ge(b){this.e=j;this.p=b}ge.prototype=new M;o=ge.prototype;o.la=!0;o.className="Invoke_2.Lex";o.d=function(b){var c=Q(b),d=Q(b);this.p.t(b.q).f(b,new A(d,new A(c,B)))};o.toString=function(){return"(invoke "+this.p+" <2>)"};o.Za=function(b){return"(invoke "+this.p+" -> "+this.p.t(b)+" <2>)"};o.oa=function(b){return this.p.t(b.q)};function he(b){this.e=j;this.p=b}he.prototype=new M;o=he.prototype;o.la=!0;o.className="Invoke_2.Free";
o.d=function(b){var c=Q(b),d=Q(b);this.p.value().f(b,new A(d,new A(c,B)))};o.toString=function(){return"(invoke_2:free "+this.p+" <2>)"};o.Za=function(){return"(invoke_2:free "+this.p+" -> "+this.p.value()+" <2>)"};o.oa=function(){return this.p.value()};function ie(){this.e=j}ie.prototype=new M;o=ie.prototype;o.la=!0;o.className="Invoke_2.Other";o.d=function(b){var c=Q(b),d=Q(b),f=Q(b);try{c.f(b,new A(f,new A(d,B)))}catch(h){h instanceof Error||g(h),ya(h)}};o.toString=n("(invoke <2>)");o.oa=function(b){return Hc(b)};
function je(b){this.e=j;this.p=b}je.prototype=new M;o=je.prototype;o.la=!0;o.className="Invoke_3.Lex";o.d=function(b){var c=Q(b),d=Q(b),f=Q(b);this.p.t(b.q).f(b,new A(f,new A(d,new A(c,B))))};o.toString=function(){return"(invoke "+this.p+" <3>)"};o.oa=function(b){return this.p.t(b.q)};function ke(b){this.e=j;this.p=b}ke.prototype=new M;o=ke.prototype;o.la=!0;o.className="Invoke_3.Free";o.d=function(b){var c=Q(b),d=Q(b),f=Q(b);this.p.value().f(b,new A(f,new A(d,new A(c,B))))};
o.toString=function(){return"(invoke_3:free "+this.p+" <3>)"};o.oa=function(){return this.p.value()};function le(){this.e=j}le.prototype=new M;o=le.prototype;o.la=!0;o.className="Invoke_3.Other";o.d=function(b){var c=Q(b),d=Q(b),f=Q(b),h=Q(b);c.f(b,new A(h,new A(f,new A(d,B))))};o.toString=n("(invoke <3>)");o.oa=function(b){return Hc(b)};function me(b,c){this.e=j;this.p=b;this.$a=c}me.prototype=new M;o=me.prototype;o.la=!0;o.className="Invoke_N.Lex";o.d=function(b){this.p.t(b.q).f(b,Ic(b,this.$a))};
o.toString=function(){return"(invoke "+this.p+" <"+this.$a+">)"};o.oa=function(b){return this.p.t(b.q)};function ne(b,c){this.e=j;this.p=b;this.$a=c}ne.prototype=new M;o=ne.prototype;o.la=!0;o.className="Invoke_N.Free";o.d=function(b){this.p.value().f(b,Ic(b,this.$a))};o.toString=function(){return"(invoke "+this.p+" <"+this.$a+">)"};o.oa=function(){return this.p.value()};function Ia(b){this.e=j;this.$a=b}Ia.prototype=new M;o=Ia.prototype;o.la=!0;o.className="Invoke_N.Other";
o.d=function(b){Q(b).f(b,Ic(b,this.$a))};o.toString=function(){return"(invoke <"+this.$a+">)"};o.oa=function(b){return Hc(b)};function W(b,c){this.name=b;this.eb=c}W.prototype=new x;o=W.prototype;o.className="StackSymbol";o.get=function(b){return b.Hb[this.eb]};o.set=function(b,c){b.ma[b.g][this.eb]=c};o.m=function(b){b.push(new $c(this.name,this.eb))};o.type=function(){return J("stack-symbol")};o.toString=function(){return this.name.toString()};
function Zd(b,c){return b.name===c.name&&b.eb===c.eb}o.Q=function(b,c,d){return Zd(this,b)?c:d<this.eb?new W(this.name,this.index-1):this};function T(b,c,d){this.La=c;this.index=d;this.name=b}T.prototype=new x;o=T.prototype;o.className="BoundSymbol";function dd(b,c,d){c.yb(b.La).set(b.index,d)}o.t=function(b){for(var c=this.La;0<c;)b=b.parent,c--;return b.bb[this.index]};o.m=function(b){b.push(new Vc(this))};o.type=function(){return oe};o.toString=function(){return this.name.toString()};
function Md(b,c){return b.La===c.La&&b.name===c.name&&b.index===c.index}o.L=function(b){return b<=this.La?new T(this.name,this.La+1,this.index):this};function pe(b){return new T(b.name,b.La-1,b.index)}o.R=function(b,c,d,f,h){return Md(this,b)?c:d?(this.La===0&&g(new r("can't unnest "+this+", looking for "+b+" to inline with "+c)),pe(this)):f===this.La&&h<this.index?new T(this.name,this.La,this.index-1):this};o.j=function(b){b.oc(this)};
o.W=function(b){b=b[this.name.name()];if(b===i)return pe(this);else if(b===this.index)return new W(this.name,b);else g(new r("error: parameter index mismatch: expected "+b+", got "+this.index))};var oe=J("bound-symbol");function qe(b){this.A=this.name=j;this.Ma=b}qe.prototype=new x;o=qe.prototype;o.className="SingleAssignment";o.Ia=function(b){this.name===j?b instanceof L||b instanceof T?this.name=b:g(new r("assign: can't assign to "+b)):this.A===j?this.A=b:this.Ma.Ia(b)};
o.toString=function(){return""+this.name+" "+this.A};o.m=function(b){re(this,b,!1);this.Ma.m(b)};
function re(b,c,d){if(b.name instanceof T){var f=b.name,b=b.A;b instanceof T?d?c.push(new fd(f,b)):c.push(new gd(f,b)):b instanceof W?d?c.push(new ld(f,b)):c.push(new md(f,b)):b instanceof L?d?c.push(new cd(f,b)):c.push(new ed(f,b)):b.Da()?d?c.push(new hd(f,b)):c.push(new id(f,b)):b instanceof ue?(b=b.Bb,d?c.push(new hd(f,b)):c.push(new id(f,b))):(b.m(c),d?c.push(new jd(f)):c.push(new kd(f)))}else b.name instanceof W?(f=b.name,b=b.A,b instanceof T?d?c.push(new Bd(f,b)):c.push(new Cd(f,b)):b instanceof
W?d?c.push(new Hd(f,b)):c.push(new Id(f,b)):b instanceof L?d?c.push(new zd(f,b)):c.push(new Ad(f,b)):b.Da()?d?c.push(new Dd(f,b)):c.push(new Ed(f,b)):b instanceof ue?(b=b.Bb,d?c.push(new Dd(f,b)):c.push(new Ed(f,b))):(b.m(c),d?c.push(new Fd(f)):c.push(new Gd(f)))):b.name instanceof L?(f=b.name,b=b.A,b instanceof T?d?c.push(new qd(f,b)):c.push(new rd(f,b)):b instanceof W?d?c.push(new wd(f,b)):c.push(new xd(f,b)):b instanceof L?d?c.push(new od(f,b)):c.push(new pd(f,b)):b.Da()?d?c.push(new sd(f,b)):
c.push(new td(f,b)):b instanceof ue?(b=b.Bb,d?c.push(new sd(f,b)):c.push(new td(f,b))):(b.m(c),d?c.push(new ud(f)):c.push(new vd(f)))):g(new r("what kind of symbol is "+b.name+"??"))}o.type=function(){return J("assignment")};o.ea=n(!0);o.V=function(){return this.A instanceof Y?ve(this.A)||this.Ma.V():this.A.V()||this.Ma.V()};
o.R=function(b,c,d,f,h){var k=new qe(j);this.name instanceof T&&Md(b,this.name)&&g(new r("Can't inline "+b+" -> "+c+"; assignment"));k.name=this.name;k.A=this.A.R(b,c,d,f,h);k.Ma=this.yd(b,c,d,f,h);return k};o.Q=function(b,c,d){var f=new qe(j);this.name instanceof W&&Zd(b,this.name)&&g(new r("Can't inline "+b+" -> "+c+"; assignment"));f.name=this.name;f.A=this.A.Q(b,c,d);f.Ma=this.xd(b,c,d);return f};o.L=function(b){var c=new qe(j);c.name=this.name.L(b);c.A=this.A.L(b);c.Ma=this.Ma.L(b);return c};
o.W=function(b){var c=new qe(j);c.name=this.name.W(b);c.A=this.A.W(b);b=this.Ma.W(b);b instanceof qe||g(new TypeError);c.Ma=b;return c};o.j=function(b){b.sa(this);this.name.j(b);this.A.j(b);this.Ma.j(b);b.Fa(this)};function we(){qe.call(this,j)}we.prototype=new qe(j);o=we.prototype;o.className="LastAssignment";o.Ia=function(b){this.name===j?b instanceof L||b instanceof T?this.name=b:g(new r("assign: can't assign to "+b)):this.A===j?this.A=b:g(new r("assign: error: unexpected "+b))};
o.toString=function(){return""+this.name+" "+this.A};o.m=function(b){re(this,b,!0)};o.V=function(){return this.A instanceof Y?ve(this.A):this.A.V()};o.R=function(b,c,d,f,h){var k=new we;this.name instanceof T&&Md(b,this.name)&&g(new r("Can't inline "+b+" -> "+c+"; assignment"));k.name=this.name.R(b,c,d,f,h);k.A=this.A.R(b,c,d,f,h);return k};
o.Q=function(b,c,d){var f=new we;this.name instanceof W&&Zd(b,this.name)&&g(new r("Can't inline "+b+" -> "+c+"; assignment"));f.name=this.name.Q(b,c,d);f.A=this.A.Q(b,c,d);return f};o.L=function(b){var c=new we;c.name=this.name.L(b);c.A=this.A.L(b);return c};o.W=function(b){var c=new we;c.name=this.name.W(b);c.A=this.A.W(b);return c};o.j=function(b){b.sa(this);this.name.j(b);this.A.j(b);b.Fa(this)};function xe(){this.Z=j}xe.prototype=new x;o=xe.prototype;o.className="Assignment";o.type=function(){return J("assignment")};
o.Ia=function(b){this.Z.Ia(b)};o.m=function(b){this.Z.m(b)};o.toString=function(){return"(assign "+this.Z+")"};o.ea=function(b){return this.Z.ea(b)};o.V=function(){return this.Z.V()};o.R=function(b,c,d,f,h){var k=new xe;k.Z=this.Z.R(b,c,d,f,h);return k};o.Q=function(b,c,d){var f=new xe;f.Z=this.Z.Q(b,c,d);return f};o.L=function(b){var c=new xe;c.Z=this.Z.L(b);return c};o.j=function(b){b.sa(this);this.Z.j(b);b.Fa(this)};
o.W=function(b){var c=new xe,b=this.Z.W(b);b instanceof qe||g(new TypeError);c.Z=b;return c};function V(){this.l=j}V.prototype=new x;o=V.prototype;o.Ga=!0;o.className="Else";o.type=function(){return J("else-clause")};o.add=function(b){g(new r("Internal error: if clause: unexpected extra condition: "+b))};o.Ia=function(b){this.l===j?this.l=b:g(new r("Internal error: if clause: unexpected: "+b))};o.m=function(b){this.l.m(b)};o.reduce=function(){return this};o.toString=function(){return""+this.l};
o.ea=function(b){return this.l.ea(b)};o.V=function(){return this.l instanceof Y?ve(this.l):this.l.V()};o.R=function(b,c,d,f,h){var k=new V;k.l=this.l.R(b,c,d,f,h).reduce();return k};o.Q=function(b,c,d){var f=new V;f.l=this.l.Q(b,c,d).reduce();return f};o.L=function(b){var c=new V;c.l=this.l.L(b);return c};o.W=function(b){var c=new V;c.l=this.l.W(b);return c};o.j=function(b){b.sa(this);this.l.j(b);b.Fa(this)};o.ic=function(){return"_"+ye(this.l)};function ze(){this.X=j}ze.prototype=new x;o=ze.prototype;
o.className="IfClause";o.type=function(){return Ae};o.append=function(b){this.X!==j?this.X.add(b):this.X=b};o.reduce=function(){var b=this.X.reduce();b.Ga||g(new TypeError);this.X=b;return b instanceof V?b.l:this};o.Ia=function(b){this.X.Ia(b)};o.m=function(b){this.X.m(b)};o.toString=function(){return"(if "+this.X+")"};o.ea=function(b){return this.X.ea(b)};o.V=function(){return this.X.V()};o.R=function(b,c,d,f,h){var k=new ze,b=this.X.R(b,c,d,f,h).reduce();b.Ga||g(new TypeError);k.X=b;return k};
o.Q=function(b,c,d){var f=new ze,b=this.X.Q(b,c,d).reduce();b.Ga||g(new TypeError);f.X=b;return f};o.L=function(b){var c=new ze,b=this.X.L(b);b.Ga||g(new TypeError);c.X=b;return c};o.W=function(b){var c=new ze,b=this.X.W(b);b.Ga||g(new TypeError);c.X=b;return c};o.j=function(b){b.sa(this);this.X.j(b);b.Fa(this)};o.P=function(){var b=this.X;b instanceof Be||g(new TypeError);return b.P};var Ae=J("if-clause");function Be(){this.next=this.P=this.l=j}Be.prototype=new x;o=Be.prototype;o.Ga=!0;
o.className="IfThen";o.type=function(){return J("if-then-clause")};o.add=function(b){this.next!==j?this.next.add(b):this.next=b};o.Ia=function(b){this.l===j?this.l=b:this.P===j?this.P=b:this.next.Ia(b)};
o.m=function(b){var c=this.ic(),d="rainbow.vm.instructions.cond.optimise.If"+c;try{if(d in Ce){var f=Ce[d];f===j?this.qc(b,c):f(b,this.l,this.P,this.next)}else{var h=t[d];if(h===i)Ce[d]=j;else{var k=h.addInstructions;k===i&&g(new r("couldn't find handler method 'addInstructions(List,ArcObject,ArcObject,ArcObject) on "+d));Ce[d]=k}this.m(b)}}catch(p){p instanceof Error||g(p),g(new r("Couldn't instantiate "+d+": "+p,p))}};o.qc=function(b){this.l.m(b);b.push(new Jd(this.P,this.next))};
o.reduce=function(){var b=this.next.reduce();b.Ga||g(new TypeError);this.next=b;if(this.l instanceof y)return this.next;else{!(this.l instanceof T)||!(this.P instanceof T)||!(this.next instanceof V)?b=!1:(b=this.next,b=Md(this.l,this.P)&&b.l instanceof y);if(!b)!(this.l instanceof W)||!(this.P instanceof W)||!(this.next instanceof V)?b=!1:(b=this.next,b=Zd(this.l,this.P)&&b.l instanceof y);return b?(b=new V,b.Ia(this.l),b):this}};o.toString=function(){return""+this.l+" "+this.P+" "+this.next};
o.ea=function(b){return this.l.ea(b)||this.P.ea(b)||this.next.ea(b)};o.V=function(){return this.l instanceof Y&&ve(this.l)?!0:this.P instanceof Y&&ve(this.P)?!0:this.l.V()||this.P.V()||this.next.V()};o.R=function(b,c,d,f,h){var k=new Be;k.l=this.l.R(b,c,d,f,h).reduce();k.P=this.P.R(b,c,d,f,h).reduce();b=this.next.R(b,c,d,f,h).reduce();b.Ga||g(new TypeError);k.next=b;return k};
o.Q=function(b,c,d){var f=new Be;f.l=this.l.Q(b,c,d).reduce();f.P=this.P.Q(b,c,d).reduce();b=this.next.Q(b,c,d).reduce();b.Ga||g(new TypeError);f.next=b;return f};o.L=function(b){var c=new Be;c.l=this.l.L(b);c.P=this.P.L(b);b=this.next.L(b);b.Ga||g(new TypeError);c.next=b;return c};o.W=function(b){var c=new Be;c.l=this.l.W(b);c.P=this.P.W(b);b=this.next.W(b);b.Ga||g(new TypeError);c.next=b;return c};o.j=function(b){b.sa(this);this.l.j(b);this.P.j(b);this.next.j(b);b.Fa(this)};
o.ic=function(){var b="";b+="_";b+=ye(this.l);b+="_";b+=ye(this.P);this.next instanceof V?(b+="_",b+=ye(this.next.l)):b+="_other";return b};var Ce={};function ue(b){this.Bb=b}ue.prototype=new x;o=ue.prototype;o.className="Quotation";o.m=function(b){b.push(new E(this.Bb))};o.type=function(){return J("quotation")};o.t=m("Bb");o.toString=function(){return"'"+this.Bb};function De(b){this.w=b;this.Wb={}}De.prototype=new x;o=De.prototype;o.className="Invocation";o.type=function(){return J("if-then-clause")};
o.toString=function(){return(this.w.a()instanceof Y?Ee(Fe(this.w)):this.w).toString()};o.m=function(b){var c;this.w.ha()===1&&this.w.a()instanceof Ge?(He(this.w.a(),b),c=!0):c=!1;c||Ie(this,b)||this.qc(b)};
o.reduce=function(){if(this.w.bc(1)&&this.w.a()instanceof Y){var b=this.w.a(),c=b.v;if(c.M()||!(c.a()instanceof L))return this;var c=c.a(),d=this.w.b().a();if(b.hb(c,d)){try{var f=b.jb(c,d,!0)}catch(h){h instanceof Error||g(h),g(new r("couldn't curry "+c+"->"+d+" for "+b+" in expression "+this+": "+h,h))}return(new De(new A(f,this.w.b().b()))).reduce()}}return this};
function Ie(b,c){for(var d="",f=b.w;!(f instanceof y);)d+="_",d+=ye(f.a()),f=f.b(),f instanceof A||g(new TypeError);d="rainbow.vm.instructions.invoke.optimise.Invoke"+d;if(d in b.Wb){f=b.Wb[d];if(f===j)return!1;try{var h=new f(b.w),k=b.w.b();for(k instanceof A||g(new TypeError);!(k instanceof y);)b.ic(k.a())==="other"&&k.a().m(c),k=k.b(),k instanceof A||g(new TypeError);b.ic(b.w.a())==="other"&&b.w.a().m(c);c.push(h);return!0}catch(p){p instanceof Error||g(p),g(new r("couldn't create optimiser "+
d,p))}}else{h=t[d];if(h===i)return b.Wb[d]=j,!1;b.Wb[d]=h;return Ie(b,c)}}function ye(b){return b instanceof T?"bound":b instanceof L?"free":b instanceof W?"stack":b.Da()?"literal":b instanceof ue?"quote":"other"}
o.qc=function(b){switch(this.w.ha()){case 1:var c=this.w.a();c instanceof T?b.push(new ae(c)):c instanceof L?b.push(new be(c)):(c.m(b),b.push(new ce));break;case 2:c=this.w.a();this.w.b().a().m(b);c instanceof T?b.push(new de(c)):c instanceof L?b.push(new ee(c)):(c.m(b),b.push(new fe));break;case 3:var c=this.w.a(),d=this.w.b().a(),f=this.w.b().b().a();d.m(b);f.m(b);c instanceof T?b.push(new ge(c)):c instanceof L?b.push(new he(c)):(c.m(b),b.push(new ie));break;case 4:var c=this.w.a(),d=this.w.b().a(),
f=this.w.b().b().a(),h=this.w.b().b().b().a();d.m(b);f.m(b);h.m(b);c instanceof T?b.push(new je(c)):c instanceof L?b.push(new ke(c)):(c.m(b),b.push(new le));break;default:c=this.w.a();d=this.w.b();d instanceof A||g(new TypeError);for(f=d.ha();!(d instanceof y);)d.a().m(b),d=d.b(),d instanceof A||g(new TypeError);c instanceof T?b.push(new me(c,f)):c instanceof L?b.push(new ne(c,f)):(c.m(b),b.push(new Ia(f)))}return!0};
o.ea=function(b){for(var c=this.w;!(c instanceof y);){if(c.a().ea(b))return!0;c=c.b();c instanceof A||g(new TypeError)}return!1};o.V=function(){for(var b=this.w;!(b instanceof y);){if(b.a()instanceof Y){if(ve(b.a()))return!0}else if(b.a().V())return!0;b=b.b();b instanceof A||g(new TypeError)}return!1};
o.R=function(b,c,d,f,h){for(var k=this.w,p=[];!(k instanceof y);){try{p.push(k.a().R(b,c,d,f,h))}catch(q){q instanceof Error||g(q),g(new r("couldn't inline "+b+"->"+c+"(unnest:"+d+";nesting:"+f+") in "+this+" : "+q,q))}k=k.b();k instanceof A||g(new TypeError)}return new De(w(p))};o.Q=function(b,c,d){for(var f=this.w,h=[];!(f instanceof y);){try{h.push(f.a().Q(b,c,d))}catch(k){k instanceof Error||g(k),g(new r("couldn't inline "+b+"->"+c+") in "+this+" : "+k,k))}f=f.b();f instanceof A||g(new TypeError)}return new De(w(h))};
o.L=function(b){for(var c=this.w,d=[];!(c instanceof y);)d.push(c.a().L(b)),c=c.b(),c instanceof A||g(new TypeError);return new De(w(d))};o.W=function(b){for(var c=this.w,d=[];!(c instanceof y);)d.push(c.a().W(b)),c=c.b(),c instanceof A||g(new TypeError);return new De(w(d))};o.j=function(b){b.sa(this);for(var c=this.w;!(c instanceof y);)c.a().j(b),c=c.b(),c instanceof A||g(new TypeError);b.Fa(this)};function Je(b){this.Ea=b}Je.prototype=new x;o=Je.prototype;o.className="QuasiQuotation";o.type=function(){return J("quasiquotation")};
o.m=function(b){Ke(this,b,this.Ea,1)};o.toString=function(){return"`"+this.Ea};function Le(b){var c=[];Me(b,c,b.Ea,1);return c}function Me(b,c,d,f){if(Z(d))f===1?c.push(d.b().a()):Me(b,c,d.b().a(),f-1);else if(Ne(d))f===1?c.push(d.b().a()):Me(b,c,d.b().a(),f-1);else if(Oe(d))Me(b,c,d.b().a(),f+1);else if(!d.M())for(;!d.M();)if(Z(d)||Oe(d))Me(b,c,d,f),d=d.b().b();else{var h=d.a(),d=d.b();Ne(h)?Me(b,c,h,f):(Z(h)||Oe(h)||Pe(h))&&Me(b,c,h,f)}}
function Ke(b,c,d,f){if(Z(d))f===1?d.b().a().m(c):(c.push(new E(Qe)),Ke(b,c,d.b().a(),f-1),c.push(new Wc(2)));else if(Ne(d))f===1?(d.b().a().m(c),c.push(new Oc)):(c.push(new E(Re)),Ke(b,c,d.b().a(),f-1),c.push(new Wc(2)),c.push(new Nc));else if(Oe(d))c.push(new E(Se)),Ke(b,c,d.b().a(),f+1),c.push(new Wc(2));else if(d.M())c.push(new E(d));else{for(c.push(new Xc);!d.M();)if(Z(d)||Oe(d))Ke(b,c,d,f),d=d.b().b(),c.push(new Pc);else{var h=d.a(),d=d.b();Ne(h)?Ke(b,c,h,f):(Z(h)||Oe(h)||Pe(h)?Ke(b,c,h,f):
c.push(new E(h)),c.push(new Nc))}d instanceof y||(c.push(new E(d)),c.push(new Pc));c.push(new Uc)}}function Te(b,c){return b instanceof A&&b.uc(c)&&b.b().b()instanceof y}function Z(b){return Te(b,Qe)}function Ne(b){return Te(b,Re)}function Oe(b){return Te(b,Se)}function Pe(b){return b instanceof A}o.ea=function(b){for(var c=Le(this),d=0,f=c.length;d<f;d++)if(c[d].ea(b))return!0;return!1};o.V=function(){for(var b=Le(this),c=0,d=b.length;c<d;c++){var f=b[c];if(f instanceof Y){if(ve(f))return!0}else if(f.V())return!0}return!1};
o.R=function(b,c,d,f,h){return new Je(Ue(b,c,d,f,h,this.Ea,1))};
function Ue(b,c,d,f,h,k,p){if(Z(k))return p===1?w([Qe,k.b().a().R(b,c,d,f,h)]):w([Qe,Ue(b,c,d,f,h,k.b().a(),p-1)]);else if(Ne(k))return p===1?w([Re,k.b().a().R(b,c,d,f,h)]):w([Re,Ue(b,c,d,f,h,k.b().a(),p-1)]);else if(Oe(k))return w([Se,Ue(b,c,d,f,h,k.b().a(),p+1)]);else if(k.M())return k;for(var q=[],z=B;!k.M();)if(Z(k)||Oe(k))z=Ue(b,c,d,f,h,k,p),k=k.b().b();else{var K=k.a(),k=k.b();Ne(K)?q.push(Ue(b,c,d,f,h,K,p)):Z(K)||Oe(K)||Pe(K)?q.push(Ue(b,c,d,f,h,K,p)):q.push(K)}k instanceof y||(z=k);return kb(q,
z)}o.Q=function(b,c,d){return new Je(Ve(b,c,d,this.Ea,1))};
function Ve(b,c,d,f,h){if(Z(f))return h===1?w([Qe,f.b().a().Q(b,c,d)]):w([Qe,Ue(b,c,d,f.b().a(),h-1)]);else if(Ne(f))return h===1?w([Re,f.b().a().Q(b,c,d)]):w([Re,Ve(b,c,d,f.b().a(),h-1)]);else if(Oe(f))return w([Se,Ve(b,c,d,f.b().a(),h+1)]);else if(f.M())return f;for(var k=[],p=B;!f.M();)if(Z(f)||Oe(f))p=Ve(b,c,d,f,h),f=f.b().b();else{var q=f.a(),f=f.b();Ne(q)?k.push(Ve(b,c,d,q,h)):Z(q)||Oe(q)||Pe(q)?k.push(Ve(b,c,d,q,h)):k.push(q)}f instanceof y||(p=f);return kb(k,p)}
o.L=function(b){return new Je(We(b,this.Ea,1))};function We(b,c,d){if(Z(c))return d===1?w([Qe,c.b().a().L(b)]):w([Qe,We(b,c.b().a(),d-1)]);else if(Ne(c))return d===1?w([Re,c.b().a().L(b)]):w([Re,We(b,c.b().a(),d-1)]);else if(Oe(c))return w([Se,We(b,c.b().a(),d+1)]);else if(c.M())return c;for(var f=[],h=B;!c.M();)if(Z(c)||Oe(c))h=We(b,c,d),c=c.b().b();else{var k=c.a(),c=c.b();Ne(k)||Z(k)||Oe(k)||Pe(k)?f.push(We(b,k,d)):f.push(k)}c instanceof y||(h=c);return kb(f,h)}
o.W=function(b){return new Je(Xe(b,this.Ea,1))};function Xe(b,c,d){if(Z(c))return d===1?w([Qe,c.b().a().W(b)]):w([Qe,Xe(b,c.b().a(),d-1)]);else if(Ne(c))return d===1?w([Re,c.b().a().W(b)]):w([Re,Xe(b,c.b().a(),d-1)]);else if(Oe(c))return w([Se,Xe(b,c.b().a(),d+1)]);else if(c.M())return c;for(var f=[],h=B;!c.M();)if(Z(c)||Oe(c))h=Xe(b,c,d),c=c.b().b();else{var k=c.a(),c=c.b();Ne(k)||Z(k)||Oe(k)||Pe(k)?f.push(Xe(b,k,d)):f.push(k)}c instanceof y||(h=c);return kb(f,h)}
o.j=function(b){b.sa(this);for(var c=Le(this),d=0,f=c.length;d<f;d++)c[d].j(b);b.Fa(this)};function Ye(){}o=Ye.prototype;o.sa=l();o.Fa=l();o.Sb=function(b){this.sa(b)};o.oc=function(b){this.sa(b)};o.Rb=function(b){this.sa(b)};o.Yb=function(b){this.Fa(b)};function Ze(b){this.Lb=new A(b,B)}Ze.prototype=new Ye;Ze.prototype.Sb=function(b){b.k(this.Lb.a());this.Lb=new A(b,this.Lb)};Ze.prototype.Yb=function(){this.Lb=this.Lb.b()};function $e(){this.rb=[];this.Ac=[];this.ob=0;this.zc=-1}$e.prototype=new Ye;
o=$e.prototype;o.Sb=function(b){b.Kb()&&this.ob++};o.sa=l();o.Fa=l();o.Yb=function(b){b.Kb()&&this.ob--};o.oc=function(b){b=b.La-this.ob;if(this.zc<b)this.zc=b};function af(b){this.rb=[];this.Ac=[];this.Ea=b}af.prototype=new Ye;o=af.prototype;o.count=function(){return this.Ac.length};o.Sb=function(b){this.rb.unshift(b);if(b.Kb())this.Ea=this.Ea.L(0)};o.sa=function(b){this.rb.unshift(b)};o.Fa=function(){this.rb.shift()};o.Yb=function(b){this.rb.shift();if(b.Kb())this.Ea=pe(this.Ea)};
o.oc=function(b){Md(b,this.Ea)&&0<this.rb.length&&this.Ac.push(this.rb[0])};function bf(){this.name=this.target=j;this.Tc=this.bd=this.ad=0;this.children=[];this.parent=j;this.Xc={};this.Wc={}}function cf(b,c){var d=c.Na(),f=b[d];if(f===i&&(f=new bf,f.target=c,f.name=d,b[d]=f,c instanceof Y&&(d=c.ac,d!==j)))d=cf(b,d),d.children.push(f),f.parent=d;return f}function df(b){this.target=b;this.count=0;this.key=b.Na()}function ef(b,c){var d=b[c.Na()];d===i&&(d=new df(c),b[d.key]=d);return d}
function ff(){this.tc={};this.td={};this.vc=j;this.now=0}function gf(){}gf.prototype.cb=i;gf.prototype.end=i;gf.prototype.wb=i;function hf(b){b.show();var c=prompt("q to resume execution, f to skip to the end of this frame, any other key to step");if(c!==j)if(/^q$/i.test(c))Jc(b,yc);else if(/^f$/i.test(c))b.Gc=b.g-1,Jc(b,jf)}function kf(){}kf.prototype=new gf;kf.prototype.cb=l();kf.prototype.end=l();kf.prototype.wb=l();var yc=new kf;function lf(){}lf.prototype=new gf;lf.prototype.cb=function(b){hf(b)};
lf.prototype.end=function(b){xa("VM thread finished: returning.");hf(b)};lf.prototype.wb=l();var mf=new lf;function nf(){}nf.prototype=new gf;nf.prototype.cb=function(b){b.Xb=!0;for(var c=[],d=[];0<=b.g;)Bc(b).a().Ib&&(c.push(Bc(b)),d.push(b.ga[b.g])),b.g--;for(var f=c.length-1;0<=f;f--)R(b,d[f],c[f])};nf.prototype.end=l();nf.prototype.wb=l();var of=new nf;function pf(){}pf.prototype=new gf;pf.prototype.cb=function(b){b.g<=b.Gc&&Jc(b,mf)};pf.prototype.end=l();pf.prototype.wb=l();var jf=new pf;
function qf(){}qf.prototype=new gf;qf.prototype.cb=function(b){var c=b.Ta.vc;if(c!==j){var d=cf(b.Ta.tc,c),c=(new Date).getTime()*1E6-b.Ta.now;d.bd+=c;d.Tc+=c;for(d=d.parent;d!==j;)d.Tc+=c,d=d.parent}var f=Lc(b);if(f!==j)b.q=b.ga[b.g],b.Hb=b.ma[b.g],this.nd(f,b),f.la?(c=f.oa(b),c instanceof Sc&&(c=c.p()),d=cf(b.Ta.tc,c),f=f.e,f!==j&&ef(d.Xc,f).count++,f=cf(b.Ta.tc,f),c!==j&&ef(f.Wc,c).count++,d.ad++,b.Ta.vc=c):b.Ta.vc=f.e!==j?f.e:B,b.Ta.now=(new Date).getTime()*1E6};qf.prototype.end=l();
qf.prototype.wb=function(b){b.Ta=new ff;b.Ta.now=(new Date).getTime()*1E6};var rf=new qf;function sf(b,c,d){this.e=j;this.Vb=b;this.J=c;this.s=d;this.k(F("AssignmentBuilder.build"))}sf.prototype=new M;sf.prototype.className="AssignmentBuilder.BuildAssignment1";sf.prototype.d=function(b){if(!(this.J instanceof y)){try{this.J.xb()}catch(c){c instanceof Ea||g(c),g(new r("assign: unexpected: "+this.J))}D(b,new tf(this.Vb,this.J.b(),this.s));uf(b,this.J.a(),this.s)}};
function tf(b,c,d){this.e=j;this.Vb=b;this.J=c;this.s=d;this.k(F("AssignmentBuilder.build"))}tf.prototype=new M;tf.prototype.className="AssignmentBuilder.BuildAssignment2";tf.prototype.d=function(b){this.Vb.Ia(Q(b).reduce());D(b,new sf(this.Vb,this.J,this.s))};var vf=B,wf=J("at-string");
function uf(b,c,d){if(c instanceof y)C(b,c);else if(c instanceof La&&!(vf instanceof y))D(b,new xf(d)),wf.bound()?Ga(wf.value(),b,new A(c,B)):C(b,c);else if(c instanceof L&&yf(c))uf(b,zf(bb(c,"ssexpand")),d);else if(c instanceof A){var f,h=c.a();f=!(h instanceof L)?j:!h.bound()?j:gc(h.value());if(f!==j)h=c.b(),h instanceof A||g(new TypeError),D(b,new Af(d)),Ga(f,b,h);else if(f=c.a(),ab("quote",f))C(b,new ue(c.b().a()));else if(f===Se)D(b,new Bf),Cf(b,c.b().a(),d,1);else if(ab("fn",f))h=c.b(),h instanceof
A||g(new TypeError),c=h,h=d,h===j&&g(new ReferenceError("can't have null lexical bindings!")),f={},d=c.a(),d instanceof y||(h=[f].concat(h)),D(b,new Df(c,h,f)),d instanceof y?C(b,new A(B,B)):(c=h,Ef(d,c[0],[0],!1),Ff(b,d,c));else if(ab("if",f)){h=c=c.b();for(f=new ze;0<c.ha();)switch(c.ha()){case 0:break;case 1:f.append(new V);c=c.b();break;case 2:f.append(new Be);c=c.b();c instanceof A||g(new TypeError);c.Bc(new A(B,B));c=c.b();break;default:f.append(new Be),c=c.b().b()}c=h;D(b,new Gf(f));D(b,new Hf(f,
c,d))}else if(ab("assign",f)){c=c.b();h=new xe;f=c.ha();f%2!==0&&g(new r("assign: requires even number of arguments"));f=f/2-1;f<0&&g(new r("assign: nothing to assign"));for(h.Z=new we;0<f;)h.Z=new qe(h.Z),f--;f=new E(h);f.k(F("AssignmentBuilder.build"));D(b,f);D(b,new sf(h,c,d))}else ab("compose",f.nc())?(h=f.b(),h instanceof A||g(new TypeError),c=c.b(),c instanceof A||g(new TypeError),uf(b,If(h,c),d)):ab("complement",f.nc())?(h=c.b(),h instanceof A||g(new TypeError),c=uf,f=f.b().a(),h=new A(J("no"),
new A(new A(f,h),B)),c(b,h,d)):f instanceof L&&yf(f)?uf(b,new A(zf(bb(f,"ssexpand")),c.b()),d):D(b,new Jf(c,d,c,[]))}else{if(c instanceof L)for(h=0;h<d.length;h++)if(c.name()in d[h]){d=d[h][c.name()];C(b,new T(c,h,d));return}C(b,c)}}function xf(b){this.e=j;this.s=b;this.k(F("Compiler.compile"))}xf.prototype=new M;xf.prototype.className="Compiler.FinishAtString";xf.prototype.d=function(b){var c=Q(b);c instanceof La?C(b,c):uf(b,c,this.s)};
function Af(b){this.e=j;this.s=b;this.k(F("Compiler.compilePair"))}Af.prototype=new M;Af.prototype.className="Compiler.ThenCompile";Af.prototype.d=function(b){uf(b,Q(b),this.s)};function Bf(){this.e=j;this.k(F("Compiler.compilePair"))}Bf.prototype=new M;Bf.prototype.className="Compiler.WrapQuasiQuotation";Bf.prototype.d=function(b){C(b,new Je(Q(b)))};function If(b,c){var d=b.a();if(b.b()instanceof y)return new A(d,c);var f=b.b();f instanceof A||g(new TypeError);return new A(d,new A(If(f,c),B))}
function Df(b,c,d){this.e=j;this.ab=b;this.s=c;this.wc=d;this.k(F("FunctionBodyBuilder.build"))}Df.prototype=new M;Df.prototype.className="FunctionBodyBuilder.Intermediate";Df.prototype.d=function(b){var c=Q(b),d=c.a(),c=c.b(),f=this.ab.b();f instanceof A||g(new TypeError);D(b,new Kf(c,this.wc,f,d,b.N));D(b,new Lf(f,this.s,[]))};function Kf(b,c,d,f,h){this.e=j;this.v=b;this.wc=c;this.J=d;this.ta=f;this.Eb=h;this.k(F("FunctionBodyBuilder.build"))}Kf.prototype=new M;Kf.prototype.$b=!0;
Kf.prototype.className="FunctionBodyBuilder.Finish";Kf.prototype.pc=function(b){return b instanceof Error};Kf.prototype.d=function(b){var c=b.error();if(c!==j)b.Pa=j,b.N=this.Eb,g(new r("building function fn "+this.v+" "+this.J+": "+c,c));C(b,Mf(this.v,this.wc,Q(b),this.ta))};
function Mf(b,c,d,f){var h="rainbow.function.interpreted.optimise.Bind"+Nf(b,!1),k=t[h];if(k===i)return f instanceof y?new Of(b,c,d):new Pf(b,c,d);try{var p=k.of(b,c,d);p instanceof x||g(new TypeError);return p}catch(q){q instanceof Error||g(q),g(new r("Couldn't instantiate "+h+": "+q,q))}}
function Nf(b,c){if(b instanceof y)return"";if(b instanceof A)if(c)if(Qf(b)){var d=b.b().b().a();return d.Da()?"_Oliteral":d instanceof T?"_Obound":"_Oother"}else return d=b.a(),"_D"+Nf(d,!0)+Nf(b.b(),!1)+"_d";else return Nf(b.a(),!0)+Nf(b.b(),!1);else return c?"_A":"_R"}function Rf(b,c,d){!(c instanceof y)&&c instanceof A&&(d&&Qf(c)?c.b().b().a().j(b):(Rf(b,c.a(),!0),Rf(b,c.b(),!1)))}var Sf=J("o"),Tf=J("#NIL#");function Ff(b,c,d){var f={value:B},h=[];D(b,new Uf(h,f));D(b,new Vf(h,f,c,d))}
function Uf(b,c){this.e=j;this.I=b;this.ta=c;this.k(F("FunctionParameterListBuilder.buildParams_"))}Uf.prototype=new M;Uf.prototype.className="FunctionParameterListBuilder.ReturnParams";Uf.prototype.d=function(b){if(this.I.length===0){var c;c=Q(b)}else c=kb(this.I,Q(b));c=new A(this.ta.value,c);C(b,c)};function Vf(b,c,d,f){this.e=j;this.I=b;this.ta=c;this.qa=d;this.s=f;this.k(F("FunctionParameterListBuilder.buildParams_"))}Vf.prototype=new M;Vf.prototype.className="FunctionParameterListBuilder.BuildParams1";
Vf.prototype.d=function(b){if(this.qa.M()){var c=new E(this.qa);c.k(this);D(b,c)}else{var c=this.qa.a(),d=this.qa.b();if(c instanceof A)if(c instanceof y)this.I.push(Tf),D(b,new Vf(this.I,this.ta,d,this.s));else if(this.ta.value=Va,Qf(c)){var f=c.b().a();D(b,new Wf(this.I,this.ta,d,this.s,f));uf(b,c.b().b().a(),this.s)}else D(b,new Xf(this.I,this.ta,d,this.s)),Ff(b,c,this.s);else this.I.push(c),D(b,new Vf(this.I,this.ta,d,this.s))}};
function Wf(b,c,d,f,h){this.e=j;this.I=b;this.ta=c;this.qa=d;this.s=f;this.dd=h;this.k(F("FunctionParameterListBuilder.buildParams_"))}Wf.prototype=new M;Wf.prototype.className="FunctionParameterListBuilder.BuildParams2a";Wf.prototype.d=function(b){this.I.push(w([Sf,this.dd,Q(b)]));D(b,new Vf(this.I,this.ta,this.qa,this.s))};function Xf(b,c,d,f){this.e=j;this.I=b;this.ta=c;this.qa=d;this.s=f;this.k(F("FunctionParameterListBuilder.buildParams_"))}Xf.prototype=new M;Xf.prototype.className="FunctionParameterListBuilder.BuildParams2b";
Xf.prototype.d=function(b){this.I.push(Q(b).b());D(b,new Vf(this.I,this.ta,this.qa,this.s))};function Yf(b){for(;!b.M();){if(b.a()instanceof A)return Va;b=b.b()}return B}function Ef(b,c,d,f){b instanceof y||(b instanceof A?f&&Qf(b)?Ef(b.b().a(),c,d,!0):(f=b.a(),f instanceof y?(c[Tf.name()]=d[0],d[0]++):Ef(f,c,d,!0),Ef(b.b(),c,d,!1)):(b instanceof L||g(new TypeError),c[b.name()]=d[0],d[0]++))}
function Zf(b,c,d,f){var h=j;f instanceof L&&!f.Ca(b.name)?h=f:Qf(f)&&!f.b().a().Ca(b.name)?h=w([Sf,f.b().a(),f.b().b().a().Q(b,c,d)]):!Qf(f)&&f instanceof A&&(h=f);return h}function $f(b,c,d,f){var h=j;f instanceof L&&!f.Ca(b.name)?h=f:Qf(f)&&!f.b().a().Ca(b.name)?h=w([Sf,f.b().a(),f.b().b().a().R(b,c,!1,0,d)]):!Qf(f)&&f instanceof A&&(h=f);return h}function Gf(b){this.e=j;this.sb=b;this.k(F("IfBuilder.build"))}Gf.prototype=new M;Gf.prototype.className="IfBuilder.Reduce";
Gf.prototype.d=function(b){C(b,this.sb.reduce())};function Hf(b,c,d){this.e=j;this.sb=b;this.J=c;this.s=d;this.k(F("IfBuilder.build"))}Hf.prototype=new M;Hf.prototype.className="IfBuilder.BuildIf1";Hf.prototype.d=function(b){if(!(this.J instanceof y)){try{this.J.xb()}catch(c){c instanceof Ea||g(c),g(new r("if: unexpected: "+this.J))}D(b,new ag(this.sb,this.J.b(),this.s));uf(b,this.J.a(),this.s)}};function ag(b,c,d){this.e=j;this.sb=b;this.J=c;this.s=d;this.k(F("AssignmentBuilder.build"))}
ag.prototype=new M;ag.prototype.className="IfBuilder.BuildIf2";ag.prototype.d=function(b){this.sb.Ia(Q(b).reduce());D(b,new Hf(this.sb,this.J,this.s))};function Jf(b,c,d,f){this.e=j;this.J=b;this.s=c;this.pa=d;this.Ja=f;this.k(F("InvocationBuilder.build"))}Jf.prototype=new M;Jf.prototype.className="InvocationBuilder.BuildInvocation";
Jf.prototype.d=function(b){if(this.J instanceof y)C(b,(new De(w(this.Ja))).reduce());else{try{this.J.xb()}catch(c){c instanceof Ea||g(c),g(new r("can't compile "+this.pa+"; not a proper list"))}D(b,new Jf(this.J.b(),this.s,this.pa,this.Ja));D(b,new bg(this.Ja));uf(b,this.J.a(),this.s)}};function bg(b){this.e=j;this.Ja=b;this.k(F("InvocationBuilder.build"))}bg.prototype=new M;bg.prototype.className="InvocationBuilder.ReducePush";bg.prototype.d=function(b){this.Ja.push(Q(b).reduce())};
function Lf(b,c,d){this.e=j;this.J=b;this.s=c;this.I=d;this.k(F("PairExpander.expand"))}Lf.prototype=new M;Lf.prototype.className="PairExpander.ExpandPair";Lf.prototype.d=function(b){if(this.J instanceof y||!(this.J instanceof A))D(b,new cg(this.I)),uf(b,this.J,this.s);else{D(b,new Lf(this.J.b(),this.s,this.I));var c=this.J.a();D(b,new dg(this.I));uf(b,c,this.s)}};function dg(b){this.e=j;this.Ja=b;this.k(F("PairExpander.expand"))}dg.prototype=new M;dg.prototype.className="PairExpander.ReducePush";
dg.prototype.d=function(b){this.Ja.push(Q(b).reduce())};function cg(b){this.e=j;this.I=b;this.k(F("PairExpander.expand"))}cg.prototype=new M;cg.prototype.className="PairExpander.FinishPair";cg.prototype.d=function(b){var c=kb(this.I,Q(b).reduce());c instanceof A||g(new TypeError);C(b,c)};var Se=J("quasiquote"),Qe=J("unquote"),Re=J("unquote-splicing");function Cf(b,c,d,f){c.M()?C(b,c):Z(c)?eg(b,Qe,c,f,d):Ne(c)?eg(b,Re,c,f,d):Oe(c)?(D(b,new fg(Se)),Cf(b,c.b().a(),d,f+1)):D(b,new gg([],c,d,f))}
function gg(b,c,d,f){this.e=j;this.I=b;this.va=c;this.s=d;this.ob=f;this.k(F("QuasiQuoteCompiler.compile"))}gg.prototype=new M;gg.prototype.className="QuasiQuoteCompiler.CompileQuasiQuote";gg.prototype.d=function(b){if(this.va.M())D(b,new hg(this.I)),Cf(b,this.va,this.s,this.ob);else{var c=this.va.a();D(b,new gg(this.I,this.va.b(),this.s,this.ob));c.M()?this.I.push(c):(D(b,new ig(this.I)),Cf(b,c,this.s,this.ob))}};function hg(b){this.e=j;this.I=b;this.k(F("QuasiQuoteCompiler.compile"))}
hg.prototype=new M;hg.prototype.className="QuasiQuoteCompiler.FinishQuasiQuote";hg.prototype.d=function(b){C(b,kb(this.I,Q(b)))};function ig(b){this.e=j;this.I=b;this.k(F("QuasiQuoteCompiler.compile"))}ig.prototype=new M;ig.prototype.className="QuasiQuoteCompiler.Push";ig.prototype.d=function(b){this.I.push(Q(b))};function eg(b,c,d,f,h){d=d.b().a();D(b,new fg(c));f===1?uf(b,d,h):Cf(b,d,h,f-1)}function fg(b){this.e=j;this.fd=b;this.k(F("QuasiQuoteCompiler.compile"))}fg.prototype=new M;
fg.prototype.className="QuasiQuoteCompiler.Prefix";fg.prototype.d=function(b){C(b,w([this.fd,Q(b)]))};var jg={},kg=J("let"),lg=J("self"),mg=J("it");J("afn");var ng=J("do"),og=J("with"),pg=J("aif");
function Ee(b){if(b.a()===kg)a:{b=b.b();if(b.a()===mg){var c=b.b().a(),d=b.b().b();if(d.b()instanceof y&&d.a()instanceof ze&&(d=d.a(),!(d.X instanceof Be)?0:d.X.l.toString()==="it")){b=d.P();d=d.X;d instanceof Be||g(new TypeError);b=w([pg,c,b,d.next]);break a}}else if(b.a()===lg&&b.b().a()instanceof y&&(d=b.b().b(),d.a()instanceof xe&&d.b()instanceof y)){c=d.a();var d=c.Z,f="self";if(d.name instanceof L)d=d.name.name()===f;else{if(!(d.name instanceof W))f=d.name,f instanceof T||g(new TypeError);d=
d.name.name.name()===f}if(d&&c.Z.A instanceof Y&&c.Z instanceof we){b=jg.wd(c.Z.A);break a}}b=new A(kg,b)}return b}function Fe(b){var c=b.a(),d=b.b(),f=c.v;if(d.ha()===f.ha())if(d.ha()===0)c=w([ng].concat(c.body));else if(d.ha()===1)c=w([kg,f.a(),d.a()].concat(c.body));else{b=d;for(d=[];!(f instanceof y);)d.push(f.a()),d.push(b.a()),f=f.b(),b=b.b();c=w([og,w(d)].concat(c.body))}else c=b;return c}function $(){}$.prototype=new x;o=$.prototype;o.className="Builtin";
o.c=function(b){this.Y=b;J(b).da(this);return this};o.h=function(b){g(new r("Builtin:invoke(args):provide implementation! "+this.name()+" args "+b))};o.f=function(b,c){C(b,this.h(c))};o.na=n(0);o.type=function(){return qg};function Jb(b,c,d){d<b.ha()&&(xa(c+" got args "+b+" was expecting expecting at most "+d),g(new r(c.toLowerCase()+" expects at most "+d+" arguments: given "+b)))}function rg(b,c,d){b.ha()!==c&&g(new r(d.toLowerCase()+" expects "+c+" arguments: given "+b))}
o.toString=function(){return"[builtin:"+(this.Y===j||this.Y.length===0?this.className:this.Y)+"]"};o.Na=function(){return this.toString()};o.name=function(){return this.Y===""?this.className.toLowerCase():this.Y};var qg=J("fn");function Sc(b,c){this.va=b;this.fa=c}Sc.prototype=new x;o=Sc.prototype;o.className="Closure";o.wa=function(b){this.va.ia(b,this.fa)};o.r=function(b,c){this.va.u(b,this.fa,c)};o.S=function(b,c,d){this.va.Aa(b,this.fa,c,d)};o.f=function(b,c){this.va.C(b,this.fa,c)};o.type=function(){return qg};
o.toString=function(){return this.va.toString()};o.Na=function(){return this.va.Na()};o.p=m("va");function sg(b){return b.length===0?!1:b.charCodeAt(0)===tg?sg(b.substring(1)):b.charAt(b.length-1)===tg?sg(b.substring(0,b.length-1)):b.indexOf(ug)!==-1}function Y(){}Y.prototype=new x;o=Y.prototype;o.H=Y;o.className="InterpretedFunction";o.c=function(b,c,d){this.name=B;this.v=b;this.o=c;this.body=ob(d);this.vd=this.Ab=this.$=this.ac=this.n=j;vg(this);return this};
o.lc=function(b){if(this.name===b)this.name=B};o.Tb=function(b){this.name=b;for(var b=new Ze(this),c=0,d=this.body.length;c<d;c++)this.body[c].j(b)};o.Ub=function(){return name};o.Na=function(){if(this.Ab!==j)return this.Ab;this.name instanceof y?(this.Ab=this.toString(),this.ac!==j&&(this.Ab+=" in "+this.ac.Na())):this.Ab=this.Ub().toString();return this.Ab};
o.reduce=function(){var b;if(wg&&!this.V()&&!(this.v instanceof y)){var c="rainbow.function.interpreted.optimise.stack.Stack"+Nf(this.v,!1),d=t[c];if(d===i)b=this;else try{var f=d.of1(this);f instanceof x||g(new TypeError);b=f}catch(h){h instanceof Error||g(h),g(new r("Couldn't instantiate "+c+": "+h,h))}}else b=this;return b};function vg(b){var c=[];He(b,c);b.n=w(c);b.n.j(new xg(b))}o.k=ba("ac");function xg(b){this.e=b}xg.prototype=new Ye;xg.prototype.Rb=function(b){b.k(this.e)};
function He(b,c){if(b.body.length===0)c.push(new E(B));else for(var d=0;d<b.body.length;d++){var f=d===b.body.length-1;b.body[d].m(c);f||c.push(new Yc("intermediate-fn-expression"))}}o=Y.prototype;o.hb=function(b,c){return this.body.length===1&&this.sc(b,c)&&!this.ea(0)&&!this.V()};
o.sc=function(b,c){var d=this.o[b.name()],d=new T(b,0,d),f;if(!(f=c.Da()))if(!(f=c instanceof ue))if(!(f=c instanceof L))if(!(f=c instanceof T)){d=new af(d);f=0;for(var h=this.body.length;f<h;f++)this.body[f].j(d);f=d.count()<=1}return f};o.V=function(){for(var b=0,c=this.body.length;b<c;b++){var d=this.body[b];if(d instanceof Y){if(ve(d))return!0}else if(d.V())return!0}return!1};function yg(b,c){for(var d=0,f=b.body.length;d<f;d++)if(b.body[d].ea(c))return!0;return!1}
o.Kb=function(){return!(this.v instanceof y)};o.ea=function(b){return this.v instanceof y?yg(this,b):yg(this,b+1)};o.wa=function(b){return this.ia(b,j)};o.ia=function(b,c){return this.C(b,c,B)};o.r=function(b,c){return this.u(b,j,c)};o.u=function(b,c,d){return this.C(b,c,new A(d,B))};o.S=function(b,c,d){return this.Aa(b,j,c,d)};o.Aa=function(b,c,d,f){return this.C(b,c,new A(d,new A(f,B)))};o.Ra=function(b,c,d,f){return this.Jb(b,j,c,d,f)};
o.Jb=function(b,c,d,f,h){return this.C(b,c,new A(d,new A(f,new A(h,B))))};o.f=function(b,c){return this.C(b,j,c)};o.C=function(){g(new r("error: invoke(vm, lc, args) not implemented in "+this.className+"; "+this))};o.m=function(b){ve(this)?b.push(new Rc(this)):b.push(new E(this))};o.Da=function(){return!ve(this)};function ve(b){var c=new $e;b.j(c);return-1<c.zc}o.j=function(b){b.Sb(this);Rf(b,this.v,!1);for(var c=0,d=this.body.length;c<d;c++)this.body[c].j(b);b.Yb(this);this.$!==j&&this.$.j(b)};
o.na=function(b){g(new r("Can't compare "+this+" to "+b))};o.toString=function(){if(this.v instanceof A&&this.v.a()===J("_")&&this.v.b()instanceof y&&this.body.length===1&&!(this.body[0]instanceof zb))if(this.body[0]instanceof y)return"[]";else{var b=this.body[0].toString();return"["+b.substring(1,b.length-1)+"]"}return w([J("fn"),this.v].concat(this.body)).toString()};o.type=function(){return qg};o.yb=function(b){return this.body[b]};o.Jc=function(){return this.body[this.body.length-1]};
o.length=function(){return this.body.length};function zg(b,c,d){try{c.b().Ka()}catch(f){f instanceof Ea||g(f),Ag(b,d)}}function Ag(b,c){g(new r("args "+c+" doesn't match signature for "+b))}
o.jb=function(b,c,d){var f=this.o[b.name()];f===i&&g(new ReferenceError);var b=new T(b,0,f),h;for(var k=this.v,p=c,q=B,z=[];!k.M();){var K=$f(b,p,f,k.a());K!==j&&z.push(K);k=k.b()}k instanceof L&&(p=$f(b,p,f,k),p!==j&&(q=p));try{h=kb(z,q)}catch(ga){ga instanceof Error||g(ga),g(new r("couldn't curry params "+k+", got list "+z+" and last "+q))}k={};Ef(h,k,[0],!1);q=h instanceof y;!q&&d&&(c=c.L(0));d=[];for(z=0;z<this.body.length;z++)d.push(this.body[z].R(b,c,q,0,f).reduce());c=w(d);f=Yf(h);return Mf(h,
k,c,f)};o.R=function(b,c,d,f,h){for(var b=this.v instanceof y?b:b.L(0),d=Bg(this),k=[],p=0;p<this.body.length;p++)k.push(this.body[p].R(b,c,!1,f+1,h).reduce());b=w(k);d.body=ob(b);vg(d);return d};o.Q=function(b,c,d){if(!(this.v instanceof y))return this;for(var f=Bg(this),h=[],k=0;k<this.body.length;k++)h.push(this.body[k].Q(b,c,d).reduce());b=w(h);f.body=ob(b);vg(f);return f};
o.L=function(b){this.v instanceof y||b++;for(var c=Bg(this),d=[],f=0;f<this.body.length;f++)d.push(this.body[f].L(b));b=w(d);c.body=ob(b);vg(c);return c};function Bg(b){var c=new b.H,d;for(d in b)b.hasOwnProperty(d)&&(c[d]=b[d]);return c}function Cg(b,c,d){d.vb(c)||g(new r("error: "+b+" expects "+c+" args, got "+d))}function Of(b,c,d){this.c(b,c,d)}Of.prototype=new Y;Of.prototype.H=Of;Of.prototype.className="SimpleArgs";
Of.prototype.C=function(b,c,d){var f=0,h;for(h in this.o)f++;f=c=new u(f,c);for(h=this.v;!(h instanceof y);)if(h instanceof L){f.add(d);break}else f.add(d.a()),d=d.b(),h=h.b();R(b,c,this.n)};function Pf(b,c,d){this.c(b,c,d)}Pf.prototype=new Y;Pf.prototype.H=Pf;Pf.prototype.className="ComplexArgs";Pf.prototype.C=function(b,c,d){var f=0,h;for(h in this.o)f++;c=new u(f,c);D(b,new Dg(c,this.n,this));D(b,new Eg(c,this.v,d,this))};function Dg(b,c,d){this.e=j;this.fa=b;this.n=c;this.k(d)}Dg.prototype=new M;
Dg.prototype.className="ComplexArgs.Run";Dg.prototype.d=function(b){R(b,this.fa,this.n)};function Eg(b,c,d,f){this.e=j;this.fa=b;this.qa=c;this.ab=d;this.k(f)}Eg.prototype=new M;Eg.prototype.className="ComplexArgs.BuildComplex";
Eg.prototype.d=function(b){if(this.qa.M())this.qa instanceof L&&this.fa.add(this.ab);else{var c=this.qa.a(),d=this.ab.a();D(b,new Eg(this.fa,this.qa.b(),this.ab.b(),this.e));if(c instanceof L)this.fa.add(d);else if(Qf(c))if(c=c.b(),c instanceof A||g(new TypeError),this.ab instanceof y){D(b,new Fg(this.fa,this));var d=this.fa,f=[];c.b().a().m(f);R(b,d,w(f))}else this.fa.add(d);else{try{d.xb()}catch(h){h instanceof Ea||g(h),g(new r("Expected list argument for destructuring parameter "+c+", got "+d))}D(b,
new Eg(this.fa,c,d,this.e))}this.qa=this.qa.b();this.ab=this.ab.b()}};function Fg(b,c){this.e=j;this.fa=b;this.k(c)}Fg.prototype=new M;Fg.prototype.className="ComplexArgs.AddToLc";Fg.prototype.d=function(b){this.fa.add(Q(b))};function Qf(b){return!(b instanceof A)?!1:b.a()===Gg}var Gg=J("o");function Hg(){}Hg.prototype=new Y;o=Hg.prototype;o.H=Hg;o.className="StackFunctionSupport";o.hb=function(b,c){return this.sc(b,c)&&!this.ea(0)};
o.sc=function(b,c){var d=this.o[b.name()],d=new W(b,d);return c.Da()||c instanceof ue||c instanceof L||this.body.length===1&&this.body[0]instanceof W&&Zd(d,this.body[0])};o.Kb=n(!1);
o.jb=function(b,c){var d=this.o[b.name()],f=new W(b,d),h;for(var k=this.v,p=B,q=[];!k.M();){var z=Zf(f,c,d,k.a());z!==j&&q.push(z);k=k.b()}k instanceof L&&(z=Zf(f,c,d,k),z!==j&&(p=z));try{h=kb(q,p)}catch(K){K instanceof Error||g(K),g(new r("couldn't curry params "+k+", got list "+q+" and last "+p))}k={};Ef(h,k,[0],!1);p=[];for(q=0;q<this.body.length;q++)p.push(this.body[q].Q(f,c,d).reduce());var d=w(p),f=Yf(h),ga;p=Nf(h,!1);if(p==="")ga=Mf(h,k,d,f);else{f="rainbow.function.interpreted.optimise.stack.Stack"+
p;p=t[f];p===i&&g(new r("no stack-based function implementation for "+h+"; couldn't find "+f));try{var Aa=p.of3(h,k,d);Aa instanceof x||g(new TypeError);ga=Aa}catch(qb){qb instanceof Error||g(qb),g(new r("Couldn't instantiate "+f+": "+qb,qb))}}return ga};function Ig(b,c){for(var d=Array(~~c.length),f=0;f<c.length;f++)d[f]=c[f].W(b);return w(d)}function Ge(){}t["rainbow.function.interpreted.optimise.Bind"]=Ge;Ge.prototype=new Y;Ge.prototype.H=Ge;Ge.prototype.className="Bind";
Ge.of=function(b,c,d){return(new Ge).c(b,c,d)};Ge.prototype.ia=function(b,c){R(b,c,this.n)};Ge.prototype.C=function(b,c,d){try{d.Ka()}catch(f){f instanceof Fa||g(f),g(new r("expected 0 args, got "+d))}R(b,c,this.n)};function Jg(){}t["rainbow.function.interpreted.optimise.Bind_A"]=Jg;Jg.prototype=new Y;Jg.prototype.H=Jg;Jg.prototype.className="Bind_A";Jg.of=function(b,c,d){return(new Jg).c(b,c,d)};Jg.prototype.ia=function(){g(new r("function "+this+" expects 1 arg, got none"))};
Jg.prototype.u=function(b,c,d){var f=0,h;for(h in this.o)f++;c=new u(f,c);c.add(d);R(b,c,this.n)};Jg.prototype.C=function(b,c,d){d instanceof y&&this.ia(b,c);try{d.b().Ka()}catch(f){f instanceof Fa||g(f),g(new r("expected 1 arg, got "+d+" calling "+this))}this.u(b,c,d.a())};function Kg(){}t["rainbow.function.interpreted.optimise.Bind_A_A"]=Kg;Kg.prototype=new Y;Kg.prototype.H=Kg;Kg.prototype.className="Bind_A_A";Kg.of=function(b,c,d){return(new Kg).c(b,c,d)};Kg.prototype.ia=function(){g(new r("error: expected 2 args, got none"))};
Kg.prototype.u=function(b,c,d){g(new r("error: expected 2 args, got 1: "+d))};Kg.prototype.Aa=function(b,c,d,f){var h=0,k;for(k in this.o)h++;c=new u(h,c);c.add(d);c.add(f);R(b,c,this.n)};Kg.prototype.C=function(b,c,d){try{d.b().b().Ka()}catch(f){f instanceof Fa||g(f),g(new r("expected 2 args, got "+d))}this.Aa(b,c,d.a(),d.b().a())};function Lg(){}t["rainbow.function.interpreted.optimise.Bind_A_A_A"]=Lg;Lg.prototype=new Y;Lg.prototype.H=Lg;Lg.prototype.className="Bind_A_A_A";
Lg.of=function(b,c,d){return(new Lg).c(b,c,d)};Lg.prototype.Jb=function(b,c,d,f,h){var k=0,p;for(p in this.o)k++;c=new u(k,c);c.add(d);c.add(f);c.add(h);R(b,c,this.n)};Lg.prototype.C=function(b,c,d){zg(this,d.b().b().b(),d);this.Jb(b,c,d.a(),d.b().a(),d.b().b().a())};function Mg(){}t["rainbow.function.interpreted.optimise.Bind_A_A_R"]=Mg;Mg.prototype=new Y;Mg.prototype.H=Mg;Mg.prototype.className="Bind_A_A_R";Mg.of=function(b,c,d){return(new Mg).c(b,c,d)};Mg.prototype.ia=function(){g(new r("error: expected at least 2 arg, got none"))};
Mg.prototype.u=function(b,c,d){g(new r("error: expected at least 2 args, got one: "+d))};Mg.prototype.C=function(b,c,d){var f=0,h;for(h in this.o)f++;c=new u(f,c);c.add(d.a());c.add(d.b().a());c.add(d.b().b());R(b,c,this.n)};function Ng(){}t["rainbow.function.interpreted.optimise.Bind_A_Obound"]=Ng;Ng.prototype=new Y;Ng.prototype.H=Ng;Ng.prototype.className="Bind_A_Obound";
Ng.of=function(b,c,d){c=(new Ng).c(b,c,d);d=b.b().a().b().b().a();d instanceof T||g(new TypeError);c.T=d;b=b.b().a().b().a();b instanceof L||g(new TypeError);if(c.hb(b,c.T))try{var f=c.jb(b,c.T,!1);f instanceof Y||g(new TypeError);c.$=f}catch(h){h instanceof Error||g(h),ya(h)}return c};Ng.prototype.u=function(b,c,d){if(this.$!==j)this.$.u(b,c,d);else{var f=0,h;for(h in this.o)f++;c=new u(f,c);c.add(d);c.add(this.T.t(c));R(b,c,this.n)}};
Ng.prototype.Aa=function(b,c,d,f){var h=0,k;for(k in this.o)h++;c=new u(h,c);c.add(d);c.add(f);R(b,c,this.n)};Ng.prototype.C=function(b,c,d){d instanceof y&&Ag(this,d);var f=d.a(),h=d.b();h instanceof y?this.u(b,c,f):(zg(this,h.b(),d),this.Aa(b,c,f,h.a()))};function Og(){}t["rainbow.function.interpreted.optimise.Bind_A_Oliteral"]=Og;Og.prototype=new Y;Og.prototype.H=Og;Og.prototype.className="Bind_A_Oliteral";
Og.of=function(b,c,d){c=(new Og).c(b,c,d);c.T=b.b().a().b().b().a();b=b.b().a().b().a();b instanceof L||g(new TypeError);if(c.hb(b,c.T))try{var f=c.jb(b,c.T,!1);f instanceof Y||g(new TypeError);c.$=f}catch(h){h instanceof Error||g(h),ya(h)}return c};Og.prototype.u=function(b,c,d){if(this.$!==j)this.$.u(b,c,d);else{var f=0,h;for(h in this.o)f++;c=new u(f,c);c.add(d);c.add(this.T);R(b,c,this.n)}};Og.prototype.Aa=function(b,c,d,f){var h=0,k;for(k in this.o)h++;c=new u(h,c);c.add(d);c.add(f);R(b,c,this.n)};
Og.prototype.C=function(b,c,d){d instanceof y&&Ag(this,d);var f=d.a(),h=d.b();h instanceof y?this.u(b,c,f):(zg(this,h.b(),d),this.Aa(b,c,f,h.a()))};function Pg(){}t["rainbow.function.interpreted.optimise.Bind_A_Oother"]=Pg;Pg.prototype=new Y;Pg.prototype.H=Pg;Pg.prototype.className="Bind_A_Oother";Pg.of=function(b,c,d){c=(new Pg).c(b,c,d);d=[];b.b().a().b().b().a().m(d);c.yc=w(d);return c};
Pg.prototype.u=function(b,c,d){var f=0,h;for(h in this.o)f++;c=new u(f,c);c.add(d);D(b,new Qg(c,this.n,this));R(b,c,this.yc)};Pg.prototype.Aa=function(b,c,d,f){var h=0,k;for(k in this.o)h++;c=new u(h,c);c.add(d);c.add(f);R(b,c,this.n)};Pg.prototype.C=function(b,c,d){d instanceof y&&Ag(this,d);var f=d.a(),h=d.b();h instanceof y?this.u(b,c,f):(zg(this,h.b(),d),this.Aa(b,c,f,h.a()))};function Rg(){}t["rainbow.function.interpreted.optimise.Bind_A_R"]=Rg;Rg.prototype=new Y;Rg.prototype.H=Rg;
Rg.prototype.className="Bind_A_R";Rg.of=function(b,c,d){return(new Rg).c(b,c,d)};Rg.prototype.ia=function(){g(new r("error: expected at least 1 arg, got none"))};Rg.prototype.C=function(b,c,d){var f=0,h;for(h in this.o)f++;c=new u(f,c);c.add(d.a());c.add(d.b());R(b,c,this.n)};function Sg(){}t["rainbow.function.interpreted.optimise.Bind_D_A_A_A_d"]=Sg;Sg.prototype=new Y;Sg.prototype.H=Sg;Sg.prototype.className="Bind_D_A_A_A_d";Sg.of=function(b,c,d){return(new Sg).c(b,c,d)};
Sg.prototype.u=function(b,c,d){var f=0,h;for(h in this.o)f++;c=new u(f,c);d instanceof A||g(new TypeError);c.add(d.a());d=d.b();d instanceof A||g(new TypeError);c.add(d.a());d=d.b();d instanceof A||g(new TypeError);c.add(d.a());R(b,c,this.n)};Sg.prototype.C=function(b,c,d){try{d.b().Ka()}catch(f){f instanceof Fa||g(f),g(new r("expected 1 arg, got extra "+d.b()+" calling "+this))}this.u(b,c,d.a())};function Tg(){}t["rainbow.function.interpreted.optimise.Bind_D_A_A_d"]=Tg;Tg.prototype=new Y;
Tg.prototype.H=Tg;Tg.prototype.className="Bind_D_A_A_d";Tg.of=function(b,c,d){return(new Tg).c(b,c,d)};Tg.prototype.u=function(b,c,d){var f=0,h;for(h in this.o)f++;c=new u(f,c);d instanceof A||g(new TypeError);c.add(d.a());d=d.b();d instanceof A||g(new TypeError);c.add(d.a());R(b,c,this.n)};Tg.prototype.C=function(b,c,d){zg(this,d.b(),d);this.u(b,c,d.a())};function Ug(){}t["rainbow.function.interpreted.optimise.Bind_Obound"]=Ug;Ug.prototype=new Y;Ug.prototype.H=Ug;Ug.prototype.className="Bind_Obound";
Ug.of=function(b,c,d){c=(new Ug).c(b,c,d);b=b.a();b instanceof A||g(new TypeError);b=b.b().b().a();b instanceof T||g(new TypeError);c.cd=b;return c};Ug.prototype.ia=function(b,c){var d=0,f;for(f in this.o)d++;c=new u(d,c);c.add(this.cd.t(c));R(b,c,this.n)};Ug.prototype.u=function(b,c,d){var f=0,h;for(h in this.o)f++;c=new u(f,c);c.add(d);R(b,c,this.n)};
Ug.prototype.C=function(b,c,d){if(d instanceof y)this.ia(b,c);else{try{d.b().Ka()}catch(f){f instanceof Fa||g(f),g(new r("expected 0 or 1 args, got extra "+d.b()+" calling "+this))}this.u(b,c,d.a())}};function Vg(){}t["rainbow.function.interpreted.optimise.Bind_Oliteral"]=Vg;Vg.prototype=new Y;Vg.prototype.H=Vg;Vg.prototype.className="Bind_Oliteral";
Vg.of=function(b,c,d){c=(new Vg).c(b,c,d);c.T=b.a().b().b().a();b=b.a().b().a();b instanceof L||g(new TypeError);if(c.hb(b,c.T))b=c.jb(b,c.T,!1),b instanceof Y||g(new TypeError),c.$=b;return c};Vg.prototype.ia=function(b,c){if(this.$!==j)this.$.ia(b,c);else{var d=0,f;for(f in this.o)d++;c=new u(d,c);c.add(this.T);R(b,c,this.n)}};Vg.prototype.u=function(b,c,d){var f=0,h;for(h in this.o)f++;c=new u(f,c);c.add(d);R(b,c,this.n)};
Vg.prototype.C=function(b,c,d){if(d instanceof y)this.ia(b,c);else{try{d.b().Ka()}catch(f){f instanceof Fa||g(f),g(new r("expected 0 or 1 args, got extra "+d.b()+" calling "+this))}this.u(b,c,d.a())}};function Wg(){}t["rainbow.function.interpreted.optimise.Bind_Oother"]=Wg;Wg.prototype=new Y;Wg.prototype.H=Wg;Wg.prototype.className="Bind_Oother";Wg.of=function(b,c,d){var f=(new Wg).c(b,c,d);f.c(b,c,d);f.T=b.a().b().b().a();b=[];f.T.m(b);f.yc=w(b);return f};
Wg.prototype.ia=function(b,c){var d=0,f;for(f in this.o)d++;c=new u(d,c);D(b,new Qg(c,this.n,this));R(b,c,this.yc)};Wg.prototype.u=function(b,c,d){var f=0,h;for(h in this.o)f++;c=new u(f,c);c.add(d);R(b,c,this.n)};Wg.prototype.C=function(b,c,d){if(d instanceof y)this.ia(b,c);else{try{d.b().Ka()}catch(f){f instanceof Fa||g(f),g(new r("expected 0 or 1 args, got extra "+d.b()+" calling "+this))}this.u(b,c,d.a())}};function Xg(){}t["rainbow.function.interpreted.optimise.Bind_R"]=Xg;Xg.prototype=new Y;
Xg.prototype.H=Xg;Xg.prototype.className="Bind_R";Xg.of=function(b,c,d){return(new Xg).c(b,c,d)};Xg.prototype.C=function(b,c,d){var f=0,h;for(h in this.o)f++;c=new u(f,c);c.add(d);R(b,c,this.n)};function Yg(){}t["rainbow.function.interpreted.optimise.stack.Stack_A"]=Yg;Yg.prototype=new Hg;Yg.prototype.H=Yg;Yg.prototype.className="Stack_A";Yg.of1=function(b){return Yg.of3(b.v,b.o,Ig(b.o,b.body))};Yg.of3=function(b,c,d){return(new Yg).c(b,c,d)};Yg.prototype.r=function(b,c){S(b,j,this.n,[c])};
Yg.prototype.u=function(b,c,d){S(b,c,this.n,[d])};Yg.prototype.f=function(b,c){Cg(this,1,c);this.r(b,c.a())};Yg.prototype.C=function(b,c,d){Cg(this,1,d);this.u(b,c,d.a())};function Zg(){}t["rainbow.function.interpreted.optimise.stack.Stack_A_A"]=Zg;Zg.prototype=new Hg;Zg.prototype.H=Zg;Zg.prototype.className="Stack_A_A";Zg.of1=function(b){return Zg.of3(b.v,b.o,Ig(b.o,b.body))};Zg.of3=function(b,c,d){return(new Zg).c(b,c,d)};Zg.prototype.S=function(b,c,d){S(b,j,this.n,[c,d])};
Zg.prototype.Aa=function(b,c,d,f){S(b,c,this.n,[d,f])};Zg.prototype.f=function(b,c){Cg(this,2,c);this.S(b,c.a(),c.b().a())};Zg.prototype.C=function(b,c,d){Cg(this,2,d);this.Aa(b,c,d.a(),d.b().a())};function $g(){}t["rainbow.function.interpreted.optimise.stack.Stack_A_A_A"]=$g;$g.prototype=new Hg;$g.prototype.H=$g;$g.prototype.className="Stack_A_A_A";$g.of1=function(b){return $g.of3(b.v,b.o,Ig(b.o,b.body))};$g.of3=function(b,c,d){return(new $g).c(b,c,d)};
$g.prototype.Ra=function(b,c,d,f){S(b,j,this.n,[c,d,f])};$g.prototype.Jb=function(b,c,d,f,h){S(b,c,this.n,[d,f,h])};$g.prototype.f=function(b,c){Cg(this,3,c);this.Ra(b,c.a(),c.b().a(),c.b().b().a())};$g.prototype.C=function(b,c,d){Cg(this,3,d);this.Jb(b,c,d.a(),d.b().a(),d.b().b().a())};function ah(){}t["rainbow.function.interpreted.optimise.stack.Stack_A_A_A_A"]=ah;ah.prototype=new Hg;ah.prototype.H=ah;ah.prototype.className="Stack_A_A_A_A";ah.of1=function(b){return ah.of3(b.v,b.o,Ig(b.o,b.body))};
ah.of3=function(b,c,d){return(new ah).c(b,c,d)};ah.prototype.f=function(b,c){Cg(this,4,c);var d=c.a(),f=c.b().a(),h=c.b().b().a(),k=c.b().b().b().a();S(b,j,this.n,[d,f,h,k])};ah.prototype.C=function(b,c,d){Cg(this,4,d);var f=d.a(),h=d.b().a(),k=d.b().b().a(),d=d.b().b().b().a();S(b,c,this.n,[f,h,k,d])};function bh(){}t["rainbow.function.interpreted.optimise.stack.Stack_A_A_R"]=bh;bh.prototype=new Hg;bh.prototype.H=bh;bh.prototype.className="Stack_A_A_R";
bh.of1=function(b){return bh.of3(b.v,b.o,Ig(b.o,b.body))};bh.of3=function(b,c,d){return(new bh).c(b,c,d)};bh.prototype.C=function(b,c,d){S(b,c,this.n,[d.a(),d.b().a(),d.b().b()])};function ch(){}t["rainbow.function.interpreted.optimise.stack.Stack_A_R"]=ch;ch.prototype=new Hg;ch.prototype.H=ch;ch.prototype.className="Stack_A_R";ch.of1=function(b){return ch.of3(b.v,b.o,Ig(b.o,b.body))};ch.of3=function(b,c,d){return(new ch).c(b,c,d)};ch.prototype.C=function(b,c,d){S(b,c,this.n,[d.a(),d.b()])};
function dh(){}t["rainbow.function.interpreted.optimise.stack.Stack_R"]=dh;dh.prototype=new Hg;dh.prototype.H=dh;dh.prototype.className="Stack_R";dh.of1=function(b){return dh.of3(b.v,b.o,Ig(b.o,b.body))};dh.of3=function(b,c,d){return(new dh).c(b,c,d)};dh.prototype.C=function(b,c,d){S(b,c,this.n,[d])};function eh(){}t["rainbow.function.interpreted.optimise.stack.Stack_D_A_A_A_A_d"]=eh;eh.prototype=new Hg;eh.prototype.H=eh;eh.prototype.className="Stack_D_A_A_A_A_d";
eh.of1=function(b){return eh.of3(b.v,b.o,Ig(b.o,b.body))};eh.of3=function(b,c,d){return(new eh).c(b,c,d)};eh.prototype.r=function(b,c){S(b,j,this.n,[c.a(),c.b().a(),c.b().b().a(),c.b().b().b().a()])};eh.prototype.u=function(b,c,d){S(b,c,this.n,[d.a(),d.b().a(),d.b().b().a(),d.b().b().b().a()])};eh.prototype.f=function(b,c){Cg(this,1,c);this.r(b,c.a())};eh.prototype.C=function(b,c,d){Cg(this,1,d);this.u(b,c,d.a())};function fh(){}t["rainbow.function.interpreted.optimise.stack.Stack_D_A_A_d"]=fh;
fh.prototype=new Hg;fh.prototype.H=fh;fh.prototype.className="Stack_D_A_A_d";fh.of1=function(b){return fh.of3(b.v,b.o,Ig(b.o,b.body))};fh.of3=function(b,c,d){return(new fh).c(b,c,d)};fh.prototype.r=function(b,c){S(b,j,this.n,[c.a(),c.b().a()])};fh.prototype.u=function(b,c,d){S(b,c,this.n,[d.a(),d.b().a()])};fh.prototype.f=function(b,c){Cg(this,1,c);this.r(b,c.a())};fh.prototype.C=function(b,c,d){Cg(this,1,d);this.u(b,c,d.a())};function gh(){}
t["rainbow.function.interpreted.optimise.stack.Stack_A_Oliteral"]=gh;gh.prototype=new Hg;gh.prototype.H=gh;gh.prototype.className="Stack_A_Oliteral";gh.of1=function(b){var c=new gh,d=Ig(b.o,b.body),b=c.c(b.v,b.o,d);b.T=b.v.b().a().b().b().a();c=b.v.b().a().b().a();c instanceof L||g(new TypeError);if(b.hb(c,b.T))c=b.jb(c,b.T,!1),c instanceof Y||g(new TypeError),b.$=c;return b};gh.of3=function(b,c,d){c=(new gh).c(b,c,d);c.T=b.a().b().b().a();return c};o=gh.prototype;
o.r=function(b,c){this.$!==j?this.$.r(b,c):S(b,j,this.n,[c,this.T])};o.S=function(b,c,d){S(b,j,this.n,[c,d])};o.u=function(b,c,d){this.$!==j?this.$.u(b,c,d):S(b,c,this.n,[d,this.T])};o.Aa=function(b,c,d,f){S(b,c,this.n,[d,f])};o.f=function(b,c){if(c instanceof y)Ag(this,c);else{var d=c.a();c.b()instanceof y?this.r(b,d):this.S(b,d,c.b().a())}};o.C=function(b,c,d){if(d instanceof y)Ag(this,d);else{var f=d.a();d.b()instanceof y?this.u(b,c,f):this.ud(b,c,f,d.b().a())}};function hh(){}
t["rainbow.function.interpreted.optimise.stack.Stack_Oliteral"]=hh;hh.prototype=new Hg;hh.prototype.H=hh;hh.prototype.className="Stack_Oliteral";hh.of1=function(b){var c=new hh,d=Ig(b.o,b.body),b=c.c(b.v,b.o,d);b.T=b.v.a().b().b().a();c=b.v.a().b().a();c instanceof L||g(new TypeError);if(b.hb(c,b.T))c=b.jb(c,b.T,!1),c instanceof Y||g(new TypeError),b.$=c;return b};hh.of3=function(b,c,d){c=(new hh).c(b,c,d);c.T=b.a().b().b().a();return c};o=hh.prototype;
o.wa=function(b){this.$!==j?this.$.r(b):S(b,j,this.n,[this.T])};o.r=function(b,c){S(b,j,this.n,[c])};o.ia=function(b,c){this.$!==j?this.$.u(b,c):S(b,c,this.n,[this.T])};o.u=function(b,c,d){S(b,c,this.n,[d])};o.f=function(b,c){c instanceof y?this.wa(b):(Cg(this,1,c),this.r(b,c.a()))};o.C=function(b,c,d){d instanceof y?this.ia(b):(Cg(this,1,d),this.u(b,c,d.a()))};function ih(){this.c("macex")}ih.prototype=new $;ih.prototype.className="Macex";
ih.prototype.f=function(b,c){if(c instanceof y)C(b,B);else{var d=c.a();if(d instanceof A){var f=d.a();f instanceof L?f.bound()?(f=f.value(),f=gc(f),f===j?C(b,d):(d=d.b(),d instanceof A||g(new TypeError),D(b,new jh(this)),Ga(f,b,d))):C(b,d):C(b,d)}else C(b,d)}};function jh(b){this.e=j;this.k(b)}jh.prototype=new M;jh.prototype.className="Macex.Again";jh.prototype.d=function(b){this.e.f(b,new A(Q(b),B))};function kh(){this.c("uniq")}kh.prototype=new $;kh.prototype.className="Uniq";
kh.prototype.wa=function(b){C(b,J("gs"+ ++lh))};kh.prototype.h=function(b){try{b.Ka()}catch(c){c instanceof Fa||g(new r("uniq: expects no args, got "+b))}return J("gs"+ ++lh)};var lh=0;function mh(){this.c("details")}mh.prototype=new $;mh.prototype.className="Details";mh.prototype.h=function(b){b=b.a();try{b instanceof za||g(new TypeError)}catch(c){c instanceof TypeError||g(c),g(new r("Wrong argument type: "+this+" expected an exception, got "+b))}return b.message()};function nh(){this.c("err")}
nh.prototype=new $;nh.prototype.className="Err";nh.prototype.h=function(b){g(new r(Nb(b.a(),this).value()))};function oh(){this.c("on-err")}oh.prototype=new $;oh.prototype.className="OnErr";oh.prototype.h=function(b){var c=new Qc(b.a(),vm.N);c.k(this);D(vm,c);b.b().a().f(vm,B)};function ph(){this.c("protect");this.md=new qh(this)}ph.prototype=new $;ph.prototype.className="Protect";function qh(b){this.kd=b}qh.prototype=new Ye;qh.prototype.Rb=function(b){b.k(this.kd)};
ph.prototype.f=function(b,c){var d=new A(new Tc(c.b().a()),new A(new Yc("clear up 'protect/after' return value"),B));d.j(this.md);R(b,j,d);c.a().f(b,B)};function rh(){this.c("apply")}rh.prototype=new $;o=rh.prototype;o.className="Apply";o.wa=function(){g(new r("apply: expects at least 2 args, got none"))};o.r=function(b,c){g(new r("apply: expects at least 2 args, got "+c))};o.S=function(b,c,d){d instanceof A||g(new TypeError);c.f(b,d)};o.Ra=function(b,c,d,f){c.f(b,new A(d,f))};
o.f=function(b,c){var d=c.a(),f=c.b();f instanceof A||g(new TypeError);d.f(b,sh(this,f))};function sh(b,c){return c.b()instanceof y?rb(c.a(),b):new A(c.a(),sh(b,rb(c.b(),b)))}function th(){this.c("eval")}th.prototype=new $;th.prototype.className="Eval";th.prototype.f=function(b,c){D(b,new uh(this));uf(b,c.a(),[])};function uh(b){this.e=j;this.k(b)}uh.prototype=new M;uh.prototype.className="Eval.ReduceAndExecute";uh.prototype.d=function(b){var c=[];Q(b).reduce().m(c);R(b,j,w(c))};
function vh(){this.c("ssexpand")}vh.prototype=new $;vh.prototype.className="SSExpand";vh.prototype.h=function(b){return zf(bb(b.a(),this))};
function zf(b){b=b.name();if(/:/.test(b)||/^~/.test(b)){b=b.split(":");if(b.length===1)b=wh(b[0]);else{for(var c=[J("compose")],d=0,f=b.length;d<f;d++)c.push(wh(b[d]));b=kb(c,B)}return b}else if(sg(b)){c=[J("andf")];d=0;for(b=xh(b).length;d<b;d++)f=Na(s),f instanceof L||g(new TypeError),c.add(yh(f));return w(c)}else if(/[.!]/.test(b)){for(var c=b.replace(/#/g,"#h").replace(/%/g,"#p").replace(/([.!])/g,"%$1%").split(/%+/),d=[],f=!1,h=0,k=c.length;h<k;h++)if(c[h]!==""){var p=Na(c[h].replace(/#p/g,"%").replace(/#h/g,
"#"));p===Ra||p===db?f?g(new r("Bad syntax "+b)):f=!0:f=!1;d.unshift(p)}f&&d.unshift(J("#<eof>"));return zh(d,0)}else g(new r("Unknown syntax "+b))}function xh(b){return b.length===0?[""]:b.charCodeAt(0)===tg?(b=xh(b.substring(1)),b[0]=ug+b[0],b):b.charCodeAt(b.length-1)===tg?(b=xh(b.substring(0,b.length-1)),b[b.length-1]+=ug,b):b.split(ug)}
function zh(b,c){var d=yh(b[c++]),f=j;c<b.length&&(f=b[c++],f instanceof L||g(new TypeError));d=f===db?w([J("quote"),d]):d;return c<b.length?w([zh(b,c),d]):f!==j?w([J("get"),d]):d}function Ah(b){try{return Ja(b)}catch(c){c instanceof Ba||g(c),g(new r("Couldn't read value of symbol: "+b,c))}}function yh(b){if(b instanceof y)return b;b instanceof L||g(new TypeError);return Ah(b.name())}function wh(b){return/^~/.test(b)?w([J("complement"),Ah(b.substring(1))]):Ah(b)}var ug="&",tg="&".charCodeAt(0);
function Bh(){this.c("ssyntax")}Bh.prototype=new $;Bh.prototype.className="SSyntax";Bh.prototype.h=function(b){return b.a()instanceof L&&yf(b.a())?Va:B};function yf(b){var c;c=b.name();if(!(c=/:/.test(c)||/^~/.test(c)))if(!(c=sg(b.name())))c=/[.!]/.test(b.name());return c}function Ch(){this.c("java-debug")}Ch.prototype=new $;Ch.prototype.className="JavaDebug";Ch.prototype.h=function(b){return b.a()};function Dh(){this.c("java-invoke")}Dh.prototype=new $;Dh.prototype.className="JavaInvoke";
Dh.prototype.h=function(b){var c;var d=b.a();try{d instanceof mc||g(new TypeError),c=d}catch(f){f instanceof TypeError||g(f),g(new r("Wrong argument type: "+this+" expected a java-object, got "+d))}var d=bb(b.b().a(),this).name(),h=b.b().b().a();h instanceof A||g(new TypeError);b=qc;c=c.xc;var k=Object(c)[d];Object.prototype.toString.call(k)!=="[object Function]"&&g(new r("Field "+d+" is not a method on "+c));d=k.apply(c,oc(h));return b(d)};function Eh(){this.c("car")}Eh.prototype=new $;
Eh.prototype.className="Car";Eh.prototype.r=function(b,c){C(b,c.a())};Eh.prototype.h=function(b){rg(b,1,this.className);return b.a().a()};function Fh(){this.c("cdr")}Fh.prototype=new $;Fh.prototype.className="Cdr";Fh.prototype.r=function(b,c){C(b,c.b())};Fh.prototype.h=function(b){rg(b,1,this.className);return b.a().b()};function Gh(){this.c("cons")}Gh.prototype=new $;Gh.prototype.className="Cons";Gh.prototype.S=function(b,c,d){C(b,new A(c,d))};
Gh.prototype.h=function(b){rg(b,2,this.className);return new A(b.a(),b.b().a())};function Hh(){this.c("len")}Hh.prototype=new $;Hh.prototype.className="Len";Hh.prototype.h=function(b){Jb(b,this.className,1);return new P(b.a().ha(),1)};function Ih(){this.c("newstring")}Ih.prototype=new $;Ih.prototype.className="NewString";
Ih.prototype.h=function(b){var c=b.a();c instanceof O||g(new TypeError);var d=Eb;b.b()instanceof y||(d=b.b().a(),d instanceof N||g(new TypeError));for(var b=[],f=0;f<c.G();f++)b.push(d.value());return F(b.join(""))};function Jh(){this.c("scar")}Jh.prototype=new $;Jh.prototype.className="Scar";Jh.prototype.S=function(b,c,d){C(vm,c.Pb(d))};Jh.prototype.h=function(b){return b.a().Pb(b.b().a())};function Kh(){this.c("scdr")}Kh.prototype=new $;Kh.prototype.className="Scdr";
Kh.prototype.h=function(b){var c=b.a();c instanceof A||g(new TypeError);b=b.b().a();c.Bc(b);return b};function Lh(){this.c("acos")}Lh.prototype=new $;Lh.prototype.className="Acos";Lh.prototype.h=function(b){Jb(b,this.className,1);b=Math.acos(fb(b.a(),this).B());return new H(b)};function Mh(){this.c("+")}Mh.prototype=new $;o=Mh.prototype;o.className="Add";o.wa=function(b){C(b,cc)};o.r=function(b,c){C(b,c)};o.S=function(b,c,d){C(b,c.add(d))};o.Ra=function(b,c,d,f){C(b,c.add(d).add(f))};
o.h=function(b){if(b instanceof y)return cc;for(var c=b.a(),b=b.b();!(b instanceof y);)c=c.add(b.a()),b=b.b();return c};function Nh(){this.c("asin")}Nh.prototype=new $;Nh.prototype.className="Asin";Nh.prototype.h=function(b){Jb(b,this.className,1);b=Math.asin(fb(b.a(),this).B());return new H(b)};function Oh(){this.c("atan")}Oh.prototype=new $;Oh.prototype.className="Atan";Oh.prototype.h=function(b){Jb(b,this.className,1);b=Math.atan(fb(b.a(),this).B());return new H(b)};
function Ph(){this.c("complex-parts")}Ph.prototype=new $;Ph.prototype.className="ComplexParts";Ph.prototype.h=function(b){Jb(b,this.className,1);b=Xb(b.a(),this);return w([new H(b.O),new H(b.K)])};function Qh(){this.c("cos")}Qh.prototype=new $;Qh.prototype.className="Cosine";Qh.prototype.h=function(b){Jb(b,this.className,1);b=Math.cos(fb(b.a(),this).B());return new H(b)};function Rh(){this.c("/")}Rh.prototype=new $;Rh.prototype.className="Divide";
Rh.prototype.h=function(b){b instanceof y&&g(new r("Function `/` expected at least 1 arg"));return Sh(b).rc(b)};function Th(){this.c("expt")}Th.prototype=new $;Th.prototype.className="Expt";Th.prototype.h=function(b){Jb(b,this.className,2);var c=b.a();c instanceof O||g(new TypeError);b=b.b().a();b instanceof O||g(new TypeError);return c instanceof I?$b(c,b):b instanceof I?$b(new I(c.B(),0),b):(c=c.B(),b=b.B(),new H(Math.pow(c,b)))};function Uh(){this.c("log")}Uh.prototype=new $;
Uh.prototype.className="Logarithm";Uh.prototype.h=function(b){Jb(b,this.className,1);b=fb(b.a(),this);return b instanceof I?b.log():new H(Math.log(b.B()))};function Vh(){this.c("make-complex")}Vh.prototype=new $;Vh.prototype.className="MakeComplex";Vh.prototype.h=function(b){Jb(b,this.className,2);var c=fb(b.a(),this),b=fb(b.b().a(),this);return new I(c.B(),b.B())};function Wh(){for(;;){var b=Math.floor(Math.gd()*9007199254740992);if(b<9007199254740992)return b}}
function Sh(b){return b instanceof y?Xh:b.a()instanceof H?Yh:b.a()instanceof I?complexOps:(b.b()instanceof A||g(new TypeError),Sh(b.b()))}function Zh(){}Zh.prototype.kc=i;Zh.prototype.multiply=i;Zh.prototype.rc=i;function $h(){}$h.prototype=new Zh;$h.prototype.kc=function(b){return Pa(ai(this,b))};function ai(b,c){if(c instanceof y)return 0;var d=c.a();d instanceof O||g(new TypeError);var d=d.B(),f=c.b();f instanceof A||g(new TypeError);return d+ai(b,f)}
$h.prototype.multiply=function(b){return Pa(bi(this,b))};$h.prototype.rc=function(b){var c=b.b(),d=b.a();d instanceof O||g(new TypeError);c=c instanceof y?1/d.B():d.B();b=b.b();b instanceof A||g(new TypeError);return Pa(c/bi(this,b))};function bi(b,c){if(c instanceof y)return 1;var d=c.a();d instanceof O||g(new TypeError);var d=d.B(),f=c.b();f instanceof A||g(new TypeError);f=bi(b,f);return d*f}var Yh=new $h;function ci(){}ci.prototype=new Zh;
ci.prototype.kc=function(b){if(b instanceof y)return cc;else{var c=b.a();c instanceof P||g(new TypeError);b=b.b();b instanceof A||g(new TypeError);return c.zb(this.kc(b))}};ci.prototype.multiply=function(b){if(b instanceof y)return dc;var c=b.a();c instanceof P||g(new TypeError);b=b.b();b instanceof A||g(new TypeError);return bc(c,this.multiply(b))};
ci.prototype.rc=function(b){var c=b.b(),d=b.a();d instanceof P||g(new TypeError);c=c instanceof y?new P(d.U,d.ca):d;b=b.b();b instanceof A||g(new TypeError);b=this.multiply(b);b=new P(b.U,b.ca);return bc(c,b)};var Xh=new ci;function di(){this.c("mod")}di.prototype=new $;di.prototype.className="Mod";di.prototype.S=function(b,c,d){c instanceof O||g(new TypeError);d instanceof O||g(new TypeError);C(b,c.Mc(d))};di.prototype.f=function(b,c){Jb(c,this.className,2);this.S(b,c.a(),c.b().a())};
function ei(){this.c("*")}ei.prototype=new $;o=ei.prototype;o.className="Multiply";o.wa=function(b){C(b,dc)};o.r=function(b,c){C(b,c)};o.S=function(b,c,d){C(b,c.multiply(d))};o.Ra=function(b,c,d,f){C(b,c.multiply(d).multiply(f))};o.h=function(b){if(b instanceof y)return dc;for(var c=b.a(),b=b.b();!(b instanceof y);)c=c.multiply(b.a()),b=b.b();return c};function fi(){this.c("polar-coordinates")}fi.prototype=new $;fi.prototype.className="PolarCoordinates";
fi.prototype.h=function(b){Jb(b,this.className,1);b=Xb(b.a(),this);return w([new H(Math.sqrt(b.O*b.O+b.K*b.K)),new H(Math.atan2(b.K,b.O))])};function gi(){this.c("quotient")}gi.prototype=new $;gi.prototype.className="Quotient";gi.prototype.h=function(b){rg(b,2,this.className);var c=gb(b.a(),this),d=gb(b.b().a(),this);(!c.ja()||!d.ja())&&g(new r("Type error: "+this+" : expected integer, got "+b));b=c.G()/d.G();return G(b<0?Math.ceil(b):Math.floor(b))};function hi(){this.c("rand")}hi.prototype=new $;
hi.prototype.className="Rand";hi.prototype.h=function(b){if(b instanceof y)return new H(Math.gd());else{var c=b.a();c instanceof O||g(new TypeError);c.ja()||g(new r("rand: requires one exact integer argument, got "+b));return new P(Math.abs(Wh()%c.G()),1)}};function ii(){this.c("sin")}ii.prototype=new $;ii.prototype.className="Sine";ii.prototype.h=function(b){Jb(b,this.className,1);b=Math.sin(fb(b.a(),this).B());return new H(b)};function ji(){this.c("sqrt")}ji.prototype=new $;
ji.prototype.className="Sqrt";ji.prototype.r=function(b,c){C(b,c.sqrt())};ji.prototype.f=function(b,c){rg(c,1,this.className);this.r(b,c.a())};function ki(){this.c("-")}ki.prototype=new $;o=ki.prototype;o.className="Subtract";o.r=function(){g(new r("- : expected at least 1 arg"))};o.r=function(b,c){c instanceof O||g(new TypeError);C(b,c.nb())};o.S=function(b,c,d){d instanceof O||g(new TypeError);C(b,c.add(d.nb()))};
o.h=function(b){b instanceof y&&g(new r("Function `-` expected at least 1 arg"));var c=b.a();c instanceof O||g(new TypeError);c=c.nb();b=b.b();b instanceof A||g(new TypeError);b instanceof y?b=c:(b=new A(c,b),b=Sh(b).kc(b).nb());return b};function li(){this.c("tan")}li.prototype=new $;li.prototype.className="Tangent";li.prototype.h=function(b){Jb(b,this.className,1);b=Math.tan(fb(b.a(),this).B());return new H(b)};function mi(){this.c("trunc")}mi.prototype=new $;mi.prototype.className="Trunc";
mi.prototype.h=function(b){Jb(b,this.className,1);b=b.a();b instanceof O||g(new TypeError);b=b.B();return new P(Math.floor(b),1)};function ni(){this.c("bound")}ni.prototype=new $;ni.prototype.className="Bound";ni.prototype.wa=function(){g(new r("bound: requires 1 arg"))};ni.prototype.r=function(b,c){c instanceof L||g(new TypeError);C(b,yb(c.bound()))};ni.prototype.h=function(b){Jb(b,this.className,1);b=bb(b.a(),this);return yb(b.bound())};function oi(){this.c("exact")}oi.prototype=new $;
oi.prototype.className="Exact";oi.prototype.h=function(b){b=fb(b.a(),this);return yb(b instanceof P&&b.ja())};function pi(){this.c(">")}pi.prototype=new $;o=pi.prototype;o.className="GreaterThan";o.wa=function(b){C(b,Va)};o.r=function(b){C(b,Va)};o.S=function(b,c,d){C(b,c.na(d)<=0?B:Va)};o.h=function(b){if(b.ha()<2)return Va;var c=b.a(),b=b.b();for(b instanceof A||g(new TypeError);!(b instanceof y);){var d=b.a();if(c.na(d)<=0)return B;c=d;b=b.b();b instanceof A||g(new TypeError)}return Va};
function qi(){this.c("is")}qi.prototype=new $;o=qi.prototype;o.className="Is";o.wa=function(b){C(b,Va)};o.r=function(b){C(b,Va)};o.S=function(b,c,d){C(b,yb(c.Ca(d)))};o.h=function(b){return ri(this,b.a(),b.b())};function ri(b,c,d){return d instanceof y?Va:!c.Ca(d.a())?B:ri(b,c,d.b())}function si(){this.c("<")}si.prototype=new $;o=si.prototype;o.className="LessThan";o.wa=function(b){C(b,Va)};o.r=function(b){C(b,Va)};o.S=function(b,c,d){C(b,c.na(d)<0?Va:B)};
o.h=function(b){var c=b.a(),b=b.b();for(b instanceof A||g(new TypeError);!(b instanceof y);){var d=b.a();if(c.na(d)>=0)return B;c=d;b=b.b();b instanceof A||g(new TypeError)}return Va};function ti(){this.c("rainbow-debug")}ti.prototype=new $;ti.prototype.className="RainbowDebug";ti.prototype.f=function(b){Jc(b,mf);C(b,J(this.Y))};function ui(){this.c("rainbow-profile")}ui.prototype=new $;ui.prototype.className="RainbowProfile";ui.prototype.wa=function(b){this.profile(b);C(b,B)};
ui.prototype.r=function(b,c){c instanceof jc||g(new TypeError);this.profile(c);C(b,B)};ui.prototype.profile=function(b){Jc(b,rf)};function vi(){this.c("rainbow-profile-report")}vi.prototype=new $;vi.prototype.className="RainbowProfileReport";vi.prototype.wa=function(b){C(b,this.hd(b))};vi.prototype.r=function(b,c){c instanceof jc||g(new TypeError);C(b,this.hd(b))};function wi(){this.c("current-gc-milliseconds")}wi.prototype=new $;wi.prototype.className="CurrentGcMilliseconds";
wi.prototype.f=function(b){C(b,G(1))};function xi(){this.c("current-process-milliseconds")}xi.prototype=new $;xi.prototype.className="CurrentProcessMilliseconds";xi.prototype.f=function(b){C(b,G(1))};function yi(){this.c("declare")}yi.prototype=new $;yi.prototype.className="Declare";yi.prototype.S=function(b,c,d){c===zi?(c=vf,vf=d,C(b,c)):C(b,B)};yi.prototype.f=function(b,c){this.S(b,c.a(),c.b().a())};var zi=J("atstrings");function Ai(){this.c("msec")}Ai.prototype=new $;Ai.prototype.className="MSec";
Ai.prototype.h=function(){return G((new Date).getTime())};function Bi(){this.c("seconds")}Bi.prototype=new $;Bi.prototype.className="Seconds";Bi.prototype.h=function(){var b=(new Date).getTime()/1E3;return G(b<0?Math.ceil(b):Math.floor(b))};function Ci(){this.c("maptable")}Ci.prototype=new $;Ci.prototype.className="MapTable";Ci.prototype.S=function(b,c,d){C(b,d);d instanceof Da||g(new TypeError);C(b,uc(d));c=new ad(c);c.k(this);D(b,c)};
Ci.prototype.f=function(b,c){rg(c,2,this.className);this.S(b,c.a(),c.b().a())};function Di(){this.c("sref")}Di.prototype=new $;Di.prototype.className="Sref";Di.prototype.Ra=function(b,c,d,f){C(b,c.jc(d,f))};Di.prototype.f=function(b,c){rg(c,3,this.className);this.Ra(b,c.a(),c.b().a(),c.b().b().a())};function Ei(){this.c("table")}Ei.prototype=new $;Ei.prototype.className="Table";
Ei.prototype.f=function(b,c){var d=new Da;C(b,d);if(!(c instanceof y)){var f=new Yc("table-initialiser");f.k(this);D(b,f);c.a().f(b,w([d]))}};function Fi(){this.c("atomic-invoke")}Fi.prototype=new $;Fi.prototype.className="AtomicInvoke";Fi.prototype.r=function(b,c){for(;b!==Gi&&Gi!==j;);Gi=b;Hi++;var d=new Ii;d.k(this);D(b,d);c.f(b,B)};Fi.prototype.f=function(b,c){this.r(b,c.a())};function Ii(){this.e=j}Ii.prototype=new M;Ii.prototype.className="AtomicInvoke.ReleaseLock";
Ii.prototype.d=function(){Hi--;Hi===0&&(Gi=j)};var Gi=j,Hi=0;function Ji(){this.c("break-thread")}Ji.prototype=new $;Ji.prototype.className="BreakThread";Ji.prototype.h=function(b){b=b.a();b instanceof jc||g(new TypeError);Jc(b,of);return B};function Ki(){this.c("ccc")}Ki.prototype=new $;Ki.prototype.className="CCC";Ki.prototype.r=function(b,c){c instanceof y&&g(new r("Can't ccc nil!"));c.r(b,new Li(b))};Ki.prototype.f=function(b,c){Jb(c,this.className,1);this.r(b,c.a())};
function Li(b){this.Qb=b;this.qd=!1}Li.prototype=new x;o=Li.prototype;o.className="CCC.ContinuationWrapper";o.r=function(b,c){var d;a:{for(d=0;d<b.g;d++)if(b.D[d]!==this.Qb.D[d]){d-=1;break a}d=b.g}for(var f=[],h=[];d<b.g;)Bc(b).a().Ib&&(f.push(Bc(b)),h.push(b.ga[b.g])),b.g--;d=[f,h];this.Qb.copyTo(b);C(b,c);for(f=d[0].length-1;0<=f;f--)h=d[1][f],h instanceof u||g(new TypeError),d[0][f]instanceof A||g(new TypeError),R(b,h,instructions)};o.f=function(b,c){this.r(b,c.a())};o.type=function(){return qg};
o.toString=function(){return"#<continuation ip:"+this.Qb.g+";ap:"+this.Qb.N+";VM#"+this.Qb.Cc+">"};function Mi(){this.c("dead")}Mi.prototype=new $;Mi.prototype.className="Dead";Mi.prototype.f=function(b,c){var d=c.a();d instanceof jc||g(new TypeError);C(b,yb(d.Xb))};function Ni(){this.c("kill-thread")}Ni.prototype=new $;Ni.prototype.className="KillThread";Ni.prototype.f=function(b,c){var d=c.a();d instanceof jc||g(new TypeError);Jc(d,of);C(b,B)};function Oi(){this.c("thread-local")}Oi.prototype=new $;
Oi.prototype.className="NewThreadLocal";Oi.prototype.h=function(){return new Tb};function Pi(){this.c("thread-local-ref")}Pi.prototype=new $;Pi.prototype.className="ThreadLocalGet";Pi.prototype.h=function(b){return Vb(b.a(),this).get()};function Qi(){this.c("thread-local-set")}Qi.prototype=new $;Qi.prototype.className="ThreadLocalSet";Qi.prototype.h=function(b){var c=Vb(b.a(),this),b=b.b().a();c.set(b);return b};function Ri(){this.c("annotate")}Ri.prototype=new $;Ri.prototype.className="Annotate";
Ri.prototype.h=function(b){var c=b.a(),b=b.b().a();return c===b.type()?b:new fc(c,b)};function Si(){this.c("coerce");Ti()}Si.prototype=new $;Si.prototype.className="Coerce";Si.prototype.S=function(b,c,d){var f=c.type();if(f===d)C(b,c);else try{d instanceof L||g(new TypeError),f instanceof L||g(new TypeError),(d.ub[f]||j).r(b,c)}catch(h){h instanceof Ui&&g(new r("Can't coerce "+c+" to "+d)),g(new r("Can't coerce "+c+" ( a "+c.type()+" ) to "+d,h))}};
Si.prototype.Ra=function(b,c,d,f){var h=c.type();if(h===d)C(b,c);else try{d instanceof L||g(new TypeError),h instanceof L||g(new TypeError),(d.ub[h]||j).S(b,c,f)}catch(k){k instanceof Ui&&g(new r("Can't coerce "+c+" to "+d)),g(new r("Can't coerce "+c+" ( a "+c.type()+" ) to "+d,k))}};Si.prototype.f=function(b,c){c.vb(2)?this.S(b,c.a(),c.b().a()):c.vb(3)?this.Ra(b,c.a(),c.b().a(),c.b().b().a()):g(new r("coerce expects 2 or 3 args, got "+c))};function Vi(){this.c("rep")}Vi.prototype=new $;
Vi.prototype.className="Rep";Vi.prototype.h=function(b){var c=b.a();if(c instanceof fc){b=b.a();try{b instanceof fc||g(new TypeError)}catch(d){d instanceof TypeError||g(d),g(new r("Wrong argument type: "+this+" expected a Tagged, got "+b))}b=b.qb}else b=c;return b};function Wi(){this.c("type")}Wi.prototype=new $;Wi.prototype.className="Type";Wi.prototype.r=function(b,c){C(b,c.type())};Wi.prototype.h=function(b){Jb(b,this.className,1);return b.a().type()};
var Lb=J("string"),Xi=J("sym"),Yi=J("int"),Zi=J("num"),$i=J("cons"),aj=J("char");
function Ti(){cb($i,Lb,new Mb("string-cons",function(b){b instanceof La||g(new TypeError);for(var b=b.value(),c=[],d=0;d<b.length;d++)c.push(Ma(b.charCodeAt(d)));return w(c)}));cb(Lb,$i,new Mb("cons-string",function(b){b instanceof A||g(new TypeError);for(var c=[];!(b instanceof y);)c.push(b.a().Xa()),b=b.b(),b instanceof A||g(new TypeError);return F(c.join(""))}));cb(Lb,Yi,new Mb("int-string",function(b){return this.tb(b,ec)},function(b,c){c instanceof O||g(new TypeError);b instanceof O||g(new TypeError);
var d;b instanceof I?d=F(b.toString()):b instanceof H&&c.G()!==10?g(new Ui):d=b instanceof P?b.stringify(c):bj(b,c);return d}));cb(Lb,Zi,new Mb("num-string",function(b){return this.tb(b,ec)},function(b,c){c instanceof O||g(new TypeError);b instanceof O||g(new TypeError);var d;b instanceof I?d=F(b.toString()):b instanceof H&&c.G()!==10?g(new Ui):d=b instanceof P?b.stringify(c):bj(b,c);return d}));cb(Xi,Lb,new Mb("string-sym",function(b){b instanceof La||g(new TypeError);return Na(b.value())}));cb(Lb,
Xi,new Mb("sym-string",function(b){return b instanceof y?F(""):F(b.Xa())}));cb(Yi,aj,new Mb("char-int",function(b){b instanceof N||g(new TypeError);b=b.value();return G(b)},function(b){return this.Fb(b)}));cb(Yi,Zi,new Mb("num-int",function(b){b instanceof O||g(new TypeError);return b.round()},function(b){return this.Fb(b)}));cb(Zi,Yi,new Mb("int-num",aa()));cb(aj,Yi,new Mb("int-char",function(b){b instanceof O||g(new TypeError);b.ja()||g(new Ui);return Ma(b.G())}));cb(Lb,aj,new Mb("char-string",
function(b){b instanceof N||g(new TypeError);b=b.value();return F(String.fromCharCode(b))}));cb(Xi,aj,new Mb("char-sym",function(b){b instanceof N||g(new TypeError);b=b.value();return Na(String.fromCharCode(b))}));cb(Zi,Lb,new Mb("string-num",function(b){return this.tb(b,ec)},function(b,c){c instanceof O||g(new TypeError);b instanceof La||g(new TypeError);var d=b.value().toLowerCase();if(d==="+inf.0")d=new H(1/0);else if(d==="-inf.0")d=new H(-1/0);else if(d==="+nan.0")d=new H(0/0);else{var f;if(/i$/i.test(d))try{f=
Wb()}catch(h){h instanceof Ba||g(h),g(new Ui)}else/\./.test(d)||c.G()<15&&/.e./.test(d)?d=cj(d,c.G()):/\//.test(d)?d=dj(d,c.G()):(f=c.G(),d=G(parseInt(d,~~f))),f=d;d=f}return d}));cb(Yi,Lb,new Mb("string-int",function(b){return this.tb(b,ec)},function(b,c){c instanceof O||g(new TypeError);b instanceof La||g(new TypeError);var d=b.value().toLowerCase();if(d==="+inf.0"||d==="-inf.0"||d==="+nan.0"||/i$/i.test(d))g(new Ui);else if(/\./.test(d)||c.G()<15&&/.e./i.test(d))return d=cj(d,c.G()),d instanceof
H||g(new TypeError),d.hc();else if(/\//.test(d))return d=dj(d,c.G()),d instanceof P||g(new TypeError),d.hc();else{var f=c.G();return G(parseInt(d,~~f))}}))}function bj(b,c){if(c.G()===10)return F(b.toString());else{var d=b.G().toString(~~c.G());return F(""+d+".0")}}function dj(b,c){var d=b.split(/\//g);2<d.length&&g(new Ui);return new P(parseInt(d[0],~~c),parseInt(d[1],~~c))}
function cj(b,c){var d=!1;/^-/.test(b)&&(d=!0,b=b.substring(1));b=b.toUpperCase();/E/.test(b)||(b+="E0");if(/\./.test(b))/^\./.test(b)&&(b="0"+b);else var f=b.split(/E/g),b=f[0]+".0E"+f[1];var f=b.split(/\./g),h=parseInt(f[0],~~c),f=f[1].split(/E/g);/^\+/.test(f[1])&&(f[1]=f[1].substring(1));f=(h+parseInt(f[0],~~c)/Math.pow(c,f[0].length))*Math.pow(c,parseInt(f[1],~~c));d&&(f=-f);return Pa(f)}function Mb(b,c,d){this.Y=b;if(c!==i)this.Fb=c;if(d!==i)this.tb=d}Mb.prototype=new x;o=Mb.prototype;
o.className="Typing.Coercion";o.type=function(){return J("fn")};o.Fb=function(){g(new r("not implemented: "+name+".coerce 1 arg"))};o.tb=function(){g(new r("not implemented: "+name+".coerce 2 args"))};o.r=function(b,c){C(b,this.Fb(c))};o.S=function(b,c,d){C(b,this.tb(c,d))};function Ui(){}Ui.prototype=Error();function ej(b){this.pa=b}ej.prototype=new zb;o=ej.prototype;o.className="Input";
o.fc=function(b,c){return this.pa.fc(function(c,f){return c?b(new r("Cannot read byte from "+this,c)):f===j?b(j,B):b(j,G(f))},c)};function fj(b,c,d){return b.pa.gc(function(b,d){return b?c(new r("reading character: "+b)):d===j?c(j,B):c(j,Ma(d))},d)}function gj(b,c,d,f){return Ka(b.pa,function(b,f){return b?d(new r("Can't parse input: "+b,b)):f===j?d(j,c):d(j,f)},f)}o.type=function(){return hj};o.ra=m("pa");o.close=function(){this.pd=!0;this.pa.close()};
function ij(b,c){try{return b instanceof ej||g(new TypeError),b}catch(d){d instanceof TypeError||g(d),g(new r("Wrong argument type: "+c+" expected input-port, got "+b))}}var hj=J("input");function jj(b){this.fb=b}jj.prototype=new zb;o=jj.prototype;o.className="Output";o.write=function(b){this.fb.Va(""+b)};o.type=function(){return kj};o.ra=m("fb");o.close=function(){this.fb.close()};o.mc=function(b){this.fb.mc(b)};
function lj(b,c){try{return b instanceof jj||g(new TypeError),b}catch(d){d instanceof TypeError||g(d),g(new r("Wrong argument type: "+c+" expected output-port, got "+b))}}o.flush=function(){this.fb.flush()};var kj=J("output");
function qa(b){function c(){if(b.length<=h)return!1;var c=b.charCodeAt(h++);f.push(c>>>8&255,c&255);return!0}function d(){return f.length!==0||c()?f.shift():j}var f=[],h=0;ej.call(this,{fc:function(b){b(j,d());return!0},gc:function(b){var c=d(),f=d();b(j,f===j?j:c<<8|f);return!0},gb:function(b){b(j,2<=f.length||c()?f[0]<<8|f[1]:j);return!0},close:l()})}qa.prototype=new ej(i);qa.prototype.className="StringInputPort";
function mj(){var b=this;b.Mb=[];b.mb=j;jj.call(this,{Va:function(c){if(b.mb===j)b.Mb.push(c);else for(var d=0,f=c.length;d<f;d++){var h=c.charCodeAt(d);b.Mb.push(String.fromCharCode(b.mb<<8|h>>>8&255));b.mb=h&255}},mc:function(c){b.mb===j?b.mb=c:(b.Mb.push(String.fromCharCode(b.mb<<8|c)),b.mb=j)},close:l(),flush:l()})}mj.prototype=new jj(i);mj.prototype.className="StringOutputPort";mj.prototype.value=function(){var b=this.Mb.join("");this.Mb=[b];return F(b)};mj.prototype.toString=n("#<string-output-port>");
function nj(){this.fb=la}nj.prototype=new jj(i);nj.prototype.className="IO.Anon_STD_OUT_";nj.prototype.close=l();nj.prototype.toString=n("IO.STD_OUT");var oj=new nj;function pj(){this.fb=ma}pj.prototype=new jj(i);pj.prototype.className="IO.Anon_STD_ERR_";pj.prototype.close=l();pj.prototype.toString=n("IO.STD_ERR");var qj=new pj;function rj(){this.pa=ka}rj.prototype=new ej(i);rj.prototype.className="IO.Anon_STD_IN_";rj.prototype.close=l();rj.prototype.toString=n("IO.STD_IN");
var uj={value:new rj},vj={value:oj};function wj(b,c){return b instanceof y?vj.value:lj(b,c)}function xj(b,c){return b instanceof y?uj.value:ij(b,c)}function yj(b){for(;!(b instanceof y);){var c=b.a();c instanceof ej?c.close():c instanceof jj?c.close():c instanceof ArcSocket?c.close():c instanceof mc?c.close():g(new r("close: expected Input or Output object; got "+c));b=b.b();b instanceof A||g(new TypeError)}return B}function zj(){this.c("close")}zj.prototype=new $;zj.prototype.className="Close_Builtin";
zj.prototype.h=function(b){return yj(b)};function Aj(){this.c("disp")}Aj.prototype=new $;Aj.prototype.className="Disp";Aj.prototype.r=function(b,c){vj.value.write(c.Xa());C(b,B)};Aj.prototype.h=function(b){var c=wj(b.b().a(),this),b=b.a();c.write(b.Xa());return B};function Bj(){this.c("flushout")}Bj.prototype=new $;Bj.prototype.className="FlushOut";Bj.prototype.h=function(){vj.value.flush();return Va};function Cj(){this.c("force-close")}Cj.prototype=new $;Cj.prototype.className="ForceClose";
Cj.prototype.h=function(b){return yj(b)};function Dj(){this.c("stderr")}Dj.prototype=new $;Dj.prototype.className="StdErr";Dj.prototype.h=function(){return qj};function Ej(){this.c("stderr")}Ej.prototype=new $;Ej.prototype.className="StdIn";Ej.prototype.h=function(b){rg(b,0,this.className);return uj.value};function Fj(){this.c("stdout")}Fj.prototype=new $;Fj.prototype.className="StdOut";Fj.prototype.h=function(){return vj.value};function Gj(){this.c("write")}Gj.prototype=new $;
Gj.prototype.className="Write";Gj.prototype.h=function(b){wj(b.b().a(),this).write(b.a());return B};function Hj(){this.c("writeb")}Hj.prototype=new $;Hj.prototype.className="WriteB";Hj.prototype.h=function(b){var c=wj(b.b().a(),this),b=gb(b.a(),this);b.ja()||g(new r("write byte: expected byte, got "+b));c.mc(b.G());return B};function Ij(){this.c("writec")}Ij.prototype=new $;Ij.prototype.className="WriteC";
Ij.prototype.h=function(b){var c=wj(b.b().a(),this),d=Cb(b.a(),this);c.fb.Va(String.fromCharCode(d.value()));return b.a()};function Jj(){this.c("instring")}Jj.prototype=new $;Jj.prototype.className="InString";Jj.prototype.h=function(b){return new qa(Nb(b.a(),this).value())};function Kj(){this.c("inside")}Kj.prototype=new $;Kj.prototype.className="Inside";
Kj.prototype.h=function(b){b=b.a();try{b instanceof mj||g(new TypeError)}catch(c){c instanceof TypeError||g(c),g(new r("Wrong argument type: "+this+" expected a StringOutputPort, got "+b))}return b.value()};function Lj(){this.c("outstring")}Lj.prototype=new $;Lj.prototype.className="OutString";Lj.prototype.h=function(){return new mj};function Mj(){this.c("call-w/stdin")}Mj.prototype=new $;Mj.prototype.className="CallWStdIn";
Mj.prototype.f=function(b,c){var d=new Zc(uj,uj.value);d.k(this);D(b,d);uj.value=ij(c.a(),this);c.b().a().f(b,B)};function Nj(){this.c("call-w/stdout")}Nj.prototype=new $;Nj.prototype.className="CallWStdOut";Nj.prototype.f=function(b,c){var d=new Zc(vj,vj.value);d.k(this);D(b,d);vj.value=lj(c.a(),this);c.b().a().f(b,B)};function Oj(){this.c("readb")}Oj.prototype=new $;Oj.prototype.className="ReadB";Oj.prototype.r=function(b,c){D(b,new Pj(xj(c,this),this))};
Oj.prototype.f=function(b,c){D(b,new Pj(xj(c.a(),this),this))};function Pj(b,c){this.e=j;this.Nb=b;this.k(c)}Pj.prototype=new M;Pj.prototype.za=!0;Pj.prototype.className="ReadB.Go";Pj.prototype.Ha=function(b,c,d){return this.Nb.fc(function(d,h){if(d)return void c(d);C(b,h);c(j)},d)};Pj.prototype.d=function(){g(Error())};function Qj(){this.c("readc")}Qj.prototype=new $;Qj.prototype.className="ReadC";Qj.prototype.r=function(b,c){D(b,new Rj(xj(c,this),this))};
Qj.prototype.f=function(b,c){D(b,new Rj(xj(c.a(),this),this))};function Rj(b,c){this.e=j;this.Nb=b;this.k(c)}Rj.prototype=new M;Rj.prototype.za=!0;Rj.prototype.className="ReadC.Go";Rj.prototype.Ha=function(b,c,d){return fj(this.Nb,function(d,h){if(d)return void c(d);C(b,h);c(j)},d)};Rj.prototype.d=function(){g(Error())};function Sj(){this.c("sread")}Sj.prototype=new $;Sj.prototype.className="Sread";Sj.prototype.f=function(b,c){D(b,new Tj(ij(c.a(),this),c.b().a(),this))};
function Tj(b,c,d){this.e=j;this.Nb=b;this.Zc=c;this.k(d)}Tj.prototype=new M;Tj.prototype.za=!0;Tj.prototype.className="Sread.Go";Tj.prototype.Ha=function(b,c,d){return gj(this.Nb,this.Zc,function(d,h){if(d)return void c(d);C(b,h);c(j)},d)};Tj.prototype.d=function(){g(Error())};function Uj(){this.c("dir")}Uj.prototype=new $;Uj.prototype.className="Dir";Uj.prototype.f=function(b,c){D(b,new Vj(Nb(c.a(),this).value(),this))};function Vj(b,c){this.e=j;this.Sa=b;this.k(c)}Vj.prototype=new M;
Vj.prototype.za=!0;Vj.prototype.className="Dir.Go";Vj.prototype.Ha=function(b,c){return na(function(d,f){if(d)return void c(d);C(b,f);c(j)})};Vj.prototype.d=function(){g(Error())};function Wj(){this.c("dir-exists")}Wj.prototype=new $;Wj.prototype.className="DirExists";Wj.prototype.f=function(b,c){D(b,new Xj(c.a(),this))};function Xj(b,c){this.e=j;this.Sa=b;this.k(c)}Xj.prototype=new M;Xj.prototype.za=!0;Xj.prototype.className="DirExists.Go";
Xj.prototype.Ha=function(b,c){return oa(Nb(this.Sa,this.e).value(),function(d,f){if(d)return void c(d);C(b,f?this.Sa:B);c(j)})};Xj.prototype.d=function(){g(Error())};function Yj(){this.c("file-exists")}Yj.prototype=new $;Yj.prototype.className="FileExists";Yj.prototype.f=function(b,c){D(b,new Zj(c.a(),this))};function Zj(b,c){this.e=j;this.Sa=b;this.k(c)}Zj.prototype=new M;Zj.prototype.za=!0;Zj.prototype.className="FileExists.Go";
Zj.prototype.Ha=function(b,c,d){return va.sd(Nb(this.Sa,this.e).value(),function(d,h){if(d)return void c(d);C(b,h);c(j)},d)};Zj.prototype.d=function(){g(Error())};function $j(){this.c("infile")}$j.prototype=new $;$j.prototype.className="InFile";$j.prototype.f=function(b,c){D(b,new ak(Nb(c.a(),this).value(),this))};function ak(b,c){this.e=j;this.Sa=b;this.k(c)}ak.prototype=new M;ak.prototype.za=!0;ak.prototype.className="InFile.Go";
ak.prototype.Ha=function(b,c,d){return pa(this.Sa,function(d,h){if(d)return void c(d);C(b,h);c(j)},d)};ak.prototype.d=function(){g(Error())};function bk(){this.c("outfile")}bk.prototype=new $;bk.prototype.className="OutFile";bk.prototype.f=function(b,c){var d=Nb(c.a(),this).value(),f=c.b().a(),f=!(f instanceof y)&&bb(f,this).name()==="append";D(b,new ck(d,f,this))};function ck(b,c,d){this.e=j;this.Y=b;this.Vc=c;this.k(d)}ck.prototype=new M;ck.prototype.za=!0;ck.prototype.className="OutFile.Go";
ck.prototype.Ha=function(b,c){return pa(this.Y,this.Vc,function(d,f){if(d)return void c(d);C(b,f);c(j)})};ck.prototype.d=function(){g(Error())};function dk(){this.c("make-directory")}dk.prototype=new $;dk.prototype.className="MakeDirectory";dk.prototype.f=function(b,c){D(b,new ek(Nb(c.a(),this).value(),this))};function ek(b,c){this.e=j;this.Sa=b;this.k(c)}ek.prototype=new M;ek.prototype.za=!0;ek.prototype.className="MakeDirectory.Go";
ek.prototype.Ha=function(b,c){return ra(function(d,f){if(d)return void c(d);C(b,f?xb:wb.Uc);c(j)})};ek.prototype.d=function(){g(Error())};function fk(){this.c("make-directory*")}fk.prototype=new $;fk.prototype.className="MakeDirectories";fk.prototype.f=function(b,c){D(b,new gk(Nb(c.a(),this).value(),this))};function gk(b,c){this.e=j;this.Sa=b;this.k(c)}gk.prototype=new M;gk.prototype.za=!0;gk.prototype.className="MakeDirectories.Go";
gk.prototype.Ha=function(b,c){return sa(function(d,f){if(d)return void c(d);C(b,f?xb:wb.Uc);c(j)})};gk.prototype.d=function(){g(Error())};function hk(){this.c("mvfile")}hk.prototype=new $;hk.prototype.className="MvFile";hk.prototype.f=function(b,c){D(b,new ik(Nb(c.a(),this).value(),Nb(c.b().a(),this).value(),this))};function ik(b,c,d){this.e=j;this.Ad=b;this.zd=c;this.k(d)}ik.prototype=new M;ik.prototype.za=!0;ik.prototype.className="MvFile.Go";
ik.prototype.Ha=function(b,c){return ta(function(d){if(d)return void c(d);C(b,B);c(j)})};ik.prototype.d=function(){g(Error())};function jk(){this.c("rmfile")}jk.prototype=new $;jk.prototype.className="RmFile";jk.prototype.f=function(b,c){D(b,new kk(Nb(c.a(),this).value(),this))};function kk(b,c){this.e=j;this.Sa=b;this.k(c)}kk.prototype=new M;kk.prototype.za=!0;kk.prototype.className="RmFile.Go";kk.prototype.Ha=function(b,c){return ua(function(d){if(d)return void c(d);C(b,B);c(j)})};
kk.prototype.d=function(){g(Error())};var wg=!0;
function lk(b){var c=(new Date).getTime(),d=mk();new Ai;new Bi;new xi;new wi;new yi;J("pi").da(new H(Math.PI));J("e").da(new H(Math.E));new mi;new Th;new hi;new ji;new gi;new di;new Mh;new ki;new ei;new Rh;new ii;new Qh;new li;new Nh;new Lh;new Oh;new Uh;new Ph;new Vh;new fi;new Wi;new Ri;new Vi;new Si;new Dh;new Ch;new nk;new Ni;new Ji;new Mi;new Fi;new Ki;new Oi;new Pi;new Qi;new kh;new ih;new ph;new nh;new oh;new mh;new Ih;new Eh;new Fh;new Jh;new Kh;new Gh;new Hh;new ni;new si;new pi;new oi;new qi;
new rh;new th;new vh;new Bh;new Ei;new Ci;new Di;new Mj;new Nj;new Ej;new Fj;new Dj;new Aj;new Gj;new Sj;new Hj;new Ij;new Oj;new Qj;new Bj;new zj;new Cj;new bk;new $j;new Wj;new Yj;new Uj;new jk;new hk;new dk;new fk;new Jj;new Lj;new Kj;new ti;new ui;new vi;var f=new jc;J("*argv*").da(w(d));J("call*").da(new Da);J("sig").da(new Da);ok(f,function(d){if(d)return void b(d);xa("repl in "+((new Date).getTime()-c)+"ms");pk(f,b,i)})}
function mk(){for(var b=[],c=[],d=0,f=b.length;d<f;d++){var h=b[d];Object.prototype.toString.call(h)!=="[object String]"&&g(new TypeError);c.push(Ja(""+h))}return c}function ok(b,c){var d=[],f=i;function h(d,k){if(d)return void c(d);if(k===j)return void c();qk(b,k,function(b){if(b)return void c(b);Ka(K,h,f)},f)}for(var k=[],p=0,q=d.length;p<q;p++){var z=d[p];Object.prototype.toString.call(z)!=="[object String]"&&g(new TypeError);k.push(z+" ")}var K=(new qa(k.join(""))).ra();Ka(K,h,f)}
function pk(b,c,d){wa("arc> ");for(var f=!0,h=!1;!h;)if(Ka(ka,function(k,p){if(k){if(!(k instanceof Ba))return void c(k);ya(k);f||pk(b,c,d)}else p===j?(h=!0,f||c()):qk(b,p,function(h){if(h)return void c(h);f||pk(b,c,d)},d)||(f=!1)},d)||(f=!1),!f)return;c()}function qk(b,c,d,f){return rk(b,c,function(b,c){if(b){if(!(b instanceof r))return void d(b);xa("Message    : "+b.message);wa("Java stack : ");ya(b,la)}else xa(c);d()},f)}function sk(b){this.e=b}sk.prototype=new Ye;sk.prototype.className="Console.Anon_mkVisitor_";
sk.prototype.Rb=function(b){b.k(this.e)};function rk(b,c,d,f){D(b,new tk(c));return kc(b,d,f)}function tk(b){this.e=j;this.va=b;this.k(F("Console.compileAndEvalAsync_"))}tk.prototype=new M;tk.prototype.className="Console.CompileAndEval";tk.prototype.d=function(b){D(b,new uk);uf(b,this.va,[])};function uk(){this.e=j;this.k(F("Console.compileAndEvalAsync_"))}uk.prototype=new M;uk.prototype.className="Console.AndEval";
uk.prototype.d=function(b){var c=Q(b).reduce(),d=[];c.m(d);d=w(d);d.j(new sk(c));R(b,j,d)};function nk(){this.c("new-thread")}nk.prototype=new $;nk.prototype.className="NewThread";nk.prototype.h=function(){g(new r("Rainbow.js doesn't support new-thread."))};function Qg(b,c,d){this.e=j;this.fa=b;this.n=c;this.k(d)}Qg.prototype=new M;Qg.prototype.className="BindAndRun";Qg.prototype.d=function(b){this.fa.add(Q(b));R(b,this.fa,this.n)};Na("window").da(new mc(window));
da(window,"load",function(){function b(){var b=z.value+"\n";z.value="";ea.ec.Va(b)}function c(b){if(b.Qc!==i)return b.Qc();for(var c=[],d=!0;d;)b.gc(function(b,f){b&&g(b);f!==j?d=!1:c.push(String.fromCharCode(f))},!0)||(d=!1);return c.join("")}function d(b){q.appendChild(document.createTextNode(b));ga||(ga=!0,setTimeout(function(){ga=!1;q.scrollTop=q.scrollHeight},0))}function f(b){b&&g(b);b=c(ea.Qa);b!==""&&(d(b),fa.ec.Va(b),ea.Qa.gb(f))}function h(b){b&&g(b);b=c(ha.Qa);b!==""&&(d(b),ha.Qa.gb(h))}
function k(b){b&&g(b);b=c(ja.Qa);b!==""&&(d(b),ja.Qa.gb(k))}var p=document.getElementById("repl"),q=document.createElement("pre");q.className="scrollback";q.appendChild(document.createTextNode(""));p.appendChild(q);var z=document.createElement("textarea");z.className="prompt";da(z,"keydown",function(b){if((b.which||b.keyCode)===13)b.preventDefault?b.preventDefault():b.returnValue=!1});da(z,"keyup",function(c){(c.which||c.keyCode)===13&&b()});p.appendChild(z);var K=document.createElement("button");
K.className="eval";K.appendChild(document.createTextNode("Eval"));da(K,"click",function(){b()});p.appendChild(K);var ga=!1;ea.Qa.gb(f);ha.Qa.gb(h);ja.Qa.gb(k);lk(l())});
