function g(b){throw b;}var i=void 0,j=!0,l=null,m=!1;function aa(){return function(b){return b}}function n(){return function(){}}function ba(b){return function(c){this[b]=c}}function o(b){return function(){return this[b]}}function q(b){return function(){return b}}var s;
function ca(){function b(){if(0!==k.length){var c=k.shift(),d=p.shift();setTimeout(function(){d(c)},0);setTimeout(b,0)}}function c(b,c,r,Y){if(0!==d.length&&0===k.length){var uc=d[0];if(1===d.length&&("byte"===uc.type||uc.Aa.length<<1===f+1)){if(h)return c&&(d=[]),b(l,l),j;Y||(k.push(b),p.push(r));return m}var gb,r=0,Y=f,V=uc;if("byte"===V.type)r++,uc=V.Aa;else{V=V.Aa;gb=V.charCodeAt(Y>>>1);if(Y&1)return c&&(f++,V.length<<1<=f&&(d.shift(),f=0)),b(l,gb),j;uc=gb>>>8&255;Y++;V.length<<1<=Y&&(r++,Y=0)}V=
d[r];"byte"===V.type?(r++,gb=V.Aa):(V=V.Aa,gb=V.charCodeAt(Y>>>1),gb=(Y&1?gb:gb>>>8)&255,Y++,V.length<<1<=Y&&(r++,Y=0));if(c){for(;r--;)d.shift();f=Y}b(l,uc<<8|gb);return j}if(h)return b(l,l),j;Y||(k.push(b),p.push(r));return m}var d=[],f=0,h=m,k=[],p=[],r={},B=r.jc=function(b,c){if(0!==d.length&&0===k.length){var r=d[0];if("byte"===r.type)d.shift(),b(l,r.Aa);else{var r=r.Aa,Y=r.charCodeAt(f>>>1),Y=(f&1?Y:Y>>>8)&255;f++;r.length<<1<=f&&(d.shift(),f=0);b(l,Y)}return j}if(h)return b(l,l),j;c||(k.push(b),
p.push(B));return m},J=r.kc=function(b,d){return c(b,j,J,d)},ha=r.jb=function(b,d){return c(b,m,ha,d)};r.close=n();r.Xc=function(){var b=d.length,c=m,h,k=[],p=0;if(f&1){var r=d[0].Aa,c=j;h=r.charCodeAt(f>>>1)&255;f++;for(var V=f>>>1,B=r.length;V<B;V++){var Sb=r.charCodeAt(V);k.push(String.fromCharCode(h<<8|Sb>>>8&255));h=Sb&255}f=0;p++}else f&&(k.push(d[0].Aa.substring(f>>>1)),f=0,p++);for(b=d.length;p<b;p++)if(r=d[p],"byte"===r.type)c?(k.push(String.fromCharCode(h<<8|r.Aa)),c=m):(h=r.Aa,c=j);else if(r=
r.Aa,c){V=0;for(B=r.length;V<B;V++)Sb=r.charCodeAt(V),k.push(String.fromCharCode(h<<8|Sb>>>8&255)),h=Sb&255}else k.push(r);d=c?[{type:"byte",Aa:h}]:[];return k.join("")};return{Ta:r,ic:{Ya:function(c){h||""===c||(d.push({type:"string",Aa:c}),b())},rc:function(c){h||(d.push({type:"byte",Aa:c}),b())},close:function(){h=j;b()},flush:n()}}}function da(b,c,d){b.addEventListener?b.addEventListener(c,d,m):b.attachEvent("on"+c,d)}var ea=ca(),fa=ca(),ga=ca(),ia=ca(),ka=fa.Ta,la=ga.ic,ma=ia.ic;
function na(b){b(new t("No filesystem."));return j}function oa(b,c){c(l,m);return j}function pa(b,c,d){if(d)return c(new t("Can't access the Web synchronously.")),j;d=new XMLHttpRequest;if("withCredentials"in d)d.open("GET",b,j);else if("XDomainRequest"in window)d=new XDomainRequest,d.open("GET",b);else return c(l,m),j;da(d,"error",function(){c(l,m)});da(d,"load",function(){c(l,j)});d.send(l);return m}
function qa(b,c,d){if(d)return c(new t("Can't access the Web synchronously.")),j;var f=new XMLHttpRequest;if("withCredentials"in f)f.open("GET",b,j);else if("XDomainRequest"in window)f=new XDomainRequest,f.open("GET",b);else return c(new t("No AJAX.")),j;da(f,"error",function(){c(new t("Couldn't open page: "+b+" because of error: "+f.statusText))});da(f,"load",function(){c(l,(new ra(f.responseText)).qa())});f.send(l);return m}function sa(b){b(new t("No filesystem."));return j}
function ta(b){b(new t("No filesystem."));return j}function ua(b){b(new t("No filesystem."));return j}function va(b){b(new t("No filesystem."));return j}function wa(b){b(new t("No filesystem."));return j};function xa(b){la.Ya(""+b)}function ya(b){la.Ya(""+b+"\n")}function za(b,c){i===c&&(c=ma);for(c.Ya(""+b+"\n"+(b.stack||b)+"\n");b instanceof t&&(b=b.cd);)b instanceof Aa&&(b=b.ta),c.Ya("Caused by: "+b+"\n"+(b.stack||b)+"\n")}var u={};function Ba(){}Ba.prototype.c=function(){this.vc={};return this};Ba.prototype.get=function(b){return this.vc["rainbow_"+b]};Ba.prototype.put=function(b,c){return this.vc["rainbow_"+b]=c};function t(b,c){this.message=b;this.stack=Error().stack;this.cd=c;this.td=[]}
t.prototype=Error();function v(b,c){this.parent=c;this.fb=Array(~~b);this.Jb=0}s=v.prototype;s.add=function(b){this.fb.length<=this.Jb&&g(new t("Can't add "+b+" to bindings: already full ("+this.Jb+") "+w(this.fb)));this.fb[this.Jb]=b;this.Jb++};s.Cb=function(b){return 0===b?this:this.parent.Cb(b-1)};s.toString=function(){for(var b=[],c=0;c<this.fb.length;c++)b.push(c),b.push(" : "),b.push(this.fb[c]),b.push("\n");return b.join("")+"\nparent: "+(this.parent===l?"<none>":this.parent.toString())};
s.set=function(b,c){return this.fb[b]=c};s.Ib=o("Jb");s.size=function(){return this.fb.length};function Ca(){}Ca.prototype=Error();function x(){}s=x.prototype;s.Ja=m;s.className="ArcObject";s.Ga=q(m);s.o=function(){g(new t("addInstructions not defined on "+this+", a "+this.className))};s.h=function(b,c){var d=Da.value();d instanceof Ea||g(new TypeError);d=d.value(this.type());d instanceof y&&g(new t("No handler for "+this.type()+" in call* table: called "+this+" with args "+c));d.h(b,new z(this,c))};
s.za=function(b){this.h(b,A)};s.u=function(b,c){this.h(b,new z(c,A))};s.V=function(b,c,d){this.h(b,new z(c,new z(d,A)))};s.Ua=function(b,c,d,f){this.h(b,new z(c,new z(d,new z(f,A))))};s.ka=function(){g(new t("len: expects one string, list or hash argument, got "+this.type()))};s.Tb=function(){g(new t("Can't set car of "+this.type()))};s.nc=function(b,c){g(new t("Can't sref "+this+"( a "+this.type()+"), other args were "+b+", "+c))};s.ra=q(0);s.sc=function(){return A};
s.a=function(){g(new t("Can't take car of "+this))};s.b=function(){g(new t("Can't take cdr of "+this))};s.Ac=q(m);s.type=i;s.copy=function(){return this};s.qa=function(){return this};s.Fa=function(b){return this===b};s.copyTo=aa();s.Q=q(j);s.Bb=function(){g(new Fa)};s.Na=function(){g(new Ga)};s.Vc=function(){return this};function Ha(b,c,d){for(var f=d,h=0;!(d instanceof y);)C(c,d.a()),d=d.b(),h++;D(c,new Ia(f,c.O,b));d=new Ja(h);d.m(b);D(c,d);d=new E(b);d.m(b);D(c,d)}
s.zb=function(){g(new t("has length: not a proper list: ends with "+this))};s.fc=function(){g(new t("longer than: not a proper list: ends with "+this))};s.N=function(){return this};s.l=n();s.Z=function(){return this};s.qc=n();s.Xb=n();s.Yb=function(){return A};s.Qa=function(){return this.Yb().toString()};s.add=function(){g(new t("add not implemented for "+this.type()+" "+this))};s.sqrt=function(){g(new t("sqrt not implemented for "+this.type()+" "+this))};
s.multiply=function(){g(new t("multiply not implemented for "+this.type()+" "+this))};function Ga(){}s.reduce=function(){return this};s.Y=q(m);s.U=function(){return this};s.T=function(){return this};s.ha=q(m);s.$a=function(){return this.toString()};function Ka(b){var c=l;La((new ra(b)).qa(),function(b,f){b&&g(b);c=f},j)||g(new Ca);return c}
function La(b,c,d){function f(c){return b.jb(function(b,d){if(b)return void c(b);c(l,d===l?l:String.fromCharCode(d))},d)}function h(c){return b.kc(function(b,d){if(b)return void c(b);c(l,d===l?l:String.fromCharCode(d))})}function k(b){for(var c=j,d=m;c&&!d;)d=j,h(function(p,r){if(p)return void b(p);r===l||"\n"===r?b(l):"\r"===r?f(function(d,f){if(d)return void b(d);"\n"===f?h(function(c){if(c)return void b(c);b(l)})||(c=m):b(l)})||(c=m):(d=m,c||k(b))})||(c=m);return c}function p(b){for(var c=j,d=
m;c&&!d;)d=j,f(function(f,r){function B(f){if(f)return void b(f);d=m;c||p(b)}if(f)return void b(f);";"===r?k(B)||(c=m):r===l||/[^ \t\r\n]/.test(r)?b(l):h(B)||(c=m)})||(c=m);return c}function r(b,c){function d(f){var h=b.length-1,k=b[h];b="string"===typeof f&&k instanceof Ma?b.slice(0,h).concat([F(k.value()+f)]):"string"===typeof f?b.concat([F(f)]):b.concat([f]);J=m;T||r(b,c)}function k(b){b===i&&(b=new Ca);c(b)}function B(){te(function(b,c){if(b)return k(b);p(function(b){if(b)return k(b);h(function(b,
f){if(b)return k(b);")"===f?d(c):k()})||(T=m)})||(T=m)})||(T=m)}for(var T=j,J=m;T&&!J;)J=j,h(function(r,p){if(r)return k(r);p===l?k():'"'===p?c(l,b):"\\"===p?h(function(b,c){if(b)return k(b);'"'===c?d('"'):"\\"===c?d("\\"):"n"===c?d("\n"):"r"===c?d("\r"):"t"===c?d("\t"):"#"===c?h(function(b,c){if(b)return k(b);"("===c?d("#("):k()})||(T=m):k()})||(T=m):"#"===p?f(function(b,c){if(b)return k(b);if("("!==c)return void d("#");h(function(b){if(b)return k(b);B()})||(T=m)})||(T=m):d(p)})||(T=m);return T}
function B(b,c){function d(b){c(l,Na(b))}for(var k=j,p=m;k&&!p;)p=j,f(function(f,r){if(f)return void c(f);r===l||/[^01-9a-zA-Z]/.test(r)?"newline"===b?d(10):"tab"===b?d(9):"space"===b?d(32):"return"===b?d(13):"null"===b?d(0):/^[01-9][01-9]+$/.test(b)?d(parseInt(b,10)):/^u[0-9a-f]+$/i.test(b)?d(parseInt(b.substring(1),16)):1===b.length?d(b.charCodeAt(0)):c(new Ca):h(function(d,f){if(d)return void c(d);p=m;b+=f;k||B(b,c)})||(k=m)})||(k=m);return k}function J(b,c){for(var d=j,k=m;d&&!k;)k=j,f(function(f,
p){if(f)return void c(f);if(p===l||/[^01-9a-fA-F]/.test(p)){if(""===b)return void c(new Ca);c(l,G(parseInt(b,16)))}else h(function(f,h){if(f)return void c(f);k=m;b+=h;d||J(b,c)})||(d=m)})||(d=m);return d}function ha(b,c){for(var d=j,f=m;d&&!f;)f=j,h(function(h,k){if(h)return void c(h);k===l?c(new Ca):"|"===k?c(l,Oa(b)):(f=m,b+=k,d||ha(b,c))})||(d=m);return d}function T(b,c,d){for(var k=j,r=m;k&&!r;)r=j,p(function(p){if(p)return void d(p);f(function(f,p){if(f)return void d(f);p===l?d(new Ca):p===c?
h(function(c){if(c)return void d(c);d(l,b)})||(k=m):te(function(f,h){if(f)return void d(f);r=m;b=b.concat([h]);k||T(b,c,d)})||(k=m)})||(k=m)})||(k=m);return k}function sb(b,c){for(var d=j,k=m;d&&!k;)k=j,f(function(f,p){if(f)return void c(f);var r=p!==l&&p.charCodeAt(0);if(p!==l&&(/^[-+$%&*\/<=>?^_~.!:01-9a-zA-Z]+$/.test(p)||128<=r&&65536>r))h(function(f,h){if(f)return void c(f);k=m;b+=h;d||sb(b,c)})||(d=m);else if("\\"===p)h(function(f){if(f)return void c(f);h(function(f,h){if(f)return void c(f);
"|"===h?(k=m,b+="\\|",d||sb(b,c)):c(new Ca)})||(d=m)})||(d=m);else{var T;/^-?[01-9]+\/[01-9]+$/.test(b)?c(l,Pa(b)):/^-?[01-9]+$/.test(b)?c(l,G(parseInt(b,10))):/^[-+]?[01-9]*\.?[01-9]+(e-?[01-9]+)?$/.test(b)?c(l,Qa(parseFloat(b))):"+inf.0"===b?c(l,new H(1/0)):"-inf.0"===b?c(l,new H(-1/0)):"+nan.0"===b?c(l,new H(0/0)):"+i"===b?c(l,new I(0,1)):"-i"===b?c(l,new I(0,-1)):(T=/^([-+]?[01-9]*\.?[01-9]+(?:e-?[01-9]+)?)([-+])([01-9]*\.?[01-9]+(?:e-?[01-9]+)?)?i$/.exec(b))?c(l,new I(Qa(parseFloat(T[1])).value(),
Qa(parseFloat(T[2]+(T[3]||"1"))).value())):c(l,Oa(b))}})||(d=m);return d}function te(b){function c(){r([],function(c,d){if(c)return void b(c);0===d.length?b(l,F("")):1===d.length?b(l,d[0]):b(l,w([Oa("string")].concat(d)))})||(ja=m)}function d(){ha("",function(c,d){if(c)return void b(c);b(l,Oa(d))})||(ja=m)}function k(){h(function(c,d){if(c)return void b(c);d!==l&&/x/i.test(d)?J("",b)||(ja=m):"\\"===d?h(function(c,d){if(c)return void b(c);if(/[^a-zA-Z]/.test(c))return void b(l,Na(c.charCodeAt(0)));
B(d,b)||(ja=m)})||(ja=m):b(new Ca)})||(ja=m)}function ue(c){te(function(d,f){if(d)return void b(d);f===l?b(new Ca):b(l,w([K(c),f]))})||(ja=m)}function Sb(){f(function(c,d){if(c)return void b(c);d===l?b(new Ca):"@"===d?h(function(c){if(c)return void b(c);ue("unquote-splicing")})||(ja=m):ue("unquote")})||(ja=m)}function xj(){T([],")",function(c,d){if(c)return void b(c);if(0===d.length)b(l,Ra);else{try{var f=d===l||0===d.length?A:d[0]===Sa?Ta(d):new z(d[0],Ua(d.slice(1)))}catch(h){return void b(h)}b(l,
f)}})||(ja=m)}function yj(){T([],"]",function(c,d){if(c)return void b(c);b(l,w([K("fn"),w([K("_")]),w(d)]))})||(ja=m)}var ja=j;p(function(f){if(f)return void b(f);h(function(f,h){if(f)return void b(f);h===l?b(l,l):'"'===h?c():"|"===h?d():"#"===h?k():"'"===h?ue("quote"):","===h?Sb():"`"===h?ue("quasiquote"):"("===h?xj():"["===h?yj():sb(h,b)||(ja=m)})||(ja=m)})||(ja=m);return ja}return te(c)}function L(b,c){this.ca=b;this.Wc=c;this.ed=b;this.yb=this.k=l}L.prototype=new x;s=L.prototype;s.className="Symbol";
s.o=function(b){b.push(new Va(this))};function K(b){var c=Oa(b);if(c instanceof L)return c;g(new t("can't make symbol from \""+b+'"'))}
function Oa(b){if("t"===b)b=Wa;else if("nil"===b)b=A;else{var c;if(!(c=Xa.test(b))){a:if(/^-?[01-9]+\/[01-9]+$/.test(b)||/^-?[01-9]+$/.test(b)||/^[-+]?[01-9]*\.?[01-9]+(e-?[01-9]+)?$/.test(b)||"+inf.0"===b||"-inf.0"===b||"+nan.0"===b||"+i"===b||"-i"===b||/^([-+]?[01-9]*\.?[01-9]+(?:e-?[01-9]+)?)([-+])([01-9]*\.?[01-9]+(?:e-?[01-9]+)?)?i$/.test(b)||/\\(?!\|)/.test(b))c=j;else{c=0;for(var d=b.length;c<d;c++){var f=b.charCodeAt(c);if(!(/^[-+$%&*\/<=>?^_~.!:01-9a-zA-Z]+$/.test(b.charAt(c))||128<=f&&65536>
f)){c=j;break a}}c=m}c=c||"."===b}b=c?Ya(b,"|"+b+"|"):Za.test(b)?Ya(b.replace(/\\\|/g,"|"),b):Ya(b,b)}return b}s.$a=o("ca");s.toString=o("Wc");function Ya(b,c){if("rainbow_"+b in $a.vc)return $a.get(b);var d=new L(b,c);$a.put(b,d);return d}s.name=o("ca");s.ra=function(b){b instanceof L||g(new TypeError);return this.ca.localeCompare(b.name)};s.type=function(){return ab};s.qa=function(){return this.name()};s.Ba=o("ed");s.xa=function(b){return this===b};
function bb(b,c){return c instanceof L&&c.name()===b}s.ga=function(b){var c=this.k;this.k=b;c!==l&&c.qc(this);b.Xb(this)};s.value=function(){this.k===l&&g(new t("Symbol "+this.ca+" is not bound"));return this.k};s.bound=function(){return this.k!==l};function cb(b,c){try{return b instanceof L||g(new TypeError),b}catch(d){d instanceof TypeError||g(d),g(new t("Wrong argument type: "+c+" expected a Symbol, got "+b))}}function db(b,c,d){if(b.yb===l)b.yb={};b.yb[c.name()]=d}
var $a=(new Ba).c(),Xa=/.*(["'; \t\n\)\(]|([^\\]|^)\|).*/,Za=/.*\\\|/,ab=K("sym"),Sa=K("."),eb=K("!");function z(b,c){b===l&&g(new t("Can't create Pair with null car: use NIL instead"));c===l&&g(new t("Can't create Pair with null cdr: use NIL instead"));this.Za=b;this.lb=c}z.prototype=new x;s=z.prototype;s.className="Pair";s.h=function(b,c){var d=fb(c.a(),this);C(b,this.Cb(d.J()).a())};s.sc=o("Za");s.a=o("Za");s.b=o("lb");s.Na=function(){this.Za!==l&&g(new Ga)};s.Q=q(m);
s.Tb=function(b){return this.Za=b};s.nc=function(b,c){return this.Cb(hb(c,this).J()).Tb(b)};s.Ac=function(b){return b===this.Za};s.toString=function(){if(this.a()instanceof L&&this.a().name()in ib&&this.b()instanceof z&&1===this.b().size()){var b=this.a(),b=ib[b.name()],c=this.b();c instanceof z||g(new TypeError);return b+jb(c)}return"("+jb(this)+")"};function jb(b){for(var c=[];!b.Q();)c.push(b.a()),b.b().Q()||c.push(" "),b=b.b();b instanceof y||c.push(" . ",b);return c.join("")}s.Hc=ba("lb");
function Ua(b){if(0===b.length)return A;if(b[0]===Sa)return 2===b.length?(b=b[1],b instanceof x||g(new TypeError),b):Ta(b);var c=b[0];c instanceof x||g(new TypeError);return new z(c,Ua(b.slice(1)))}function Ta(b){g(new t('Error: illegal use of "." in '+b))}function kb(b,c,d){if(d===b.length)return c;var f=b[d];f instanceof x||g(new TypeError);return new z(f,kb(b,c,d+1))}function lb(b,c){return b===l||0===b.length?c:kb(b,c,0)}function w(b){return lb(b,A)}s.type=function(){return mb};s.ka=function(){return this.size()};
s.size=function(){if(this instanceof y)return 0;for(var b=1,c=this.lb;!(c instanceof y);)c.Q()&&g(new t("cannot take size: not a proper list: "+this)),b++,c=c.b();return b};s.ra=function(){g(new t("Pair.compareTo:unimplemented"))};s.copyTo=function(b){b.push(this.a());if(this.b()instanceof y)return b;this.b()instanceof z||g(new t("Not a list: "+this));this.b().copyTo(b);return b};
s.xa=function(b){if(this===b)return j;var c=this instanceof y;b instanceof x||g(new TypeError);var d=b instanceof y;if(c!==d)return m;if(c&&d)return j;return b instanceof z?(c=b.Za.xa(this.Za),b=b.lb.xa(this.lb),c&&b):m};s.Ba=function(){return this.a().Ba()+this.b().Ba()};s.Cb=function(b){try{for(var c,d=this,f=b;0<f;)d.b()instanceof y&&g(new nb),d=d.b(),f--;c=d;c instanceof z||g(new TypeError);return c}catch(h){h instanceof nb||g(e),g(new t("Error: index "+b+" too large for list "+this))}};
s.zb=function(b){return this.b().zb(b-1)};s.fc=function(b){return 0>b||this.b().fc(b-1)};s.Qa=function(){return"ref:"+this.type().toString()};function nb(){}nb.prototype=Error();s=z.prototype;s.copy=function(){return this instanceof y?this:new z(this.a(),this.b().copy())};s.qa=function(){var b=[];ob(b,this);return b};s.Fa=function(b){return x.prototype.Fa.call(this,b)||this instanceof y&&b instanceof y};
function ob(b,c){if(!(c instanceof y)){b.push(c.a().qa());var d=c.b();d instanceof z||g(new TypeError);ob(b,d)}}function pb(b){var c=Array(~~b.size());qb(b,c,0);return c}function qb(b,c,d){if(d<c.length)c[d]=b.Za,b=b.lb,b instanceof z||g(new TypeError),b instanceof y||qb(b,c,d+1)}function rb(b,c){try{return b instanceof z||g(new TypeError),b}catch(d){d instanceof TypeError||g(d),g(new t("Wrong argument type: "+c+" expected a cons, got "+b))}}s.Bb=n();
s.add=function(b){if(b instanceof z){var c=[];this.copyTo(c);b.copyTo(c);return w(c)}g(new t("+ : expects cons, got "+b.type()+" "+b))};s.l=function(b){b.va(this);for(var c=this;!c.Q();)c.a().l(b),c=c.b();c instanceof y||c.l(b);b.Ia(this)};function Fa(){}var mb=K("cons"),ib={quasiquote:"`",quote:"'",unquote:",","unquote-splicing":",@"};function y(b){this.Za=this.lb=l;this.ub=b}var tb=new z(i,i);tb.X=tb.P=l;y.prototype=tb;s=y.prototype;s.className="Nil";s.o=function(b){b.push(new E(ub))};
s.h=function(b,c){g(new t("Function dispatch on inappropriate object: "+this+" with args "+c))};s.Bb=n();s.Ga=q(j);s.ka=q(0);s.Q=q(j);s.Na=n();s.toString=o("ub");s.sc=function(){return this};s.a=function(){return this};s.b=function(){return this};s.Ac=q(m);s.Hc=function(){g(Error("can't set the cdr of "+this))};s.size=q(0);s.copyTo=aa();s.type=function(){return vb};s.Ba=q("nil");s.xa=function(b){if(this===b)return j;b instanceof x||g(new TypeError);return b instanceof y};s.qa=q(m);
s.Fa=function(b){return b instanceof y};s.Vc=aa();s.zb=function(b){return 0===b};s.fc=function(b){return 0>b};var vb=ab,ub=new y("nil"),wb=new y("()");function xb(){L.call(this,this.ca,this.Wc);yb!==i&&g(Error())}xb.prototype=new L("t","t");s=xb.prototype;s.className="Truth";s.Ga=q(j);s.o=function(b){b.push(new E(yb))};s.toString=q("t");s.ra=function(){g(new t("Truth.compareTo:unimplemented"))};s.type=function(){return ab};function zb(b){return b?yb:A}s.Ba=q("t");s.xa=function(b){return this===b};
s.qa=q(j);s.ga=function(){g(new t("error: can't rebind t!"))};s.value=function(){return this};var yb=new xb;function M(){this.g=l}M.prototype=new x;s=M.prototype;s.Lb=m;s.dc=m;s.oa=m;s.Ca=m;s.className="Instruction";s.type=function(){return K("instruction")};s.bb=function(){return this.toString()};s.toString=function(){return"("+this.className+")"};s.d=i;s.m=ba("g");s.l=function(b){b.Vb(this)};function Ia(b,c,d){this.g=l;this.jd=b;this.Gb=c;this.m(d)}Ia.prototype=new M;Ia.prototype.dc=j;
Ia.prototype.className="ArcObject.ConvertError";Ia.prototype.uc=function(b){return b instanceof Error};Ia.prototype.d=function(b){var c=b.error();if(c!==l)b.Sa=l,b.O=this.Gb,g(new t("error invoking "+this.g+" with args "+this.jd+": "+c,c))};var Da=K("call*"),A=ub,Ra=wb,Wa=yb;function Ab(){}Ab.prototype=new x;Ab.prototype.className="LiteralObject";Ab.prototype.Ga=q(j);Ab.prototype.o=function(b){b.push(new E(this))};Ab.prototype.Qa=function(){return"ref:"+this.type().toString()};
function N(b){this.k=b;Bb[b]=this}N.prototype=new Ab;s=N.prototype;s.className="ArcCharacter";function Na(b){return Bb[b]===i?new N(b):Bb[b]}s.Ga=q(j);s.toString=function(){return"#\\"+String.fromCharCode(this.k)};s.ra=function(b){b instanceof N||g(new TypeError);return this.k-other.k};s.type=function(){return Cb};s.qa=function(){return this.value()};s.value=o("k");s.$a=function(){return String.fromCharCode(this.k)};s.Ba=function(){return this.$a()};
s.xa=function(b){return this===b||b instanceof N&&b.k===this.k};function Db(b,c){try{return b instanceof N||g(new TypeError),b}catch(d){d instanceof TypeError||g(d),g(new t("Wrong argument type: "+c+" expected a character, got "+b))}}var Cb=K("char"),Bb=Array(65536);function Eb(){N.call(this,0)}Eb.prototype=new N(0);Eb.prototype.className="ArcCharacter.Anon_NULL_";Eb.prototype.toString=q("#\\null");var Fb=new Eb;function Gb(){N.call(this,10)}Gb.prototype=new N(10);Gb.prototype.className="ArcCharacter.Anon_named_1_";
Gb.prototype.toString=q("#\\newline");function Hb(){N.call(this,9)}Hb.prototype=new N(9);Hb.prototype.className="ArcCharacter.Anon_named_2_";Hb.prototype.toString=q("#\\tab");function Ib(){N.call(this,13)}Ib.prototype=new N(13);Ib.prototype.className="ArcCharacter.Anon_named_3_";Ib.prototype.toString=q("#\\return");function Jb(){N.call(this,32)}Jb.prototype=new N(32);Jb.prototype.className="ArcCharacter.Anon_named_4_";Jb.prototype.toString=q("#\\space");new Gb;new Hb;new Ib;new Jb;
function Ma(b){this.k=b}Ma.prototype=new Ab;s=Ma.prototype;s.className="ArcString";s.h=function(b,c){Kb(c,this.className,1);var d=hb(c.a(),this);d.ma()||g(new t("string-ref: expects exact integer: got "+d));d=~~d.J();0<=d||d<this.value.length()||g(new t("string-ref: index "+d+" out of range [0, "+(this.k.length-1)+"] for string "+this.toString()));C(b,Na(this.k.charCodeAt(d)))};s.value=o("k");s.$a=o("k");
s.toString=function(){var b=this.k,c=[];c.push('"');for(var d=0;d<b.length;d++)switch(b.charAt(d)){case '"':c.push('\\"');break;case "\\":c.push("\\\\");break;case "\n":c.push("\\n");break;case "\r":c.push("\\r");break;default:c.push(b.charAt(d))}c.push('"');return c.join("")};s.ra=function(b){b instanceof Ma||g(new TypeError);return this.k.localeCompare(b.k)};s.ka=function(){return this.k.length};s.Tb=function(b){var c=[Db(b,this).$a()];c.push(this.value().substring(1));this.ga(c.join(""));return b};
s.nc=function(b,c){var d=Db(b,N),f=hb(c,this),f=f.J();0<=f&&f<this.k.length||g(new RangeError);this.k=this.k.substring(0,f)+String.fromCharCode(d.value())+this.k.substring(f+1);return b};s.type=function(){return Lb};s.qa=function(){return this.value()};function F(b){return new Ma(b)}s.ga=ba("k");s.Ba=o("k");s.xa=function(b){return this===b||b instanceof Ma&&b.k===this.k};s.Fa=function(b){return this.xa(b)};
s.add=function(b){var c=[this.k];if(!(b instanceof Ma)){var d=b.type();d instanceof L||g(new TypeError);d=Mb.yb[d]||l;d instanceof Nb||g(new TypeError);b=d.Hb(b);b instanceof Ma||g(new TypeError)}c.push(b.value());return F(c.join(""))};function Ob(b,c){try{return b instanceof Ma||g(new TypeError),b}catch(d){d instanceof TypeError||g(d),g(new t("Wrong argument type: "+c+" expected a string, got "+b))}}var Lb=K("string");function Aa(b,c,d){this.sb=c;this.ta=b;this.nd=d}Aa.prototype=new Ab;
Aa.prototype.className="ArcException";Aa.prototype.type=function(){return Pb};Aa.prototype.message=function(){return this.ta!==l?F(this.ta.message):Qb};Aa.prototype.toString=function(){return this.message().toString()};var Pb=K("exn"),Qb=F("no message");function O(){}O.prototype=new Ab;s=O.prototype;s.className="ArcNumber";s.ma=i;s.G=i;s.J=i;s.qb=i;s.round=i;s.lc=function(){g(new t("round[closest] not implemented for "+this.className+"("+this+")"))};s.Ga=q(j);
s.ra=function(b){b instanceof O||g(new TypeError);b=b.G()-this.G();return 0>b?1:0===b?0:-1};s.type=function(){return this.ma()?Rb:Tb};s.Fa=function(b){return this.xa(b)};function fb(b,c){try{return b instanceof O||g(new TypeError),b}catch(d){d instanceof TypeError||g(d),g(new t("Wrong argument type: "+c+" expected a number, got "+b))}}s.Sc=function(){g(new t("mod: not implemented for "+this.className+"("+this+")"))};var Rb=K("int"),Tb=K("num");function Ub(){this.k=l}Ub.prototype=new Ab;
Ub.prototype.className="ArcThreadLocal";Ub.prototype.set=ba("k");Ub.prototype.get=o("k");Ub.prototype.type=function(){return Vb};function Wb(b,c){try{return b instanceof Ub||g(new TypeError),b}catch(d){d instanceof TypeError||g(d),g(new t("Wrong argument type: "+c+" expected a thread-local, got "+b))}}var Vb=K("thread-local");function I(b,c){this.X=b;this.P=c}I.prototype=new O;s=I.prototype;s.className="Complex";
function Xb(){var b;if("+i"===soFar)return new I(0,1);if("-i"===soFar)return new I(0,-1);if(b=/^([-+]?[01-9]*\.?[01-9]+(?:e-?[01-9]+)?)([-+])([01-9]*\.?[01-9]+(?:e-?[01-9]+)?)?i$/.exec(soFar))return new I(Qa(parseFloat(b[1])).value(),Qa(parseFloat(b[2]+(b[3]||"1"))).value());g(new Ca)}s.ma=function(){return 0===this.P&&Math.floor(this.X)===real};s.G=function(){g(new t("Cannot convert complex to double"))};s.J=function(){g(new t("Cannot convert complex to int"))};
s.qb=function(){return new I(-this.X,-this.P)};s.toString=function(){return(new H(this.X)).toString()+(0>this.P?"":"+")+(new H(this.P)).toString()+"i"};function Yb(b,c){try{return b instanceof I||g(new TypeError),b}catch(d){d instanceof TypeError||g(d),g(new t("Wrong argument type: "+c+" expected a complex number, got "+b))}}s.round=function(){return new t("Can't convert "+this+" to integer")};function Zb(b){var c=argument.G();return new I(b.X*c,b.P*c)}
s.multiply=function(b){if(b instanceof I)return $b(this,b);b instanceof O||g(new TypeError);b=b.G();return new I(this.X*b,this.P*b)};function $b(b,c){var d=b.X,f=c.X,h=b.P,k=c.P;return new I(d*f-h*k,d*k+f*h)}s.add=function(b){if(b instanceof I)return new I(this.X+b.X,this.P+b.P);if(b instanceof P||b instanceof H)return new I(this.X+b.G(),this.P);g(new t("+: expects a number, got "+b.type()+" "+b))};s.log=function(){return new I(Math.log(Math.sqrt(this.X*this.X+this.P*this.P)),Math.atan2(this.P,this.X))};
function ac(b,c){var d;if(c instanceof I)d=$b(b.log(),c).exp();else{d=b.log();var f=c.G();d=(new I(d.X*f,d.P*f)).exp()}return d}s.sqrt=function(){return ac(this,Qa(0.5))};s.exp=function(){var b=Math.exp(this.X);return new I(b*Math.cos(this.P),b*Math.sin(this.P))};s.ra=function(){g(new t("Compare: complex numbers are unordered and cannot be compared"))};s.Fa=function(b){return b instanceof I?b.X===this.X&&b.P===this.P:b instanceof O&&0===this.P&&b.G()===this.X};
function P(b,c){0===c&&0!==b&&g(new t("/: division by zero"));var d=bc(this,b,c);this.fa=b/d;this.S=c/d}P.prototype=new O;s=P.prototype;s.className="Rational";function Pa(b){b=b.split("/");return new P(parseInt(b[0],10),parseInt(b[1],10))}function G(b){return new P(b,1)}s.toString=function(){return this.fa+(1===this.S?"":"/"+this.S)};s.ma=function(){return 1===this.S};s.G=function(){return this.fa/this.S};s.J=function(){if(0===this.fa)return 0;var b=this.fa/this.S;return 0>b?Math.ceil(b):Math.floor(b)};
function bc(b,c,d){return 0===d?c:bc(b,d,c%d)}s.Sc=function(b){(!this.ma()||!b.ma())&&g(new t("modulo: expects integer, got ("+this+" "+b+")"));var b=b.J(),c=this.fa%b;0>c&&(c+=b);return G(c)};function cc(b,c){return new P(b.fa*c.fa,b.S*c.S)}s.Qb=function(b){return new P(this.fa*b.S+b.fa*this.S,this.S*b.S)};s.qb=function(){return new P(-this.fa,this.S)};s.qa=function(){return this.ma()?this.J():this.G()};s.Ba=function(){return this.ma()?this.J():this.G()};
s.Ba=function(){return 37*this.fa+this.S+""};s.xa=function(b){return b instanceof P&&this.fa===b.fa&&this.S===b.S};function hb(b,c){try{return b instanceof P||g(new TypeError),b}catch(d){d instanceof TypeError||g(d),g(new t("Wrong argument type: "+c+" expected a Rational, got "+b))}}s.round=function(){if(1===this.S)return this;if(2===this.S){var b=this.fa/this.S,b=0>b?Math.ceil(b):Math.floor(b);return G(b+(1===b%2?1:0))}return G(Math.round(this.fa/this.S))};
s.lc=function(){return 1===this.S?this:G(Math.round(this.fa/this.S))};s.stringify=function(b){var c=this.fa.toString(b.J());if(this.ma())return F(c);b=this.S.toString(b.J());return F(c+"/"+b)};s.sqrt=function(){var b=Math.sqrt(this.fa/this.S);return Math.floor(b)===b?G(b):Qa(b)};s.multiply=function(b){if(b instanceof I)return Zb(b);if(b instanceof H)return Qa(b.k*this.G());if(b instanceof P)return cc(this,b);g(new t("*: expects a number, got "+b.type()+" "+b))};
s.add=function(b){if(b instanceof I)return new I(b.X+this.G(),b.P);if(b instanceof H)return b.Qb(this);if(b instanceof P)return this.Qb(b);g(new t("+: expects a number, got "+b.type()+" "+b))};var dc=G(0),ec=G(1),fc=G(10);function H(b){this.k=b}H.prototype=new O;s=H.prototype;s.className="Real";function Qa(b){return new H(b)}s.toString=function(){return this.k===-1/0?"-inf.0":this.k===1/0?"+inf.0":this.k!==this.k?"+nan.0":""+this.k};s.qa=function(){this.ma();return this.value()};s.type=function(){return Tb};
s.value=o("k");s.ma=function(){return Math.floor(this.k)===this.k};s.G=o("k");s.J=function(){return 0>this.k?Math.ceil(this.k):Math.floor(this.k)};s.qb=function(){return Qa(-this.k)};s.Ba=function(){return""+this.k};s.xa=function(b){return b instanceof I?b.Fa(this):this===b||b instanceof H&&this.k===b.k};s.round=function(){var b=Math.round(this.k);return 0.5===Math.abs(this.k-b)&&1==b%2?b<this.k?G(b+1):G(b-1):G(b)};s.lc=function(){return G(Math.round(this.k))};s.Qb=function(b){return Qa(this.k+b.G())};
s.sqrt=function(){return Qa(Math.sqrt(this.k))};s.multiply=function(b){if(b instanceof I)return Zb(b);if(b instanceof O)return Qa(this.k*b.G());g(new t("*: expects a number, got "+b.type()+" "+b))};s.add=function(b){if(b instanceof I)return new I(b.X+this.G(),b.P);if(b instanceof P||b instanceof H)return this.Qb(b);g(new t("+: expects a number, got "+b.type()+" "+b))};function gc(b,c){this.Eb=b;this.ub=c}gc.prototype=new Ab;s=gc.prototype;s.className="Tagged";
s.h=function(b,c){var d=Da.value();d instanceof Ea||g(new TypeError);return d.value(this.Eb).h(b,new z(this.ub,c))};s.ra=q(0);s.type=o("Eb");function hc(b){return b instanceof gc&&"mac"===b.Eb.toString()?b.ub:l}s.toString=function(){return ic(this)};
function ic(b){var c=jc;if(!c.bound())return"#<tagged "+b.Eb+" "+b.ub+">";c=c.value();c instanceof Ea||g(new TypeError);c=c.value(b.Eb);if(c instanceof y)return"#<tagged "+b.Eb+" "+b.ub+">";b=new kc;c.h(b,w([rep]));var d;lc(b,function(b,c){b&&g(b);d=c},j)||g(new t("An asynchronous operation was attempted during a toString()."));return""+mc(d)}var jc=K("tagged-writers");function nc(b){this.Dc=b}nc.prototype=new Ab;s=nc.prototype;s.className="JsObject";s.type=function(){return oc};s.qa=o("Dc");
s.toString=function(){return""+this.Dc};function pc(b){var c=[];qc(c,b);return c}function qc(b,c){b.push(mc(c.a()));if(!(c.b()instanceof y)){var d=c.b();d instanceof z||g(new TypeError);qc(b,d)}}function mc(b){return b.qa()}
function rc(b){if(b===l)return A;if(b instanceof x)return b;var c=Object.prototype.toString.call(b);if("[object Number]"===c)return b*=1,b===Math.floor(b)?G(b):Qa(b);if("[object String]"===c)b=F(""+b);else if("[object Array]"===c||"[object Arguments]"===c){for(var c=Array(~~b.length),d=0;d<b.length;d++)c[d]=rc(b[d]);b=w(c)}else b="[object Boolean]"===c?b?Wa:A:new nc(b);return b}s.close=function(){g(new t("close: unexpected object: "+this))};var oc=K("java-object");
function Ea(){this.ca=A;this.gc=(new Ba).c();this.ob=this.cc=l;this.hc=new sc;this.Rc=0}Ea.prototype=new Ab;s=Ea.prototype;s.className="Hash";s.qc=function(b){if(this.ca===b)this.ca=A,this.hc=new sc};s.Xb=function(b){this.ca=b;this.hc=new tc(this)};s.Yb=o("ca");s.h=function(b,c){C(b,this.value(c.a()).Vc(c.b().a()))};s.toString=function(){return"#hash"+vc(this)};function vc(b){for(var c=[],d=b.cc;d!==l;d=d.next){var f=d.key,f=new z(f,new z(b.value(f),A));c.push(f)}return lb(c,Ra)}s.ka=function(){return this.size()};
s.nc=function(b,c){if(b instanceof y){var d=this.value(c),f=this.gc.get(c.Ba());if(f)for(var h=0,k=f.length;h<k;h++){var p=f[h];if(c.xa(p.key)){f.splice(h,1);if(p.Sb)p.Sb.next=p.next;if(p.next)p.next.Sb=p.Sb;if(this.cc===p)this.cc=p.next;if(this.ob===p)this.ob=p.Sb;this.ka--;break}}this.hc.Jc(d,c)}else{d=c.Ba();d=this.gc.get(d)||this.gc.put(d,[]);f=l;h=0;for(k=d.length;h<k;h++)if(p=d[h],c.xa(p.key)){f=p;break}f===l?(f=this.ob,this.ob={key:c,value:b,Sb:f,next:l},f===l?this.cc=this.ob:f.next=this.ob,
d.push(this.ob),this.Rc++):f.value=b;this.hc.name(b,c)}return b};s.value=function(b){var c=this.gc.get(b.Ba());if(!c)return A;for(var d=0,f=c.length;d<f;d++){var h=c[d];if(b.xa(h.key))return h.value}return A};s.ra=q(0);s.type=function(){return wc};s.size=o("Rc");function xc(){}xc.prototype.name=i;xc.prototype.Jc=i;function tc(b){this.Zc=b}tc.prototype=new xc;tc.prototype.name=function(b,c){b.Xb(new z(c,this.Zc))};tc.prototype.Jc=function(b,c){b.qc(new z(c,this.Zc))};function sc(){}sc.prototype=new xc;
sc.prototype.name=n();sc.prototype.Jc=n();var wc=K("table");function kc(){this.Ic=yc++;this.da=Array(100);this.O=-1;this.pa=[];this.ja=Array(100);this.H=Array(100);this.i=-1;this.Sa=this.Kb=this.t=l;this.nb=zc;this.ac=m;this.Ea=0;this.Wa=l;this.Mc=0;this.sb=l}kc.prototype=new x;s=kc.prototype;s.className="VM";
function lc(b,c,d){var f=b.Ea;b.Ea=b.i;var h=Ac(b,function(){b.Ea=f;if(b.Sa===l)b.nb.end(b),c(l,Q(b));else{var d=b.Sa;b.Sa=l;var h=d.nd,r="\nAt instruction "+d.sb;if(h!==l)for(var B=0,J=h.length;B<J;B++)r+="\n"+h[B].Qa();c(new t("Unhandled exception on thread#"+b.Ic+": "+d.ta.message+r,d.ta))}},d);if(d&&!h)b.Ea=f;return h}
function Ac(b,c,d){function f(){for(;h.Ea<=h.i;)try{if(h.H[h.i]instanceof y)h.i--;else{h.t=h.ja[h.i];h.Kb=h.pa[h.i];var b=h.H[h.i].a();b instanceof M||g(new TypeError);h.sb=b;var r=h.H[h.i].b();r instanceof z||g(new TypeError);h.H[h.i]=r;if(h.sb.Ca){var B=j,B=h.sb.Ka(h,function(b){b?Bc(h,b):h.nb.gb(h);B||f()},d);if(!B){k=m;return}}else h.sb.d(h),h.nb.gb(h)}}catch(J){Bc(h,J)}c()}b.nb.gb(b);var h=b,k=j;f();return k}
function Bc(b,c){for(var d=[],f=[],h=[];b.Ea<=b.i;){var k=Cc(b).a();if(k.dc&&k.uc(c))break;k=Cc(b).a();k.Lb&&(f.push(Cc(b)),h.push(b.ja[b.i]));if(k instanceof M)k=Cc(b).a().g,k!==l&&d.push(k);b.i--}b.Sa=new Aa(c,b.sb,d);for(d=f.length-1;0<=d;d--)R(b,h[d],f[d])}s.error=o("Sa");
s.show=function(){ya("Thread Dump for thread#"+threadId);ya(""+(this.O+1)+" args");for(var b=5<this.O?this.O-5:0;b<this.O+1;b++)ya(""+b+". "+this.da[b]);ya();b=this.i+1;if(this.H[this.i]instanceof y)b=this.i;ya(""+b+" instruction frames");for(var b=20<this.i?this.i-20:0,c=this.i;b<=c;c--)if(!(this.H[c]instanceof y)){var d=this.H[c],f=this.ja[c],h=this.pa[c];for(xa("\nInstruction Frame "+c+":");!(d instanceof y);){var k=d.a();k instanceof M||g(new TypeError);d=d.b();newInstructions instanceof z||g(new TypeError);
xa(k.bb(f));xa(" ")}xa("[");k=0;for(d=h.length;k<d;k++)xa(""+h[k]+" ");xa("]");la.Ya("\n")}};function D(b,c){b.Ea<=b.i&&Cc(b)instanceof y||(b.i++,0<=b.i&&b.i<b.H.length||(Dc(b,2*b.H.length),Ec(b,2*b.ja.length),Fc(b,2*b.pa.length)));b.H[b.i]=new z(c,A)}function R(b,c,d){b.Ea<=b.i&&Cc(b)instanceof y||(b.i++,0<=b.i&&b.i<b.H.length||(Dc(b,2*b.H.length),Ec(b,2*b.ja.length),Fc(b,2*b.pa.length)));b.H[b.i]=d;b.ja[b.i]=c}
function S(b,c,d,f){b.Ea<=b.i&&Cc(b)instanceof y||(b.i++,0<=b.i&&b.i<b.H.length||(Dc(b,2*b.H.length),Ec(b,2*b.ja.length),Fc(b,2*b.pa.length)));b.H[b.i]=d;b.ja[b.i]=c;b.pa[b.i]=f}function Gc(b,c){b.Ea<=b.i&&Cc(b)instanceof y?b.H[b.i]=c:(b.i++,0<=b.i&&b.i<b.H.length||(Dc(b,2*b.H.length),Ec(b,2*b.ja.length),Fc(b,2*b.pa.length)),b.H[b.i]=c,b.ja[b.i]=b.t,b.pa[b.i]=b.Kb)}function Cc(b){return b.H[b.i]}
function C(b,c){b.O++;if(!(0<=b.O&&b.O<b.da.length)){var d=Array(~~(2*b.da.length));Hc(b.da,d);b.da=d}b.da[b.O]=c}function Ic(b){return b.da[b.O]}function Q(b){return b.da[b.O--]}function Jc(b,c){for(var d=Ra,f=0;f<c;f++)d=new z(b.da[b.O-f],d);b.O-=c;return d}function Kc(b,c){b.nb=c;c.Ab(b)}s.type=function(){return Lc};s.copy=function(){var b=new kc;this.copyTo(b);return b};
s.copyTo=function(b){b.O=this.O;b.i=this.i;b.H.length<this.H.length?(b.H=this.H.slice(),b.ja=this.ja.slice(),b.pa=this.pa.slice()):(Hc(this.H,b.H),Hc(this.ja,b.ja),Hc(this.pa,b.pa));b.da.length!==this.da.length?b.da=this.da.slice():Hc(this.da,b.da);b.t=this.t;b.Sa=this.Sa;b.nb=this.nb;b.ac=this.ac;b.Ea=this.Ea};s.toString=function(){return"[thread#"+this.Ic+": instruction stack "+this.i+"; arg stack "+this.O+"]"};function Ec(b,c){var d=Array(~~c);Hc(b.ja,d);b.ja=d}
function Dc(b,c){var d=Array(~~c);Hc(b.H,d);b.H=d}function Fc(b,c){var d=Array(~~c);Hc(b.pa,d);b.pa=d}function Hc(b,c){for(var d=0,f=b.length;d<f;d++)c[d]=b[d]}function Mc(b){if(!(b.Ea<=b.i))return l;return b.H[b.i]instanceof y?(b.i--,Mc(b)):b.H[b.i].a()}var Lc=K("thread"),yc=0;function Nc(){this.Ma=[];this.Qc=A}Nc.prototype=new x;s=Nc.prototype;s.className="ListBuilder";s.append=function(b){this.Ma.push(b)};s.Pc=ba("Qc");s.list=function(){return lb(this.Ma,this.Qc)};s.type=function(){return K("list-builder")};
s.toString=function(){return"ListBuilder:"+this.list().toString()};function Oc(){this.g=l}Oc.prototype=new M;Oc.prototype.className="Append";Oc.prototype.d=function(b){var c=Q(b),b=Ic(b);b instanceof Nc||g(new TypeError);b.append(c)};Oc.prototype.toString=q("(append)");function Pc(){this.g=l}Pc.prototype=new M;Pc.prototype.className="AppendAll";Pc.prototype.d=function(b){var c=Q(b),b=Ic(b);b instanceof Nc||g(new TypeError);c instanceof z||g(new TypeError);c.copyTo(b.Ma)};Pc.prototype.toString=q("(append-all)");
function Qc(){this.g=l}Qc.prototype=new M;Qc.prototype.className="AppendDot";Qc.prototype.d=function(b){var c=Q(b),b=Ic(b);b instanceof Nc||g(new TypeError);b.Pc(c)};Qc.prototype.toString=q("(append-dot)");function Rc(b,c){this.g=l;this.Uc=b;this.Gb=c}Rc.prototype=new M;s=Rc.prototype;s.dc=j;s.className="Catch";s.uc=q(j);s.d=function(b){var c=b.error();if(c!==l)b.Sa=l,b.O=this.Gb,this.Uc.h(b,w([c]))};s.toString=function(){return"(catch "+this.Uc+")"};function Sc(b){this.g=l;this.Oc=b}
Sc.prototype=new M;Sc.prototype.className="Close_Instruction";Sc.prototype.d=function(b){C(b,new Tc(this.Oc,b.t))};Sc.prototype.toString=function(){return"(close "+this.Oc+")"};function Uc(b){this.g=l;this.Kc=b}Uc.prototype=new M;Uc.prototype.Lb=j;Uc.prototype.className="FinallyInvoke";Uc.prototype.d=function(b){this.Kc.h(b,A)};Uc.prototype.toString=function(){return"(finally:"+this.Kc+")"};function Vc(){this.g=l}Vc.prototype=new M;Vc.prototype.className="FinishList";
Vc.prototype.d=function(b){var c=Q(b);c instanceof Nc||g(new TypeError);C(b,c.list())};Vc.prototype.toString=q("(finish-list)");function Va(b){this.g=l;this.Xa=b}Va.prototype=new M;Va.prototype.className="FreeSym";Va.prototype.d=function(b){C(b,this.Xa.value())};Va.prototype.toString=function(){return"(free-sym "+this.Xa+")"};Va.prototype.bb=function(){return"(free-sym "+this.Xa+" -> "+(sym.bound()?""+sym.value():"#unbound#")+")"};function Wc(b){this.g=l;this.Xa=b}Wc.prototype=new M;
Wc.prototype.className="LexSym";Wc.prototype.d=function(b){C(b,this.Xa.w(b.t))};Wc.prototype.toString=function(){return"(lex-sym "+this.Xa+")"};Wc.prototype.bb=function(b){return"(lex-sym "+this.Xa+" -> "+this.Xa.w(b)+")"};function Xc(b){this.g=l;this.Yc=b}Xc.prototype=new M;Xc.prototype.className="Listify";Xc.prototype.d=function(b){C(b,Jc(b,this.Yc))};Xc.prototype.toString=function(){return"(listify "+this.Yc+")"};function E(b){this.g=l;this.Lc=b}E.prototype=new M;E.prototype.className="Literal";
E.prototype.d=function(b){C(b,this.Lc)};E.prototype.toString=function(){return"(literal "+this.Lc+")"};function Yc(){this.g=l}Yc.prototype=new M;Yc.prototype.className="NewList";Yc.prototype.d=function(b){C(b,new Nc)};Yc.prototype.toString=q("(new-list)");function Zc(b){this.g=l;this.ca=b}Zc.prototype=new M;Zc.prototype.className="PopArg";Zc.prototype.d=function(b){Q(b)};Zc.prototype.toString=function(){return"(pop-arg:"+this.ca+")"};function $c(b,c){this.g=l;this.pd=b;this.k=c}$c.prototype=new M;
$c.prototype.Lb=j;$c.prototype.className="SetThreadLocal";$c.prototype.d=function(){this.pd.value=this.k};function ad(b,c){this.g=l;this.Xa=b;this.hb=c}ad.prototype=new M;ad.prototype.className="StackSym";ad.prototype.d=function(b){var c=this.hb;b.O++;if(!(0<=b.O&&b.O<b.da.length)){var d=Array(~~(2*b.da.length));Hc(b.da,d);b.da=d}b.da[b.O]=b.Kb[c]};ad.prototype.toString=function(){return"(stack-bound symbol:"+this.Xa+")"};function bd(b){this.g=l;this.Nc=b}bd.prototype=new M;
bd.prototype.className="TableMapper";bd.prototype.d=function(b){var c=Q(b);c instanceof z||g(new TypeError);if(!(c instanceof y)){C(b,c.b());D(b,this);c=c.a();c instanceof z||g(new TypeError);var d=new Zc("map-table-iterator");d.m(this);D(b,d);this.Nc.h(b,c)}};bd.prototype.toString=function(){return"(table-mapper "+this.Nc+")"};function cd(b){this.g=l;this.name=b}cd.prototype=new M;cd.prototype.className="Assign_Lex";function dd(b,c){cd.call(this,b);this.value=c}dd.prototype=new cd;
dd.prototype.className="Assign_Lex_Free";dd.prototype.d=function(b){var c=this.value.value();ed(this.name,b.t,c);C(b,c)};dd.prototype.toString=function(){return"(assign-lex "+this.name+" "+this.value+")"};function fd(b,c){dd.call(this,b,c)}fd.prototype=new dd;fd.prototype.className="Assign_Lex_Free.Intermediate";fd.prototype.d=function(b){ed(this.name,b.t,this.value.value())};function gd(b,c){cd.call(this,b);this.value=c}gd.prototype=new cd;gd.prototype.className="Assign_Lex_Lex";
gd.prototype.d=function(b){var c=this.value.w(b.t);ed(this.name,b.t,c);C(b,c)};gd.prototype.toString=function(){return"(assign-lex "+this.name+" "+this.value+")"};gd.prototype.bb=function(b){return"(assign-lex "+this.name+"--\>"+this.name.w(b)+this.value+"--\>"+this.value.w(b)+")"};function hd(b,c){gd.call(this,b,c)}hd.prototype=new gd;hd.prototype.className="Assign_Lex_Lex.Intermediate";hd.prototype.d=function(b){ed(this.name,b.t,this.value.w(b.t))};function id(b,c){cd.call(this,b);this.ab=c}
id.prototype=new cd;id.prototype.className="Assign_Lex_Literal";id.prototype.d=function(b){ed(this.name,b.t,this.ab);C(b,this.ab)};id.prototype.toString=function(){return"(assign-lex "+this.name+" "+this.ab+")"};function jd(b,c){id.call(this,b,c)}jd.prototype=new id;jd.prototype.className="Assign_Lex_Literal.Intermediate";jd.prototype.d=function(b){ed(this.name,b.t,this.ab)};function kd(b){cd.call(this,b)}kd.prototype=new cd;kd.prototype.className="Assign_Lex_Other";
kd.prototype.d=function(b){ed(this.name,b.t,Ic(b))};kd.prototype.toString=function(){return"(assign-lex "+this.name+")"};kd.prototype.bb=function(b){return"(assign-lex "+this.name+" -> "+this.name.w(b)+")"};function ld(b){cd.call(this,b)}ld.prototype=new kd;ld.prototype.className="Assign_Lex_Other.Intermediate";ld.prototype.d=function(b){ed(this.name,b.t,Q(b))};function md(b,c){cd.call(this,b);this.value=c}md.prototype=new cd;md.prototype.className="Assign_Lex_Stack";
md.prototype.d=function(b){var c=this.value.get(b);ed(this.name,b.t,c);C(b,c)};md.prototype.toString=function(){return"(assign-lex "+this.name+" "+this.value+")"};md.prototype.bb=function(b){return"(assign-lex "+this.name+"--\>"+this.name.w(b)+" <-- "+this.value+")"};function nd(b,c){md.call(this,b,c)}nd.prototype=new md;nd.prototype.className="Assign_Lex_Stack.Intermediate";nd.prototype.d=function(b){ed(this.name,b.t,this.value.get(b))};function od(b){this.g=l;this.name=b}od.prototype=new M;
od.prototype.className="Assign_Free";function pd(b,c){od.call(this,b);this.value=c}pd.prototype=new od;pd.prototype.className="Assign_Free_Free";pd.prototype.d=function(b){var c=this.value.value();this.name.ga(c);C(b,c)};pd.prototype.toString=function(){return"(assign-free-free "+this.name+" "+this.value+")"};function qd(b,c){pd.call(this,b,c)}qd.prototype=new pd;qd.prototype.className="Assign_Free_Free.Intermediate";qd.prototype.d=function(){this.name.ga(this.value.value())};
function rd(b,c){od.call(this,b);this.value=c}rd.prototype=new od;rd.prototype.className="Assign_Free_Lex";rd.prototype.d=function(b){var c=this.value.w(b.t);this.name.ga(c);C(b,c)};rd.prototype.toString=function(){return"(assign-free-lex "+this.name+" "+this.value+")"};function sd(b,c){rd.call(this,b,c)}sd.prototype=new rd;sd.prototype.className="Assign_Free_Lex.Intermediate";sd.prototype.d=function(b){this.name.ga(this.value.w(b.t))};function td(b,c){od.call(this,b);this.ab=c}td.prototype=new od;
td.prototype.className="Assign_Free_Literal";td.prototype.d=function(b){this.name.ga(this.ab);C(b,this.ab)};td.prototype.toString=function(){return"(assign-free-literal "+this.name+" "+this.ab+")"};function ud(b,c){td.call(this,b,c)}ud.prototype=new td;ud.prototype.className="Assign_Free_Literal.Intermediate";ud.prototype.d=function(){this.name.ga(this.ab)};function vd(b){od.call(this,b)}vd.prototype=new od;vd.prototype.className="Assign_Free_Other";vd.prototype.d=function(b){this.name.ga(Ic(b))};
vd.prototype.toString=function(){return"(assign-free-other "+this.name+")"};vd.prototype.bb=function(){return"(assign-free-other "+this.name+" -> "+(name.bound()?""+name.value():"#unbound#")+")"};function wd(b){od.call(this,b)}wd.prototype=new vd;wd.prototype.className="Assign_Free_Other.Intermediate";wd.prototype.d=function(b){this.name.ga(Q(b))};function xd(b,c){od.call(this,b);this.value=c}xd.prototype=new od;xd.prototype.className="Assign_Free_Stack";
xd.prototype.d=function(b){var c=this.value.get(b);this.name.ga(c);C(b,c)};xd.prototype.toString=function(){return"(assign-free-stack "+this.name+" "+this.value+")"};function yd(b,c){xd.call(this,b,c)}yd.prototype=new xd;yd.prototype.className="Assign_Free_Stack.Intermediate";yd.prototype.d=function(b){this.name.ga(this.value.get(b))};function zd(b){this.g=l;this.name=b}zd.prototype=new M;zd.prototype.className="Assign_Stack";function Ad(b,c){zd.call(this,b);this.value=c}Ad.prototype=new zd;
Ad.prototype.className="Assign_Stack_Free";Ad.prototype.d=function(b){var c=this.value.value();this.name.set(b,c);C(b,c)};Ad.prototype.toString=function(){return"(assign-free "+this.name+" "+this.value+")"};function Bd(b,c){Ad.call(this,b,c)}Bd.prototype=new Ad;Bd.prototype.className="Assign_Stack_Free.Intermediate";Bd.prototype.d=function(b){this.name.set(b,this.value.value())};function Cd(b,c){zd.call(this,b);this.value=c}Cd.prototype=new zd;Cd.prototype.className="Assign_Stack_Lex";
Cd.prototype.d=function(b){var c=this.value.w(b.t);this.name.set(b,c);C(b,c)};Cd.prototype.toString=function(){return"(assign-free "+this.name+" "+this.value+")"};function Dd(b,c){Cd.call(this,b,c)}Dd.prototype=new Cd;Dd.prototype.className="Assign_Stack_Lex.Intermediate";Dd.prototype.d=function(b){this.name.set(b,this.value.w(b.t))};function Ed(b,c){zd.call(this,b);this.value=c}Ed.prototype=new zd;Ed.prototype.className="Assign_Stack_Literal";
Ed.prototype.d=function(b){this.name.set(b,this.value);C(b,this.value)};Ed.prototype.toString=function(){return"(assign-free "+this.name+" "+this.value+")"};function Fd(b,c){Ed.call(this,b,c)}Fd.prototype=new Ed;Fd.prototype.className="Assign_Stack_Literal.Intermediate";Fd.prototype.d=function(b){this.name.set(b,this.value)};function Gd(b){zd.call(this,b)}Gd.prototype=new zd;Gd.prototype.className="Assign_Stack_Other";Gd.prototype.d=function(b){this.name.set(b,Ic(b))};
Gd.prototype.toString=function(){return"(assign-stack "+this.name+")"};function Hd(b){zd.call(this,b)}Hd.prototype=new Gd;Hd.prototype.className="Assign_Stack_Other.Intermediate";Hd.prototype.d=function(b){this.name.set(b,Q(b))};function Id(b,c){zd.call(this,b);this.value=c}Id.prototype=new zd;Id.prototype.className="Assign_Stack_Stack";Id.prototype.d=function(b){var c=this.value.get(b);this.name.set(b,c);C(b,c)};Id.prototype.toString=function(){return"(assign-free "+this.name+" "+this.value+")"};
function Jd(b,c){Id.call(this,b,c)}Jd.prototype=new Id;Jd.prototype.className="Assign_Stack_Stack.Intermediate";Jd.prototype.d=function(b){this.name.set(b,this.value.get(b))};function Kd(b,c){this.g=l;this.I=b;this.Ra=Ld(b);this.C=c;this.na=Ld(c)}Kd.prototype=new M;Kd.prototype.className="Cond";function Ld(b){var c=[];b.o(c);return w(c)}Kd.prototype.d=function(b){Gc(b,Q(b)instanceof y?this.na:this.Ra)};Kd.prototype.l=function(b){M.prototype.l.call(this,b);this.Ra.l(b);this.na.l(b)};
Kd.prototype.toString=function(){return"(cond then:"+this.I+", else:"+this.C+")"};function Md(b,c,d){this.g=l;this.ea=b;this.I=c;this.C=d}u["rainbow.vm.instructions.cond.optimise.If_bound_bound_literal"]=Md;Md.prototype=new M;Md.prototype.className="If_bound_bound_literal";Md.prototype.d=function(b){this.ea.w(b.t)instanceof y?C(b,this.C):C(b,this.I.w(b.t))};
Md.addInstructions=function(b,c,d,f){c instanceof U||g(new TypeError);d instanceof U||g(new TypeError);f instanceof W||g(new TypeError);Nd(c,d)?f.n instanceof y?c.o(b):b.push(new Od(c,f.n)):b.push(new Md(c,d,f.n))};Md.prototype.toString=function(){return"(if "+this.ea+" "+this.I+" "+this.C+")"};function Od(b,c){this.g=l;this.Fb=b;this.C=c}Od.prototype=new M;Od.prototype.className="If_bound_bound_literal.Or";Od.prototype.d=function(b){var c=this.Fb.w(b.t);c instanceof y?C(b,this.C):C(b,c)};
Od.prototype.toString=function(){return"(if[bbl$or] "+a+" "+a+" "+elseExpr+")"};function Pd(b,c,d){this.g=l;this.ea=b;this.I=c;this.na=Ld(d);this.C=d}u["rainbow.vm.instructions.cond.optimise.If_bound_bound_other"]=Pd;Pd.prototype=new M;Pd.prototype.className="If_bound_bound_other";Pd.prototype.d=function(b){this.ea.w(b.t)instanceof y?Gc(b,this.na):C(b,this.I.w(b.t))};
Pd.addInstructions=function(b,c,d,f){c instanceof U||g(new TypeError);d instanceof U||g(new TypeError);Nd(c,d)?b.push(new Qd(c,f)):b.push(new Pd(c,d,f))};Pd.prototype.l=function(b){M.prototype.l.call(this,b);this.na.l(b)};Pd.prototype.toString=function(){return"(if "+this.ea+" "+this.I+" "+this.C+")"};function Qd(b,c){this.g=l;this.Fb=b;this.na=Ld(c);this.C=c}Qd.prototype=new M;Qd.prototype.className="If_bound_bound_other.Or";
Qd.prototype.d=function(b){var c=this.Fb.w(b.t);c instanceof y?Gc(b,this.na):C(b,c)};Qd.prototype.l=function(b){M.prototype.l.call(this,b);this.na.l(b)};Qd.prototype.toString=function(){return"(if "+a+" "+a+" "+elseExpr+")"};function Rd(b,c,d){this.g=l;this.ea=b;this.I=c;this.C=d}u["rainbow.vm.instructions.cond.optimise.If_bound_literal_literal"]=Rd;Rd.prototype=new M;Rd.prototype.className="If_bound_literal_literal";Rd.prototype.d=function(b){this.ea.w(b.t)instanceof y?C(b,this.C):C(b,this.I)};
Rd.prototype.toString=function(){return"(if "+this.ea+" "+this.I+" "+this.C+")"};Rd.addInstructions=function(b,c,d,f){f instanceof W||g(new TypeError);c instanceof U||g(new TypeError);b.push(new Rd(c,d,f.n))};function Sd(b,c,d){this.g=l;this.ea=b;this.I=c;this.Ra=Ld(c);this.C=d}u["rainbow.vm.instructions.cond.optimise.If_bound_other_literal"]=Sd;Sd.prototype=new M;Sd.prototype.className="If_bound_other_literal";Sd.prototype.d=function(b){this.ea.w(b.t)instanceof y?C(b,this.C):Gc(b,this.Ra)};
Sd.prototype.toString=function(){return"(if "+this.ea+" "+this.I+" "+this.C+")"};Sd.prototype.l=function(b){M.prototype.l.call(this,b);this.Ra.l(b)};Sd.addInstructions=function(b,c,d,f){c instanceof U||g(new TypeError);f instanceof W||g(new TypeError);b.push(new Sd(c,d,f.n))};function Td(b,c,d){this.g=l;this.ea=b;this.I=c;this.Ra=Ld(c);this.C=d;this.na=Ld(d)}u["rainbow.vm.instructions.cond.optimise.If_bound_other_other"]=Td;Td.prototype=new M;Td.prototype.className="If_bound_other_other";
Td.prototype.d=function(b){this.ea.w(b.t)instanceof y?Gc(b,this.na):Gc(b,this.Ra)};Td.prototype.toString=function(){return"(if "+this.ea+" "+this.I+" "+this.C+")"};Td.prototype.l=function(b){M.prototype.l.call(this,b);this.Ra.l(b)};Td.addInstructions=function(b,c,d,f){c instanceof U||g(new TypeError);b.push(new Td(c,d,f))};function Ud(b,c){this.g=l;this.na=Ld(c);this.I=b;this.C=c}u["rainbow.vm.instructions.cond.optimise.If_other_bound_other"]=Ud;Ud.prototype=new M;Ud.prototype.className="If_other_bound_other";
Ud.prototype.d=function(b){Q(b)instanceof y?Gc(b,this.na):C(b,this.I.w(b.t))};Ud.prototype.toString=function(){return"(if ? "+this.I+" "+this.C+")"};Ud.prototype.l=function(b){M.prototype.l.call(this,b);this.na.l(b)};Ud.addInstructions=function(b,c,d,f){c.o(b);d instanceof U||g(new TypeError);b.push(new Ud(d,f))};function Vd(b,c){this.g=l;this.Ra=Ld(b);this.I=b;this.C=c}u["rainbow.vm.instructions.cond.optimise.If_other_other_literal"]=Vd;Vd.prototype=new M;Vd.prototype.className="If_other_other_literal";
Vd.prototype.d=function(b){Q(b)instanceof y?C(b,this.C):Gc(b,this.Ra)};Vd.prototype.toString=function(){return"(if ? "+this.I+" "+this.C+")"};Vd.prototype.l=function(b){M.prototype.l.call(this,b);this.Ra.l(b)};Vd.addInstructions=function(b,c,d,f){f instanceof W||g(new TypeError);c.o(b);b.push(new Vd(d,f.n))};function Wd(b,c){this.g=l;this.I=b;this.C=c}u["rainbow.vm.instructions.cond.optimise.If_other_stack_literal"]=Wd;Wd.prototype=new M;Wd.prototype.className="If_other_stack_literal";
Wd.prototype.d=function(b){Q(b)instanceof y?C(b,this.C):C(b,this.I.get(b))};Wd.prototype.toString=function(){return"(if ? "+this.I+" "+this.C+")"};Wd.addInstructions=function(b,c,d,f){f instanceof W||g(new TypeError);c.o(b);d instanceof X||g(new TypeError);b.push(new Wd(d,f.n))};function Xd(b,c){this.g=l;this.I=b;this.na=Ld(c);this.C=c}u["rainbow.vm.instructions.cond.optimise.If_other_stack_other"]=Xd;Xd.prototype=new M;Xd.prototype.className="If_other_stack_other";
Xd.prototype.d=function(b){Q(b)instanceof y?Gc(b,this.na):C(b,this.I.get(b))};Xd.prototype.toString=function(){return"(if ? "+this.I+" "+this.C+")"};Xd.prototype.l=function(b){M.prototype.l.call(this,b);this.na.l(b)};Xd.addInstructions=function(b,c,d,f){c.o(b);d instanceof X||g(new TypeError);b.push(new Xd(d,f))};function Yd(b,c,d){this.ea=b;this.I=c;this.C=d}u["rainbow.vm.instructions.cond.optimise.If_stack_literal_free"]=Yd;Yd.prototype=new M;Yd.prototype.className="If_stack_literal_free";
Yd.prototype.d=function(b){this.ea.get(b)instanceof y?C(b,this.C.value()):C(b,this.I)};Yd.prototype.toString=function(){return"(if "+this.ea+" "+this.I+" "+this.C+")"};Yd.addInstructions=function(b,c,d,f){c instanceof X||g(new TypeError);f instanceof W||g(new TypeError);f=f.n;f instanceof L||g(new TypeError);b.push(new Yd(c,d,f))};function Zd(b,c,d){this.g=l;this.ea=b;this.I=c;this.C=d}u["rainbow.vm.instructions.cond.optimise.If_stack_stack_literal"]=Zd;Zd.prototype=new M;Zd.prototype.className="If_stack_stack_literal";
Zd.prototype.d=function(b){this.ea.get(b)instanceof y?C(b,this.C):C(b,this.I.get(b))};Zd.prototype.toString=function(){return"(if "+this.ea+" "+this.I+" "+this.C+")"};Zd.addInstructions=function(b,c,d,f){c instanceof X||g(new TypeError);d instanceof X||g(new TypeError);f instanceof W||g(new TypeError);$d(c,d)?f.n instanceof y?c.o(b):b.push(new ae(c,f.n)):b.push(new Zd(c,d,f.n))};function ae(b,c){this.g=l;this.Fb=b;this.C=c}ae.prototype=new M;ae.prototype.className="If_stack_stack_literal.Or";
ae.prototype.d=function(b){var c=this.Fb.get(b);c instanceof y?C(b,this.C):C(b,c)};ae.prototype.toString=function(){return"(if[ssl$or] "+a+" "+a+" "+elseExpr+")"};function be(b){this.g=l;this.s=b}be.prototype=new M;s=be.prototype;s.oa=j;s.className="Invoke_0.Lex";s.d=function(b){this.s.w(b.t).h(b,A)};s.toString=function(){return"(invoke "+this.s+")"};s.sa=function(b){return this.s.w(b.t)};function ce(b){this.g=l;this.s=b}ce.prototype=new M;s=ce.prototype;s.oa=j;s.className="Invoke_0.Free";
s.d=function(b){this.s.value().h(b,A)};s.toString=function(){return"(invoke "+this.s+")"};s.sa=function(){return this.s.value()};function de(){this.g=l}de.prototype=new M;s=de.prototype;s.oa=j;s.className="Invoke_0.Other";s.d=function(b){Q(b).h(b,A)};s.toString=q("(invoke <0>)");s.sa=function(b){return Ic(b)};function ee(b){this.g=l;this.s=b}ee.prototype=new M;s=ee.prototype;s.oa=j;s.className="Invoke_1.Lex";s.d=function(b){this.s.w(b.t).h(b,new z(Q(b),A))};
s.toString=function(){return"(invoke "+this.s+" <1>)"};s.sa=function(b){return this.s.w(b.t)};function fe(b){this.g=l;this.s=b}fe.prototype=new M;s=fe.prototype;s.oa=j;s.className="Invoke_1.Free";s.d=function(b){this.s.value().h(b,new z(Q(b),A))};s.toString=function(){return"(invoke "+this.s+" <1>)"};s.sa=function(){return this.s.value()};function ge(){this.g=l}ge.prototype=new M;s=ge.prototype;s.oa=j;s.className="Invoke_1.Other";s.d=function(b){Q(b).h(b,new z(Q(b),A))};s.toString=q("(invoke <1>)");
s.sa=function(b){return Ic(b)};function he(b){this.g=l;this.s=b}he.prototype=new M;s=he.prototype;s.oa=j;s.className="Invoke_2.Lex";s.d=function(b){var c=Q(b),d=Q(b);this.s.w(b.t).h(b,new z(d,new z(c,A)))};s.toString=function(){return"(invoke "+this.s+" <2>)"};s.bb=function(b){return"(invoke "+this.s+" -> "+this.s.w(b)+" <2>)"};s.sa=function(b){return this.s.w(b.t)};function ie(b){this.g=l;this.s=b}ie.prototype=new M;s=ie.prototype;s.oa=j;s.className="Invoke_2.Free";
s.d=function(b){var c=Q(b),d=Q(b);this.s.value().h(b,new z(d,new z(c,A)))};s.toString=function(){return"(invoke_2:free "+this.s+" <2>)"};s.bb=function(){return"(invoke_2:free "+this.s+" -> "+this.s.value()+" <2>)"};s.sa=function(){return this.s.value()};function je(){this.g=l}je.prototype=new M;s=je.prototype;s.oa=j;s.className="Invoke_2.Other";s.d=function(b){var c=Q(b),d=Q(b),f=Q(b);try{c.h(b,new z(f,new z(d,A)))}catch(h){h instanceof Error||g(h),za(h)}};s.toString=q("(invoke <2>)");s.sa=function(b){return Ic(b)};
function ke(b){this.g=l;this.s=b}ke.prototype=new M;s=ke.prototype;s.oa=j;s.className="Invoke_3.Lex";s.d=function(b){var c=Q(b),d=Q(b),f=Q(b);this.s.w(b.t).h(b,new z(f,new z(d,new z(c,A))))};s.toString=function(){return"(invoke "+this.s+" <3>)"};s.sa=function(b){return this.s.w(b.t)};function le(b){this.g=l;this.s=b}le.prototype=new M;s=le.prototype;s.oa=j;s.className="Invoke_3.Free";s.d=function(b){var c=Q(b),d=Q(b),f=Q(b);this.s.value().h(b,new z(f,new z(d,new z(c,A))))};
s.toString=function(){return"(invoke_3:free "+this.s+" <3>)"};s.sa=function(){return this.s.value()};function me(){this.g=l}me.prototype=new M;s=me.prototype;s.oa=j;s.className="Invoke_3.Other";s.d=function(b){var c=Q(b),d=Q(b),f=Q(b),h=Q(b);c.h(b,new z(h,new z(f,new z(d,A))))};s.toString=q("(invoke <3>)");s.sa=function(b){return Ic(b)};function ne(b,c){this.g=l;this.s=b;this.cb=c}ne.prototype=new M;s=ne.prototype;s.oa=j;s.className="Invoke_N.Lex";s.d=function(b){this.s.w(b.t).h(b,Jc(b,this.cb))};
s.toString=function(){return"(invoke "+this.s+" <"+this.cb+">)"};s.sa=function(b){return this.s.w(b.t)};function oe(b,c){this.g=l;this.s=b;this.cb=c}oe.prototype=new M;s=oe.prototype;s.oa=j;s.className="Invoke_N.Free";s.d=function(b){this.s.value().h(b,Jc(b,this.cb))};s.toString=function(){return"(invoke "+this.s+" <"+this.cb+">)"};s.sa=function(){return this.s.value()};function Ja(b){this.g=l;this.cb=b}Ja.prototype=new M;s=Ja.prototype;s.oa=j;s.className="Invoke_N.Other";
s.d=function(b){Q(b).h(b,Jc(b,this.cb))};s.toString=function(){return"(invoke <"+this.cb+">)"};s.sa=function(b){return Ic(b)};function X(b,c){this.name=b;this.hb=c}X.prototype=new x;s=X.prototype;s.className="StackSymbol";s.get=function(b){return b.Kb[this.hb]};s.set=function(b,c){b.pa[b.i][this.hb]=c};s.o=function(b){b.push(new ad(this.name,this.hb))};s.type=function(){return K("stack-symbol")};s.toString=function(){return this.name.toString()};
function $d(b,c){return b.name===c.name&&b.hb===c.hb}s.T=function(b,c,d){return $d(this,b)?c:d<this.hb?new X(this.name,this.index-1):this};function U(b,c,d){this.Oa=c;this.index=d;this.name=b}U.prototype=new x;s=U.prototype;s.className="BoundSymbol";function ed(b,c,d){c.Cb(b.Oa).set(b.index,d)}s.w=function(b){for(var c=this.Oa;0<c;)b=b.parent,c--;return b.fb[this.index]};s.o=function(b){b.push(new Wc(this))};s.type=function(){return pe};s.toString=function(){return this.name.toString()};
function Nd(b,c){return b.Oa===c.Oa&&b.name===c.name&&b.index===c.index}s.N=function(b){return b<=this.Oa?new U(this.name,this.Oa+1,this.index):this};function qe(b){return new U(b.name,b.Oa-1,b.index)}s.U=function(b,c,d,f,h){if(Nd(this,b))return c;return d?(0===this.Oa&&g(new t("can't unnest "+this+", looking for "+b+" to inline with "+c)),qe(this)):f===this.Oa&&h<this.index?new U(this.name,this.Oa,this.index-1):this};s.l=function(b){b.tc(this)};
s.Z=function(b){b=b[this.name.name()];if(b===i)return qe(this);if(b===this.index)return new X(this.name,b);g(new t("error: parameter index mismatch: expected "+b+", got "+this.index))};var pe=K("bound-symbol");function re(b){this.D=this.name=l;this.Pa=b}re.prototype=new x;s=re.prototype;s.className="SingleAssignment";s.La=function(b){this.name===l?b instanceof L||b instanceof U?this.name=b:g(new t("assign: can't assign to "+b)):this.D===l?this.D=b:this.Pa.La(b)};
s.toString=function(){return""+this.name+" "+this.D};s.o=function(b){se(this,b,m);this.Pa.o(b)};
function se(b,c,d){if(b.name instanceof U){var f=b.name,b=b.D;b instanceof U?d?c.push(new gd(f,b)):c.push(new hd(f,b)):b instanceof X?d?c.push(new md(f,b)):c.push(new nd(f,b)):b instanceof L?d?c.push(new dd(f,b)):c.push(new fd(f,b)):b.Ga()?d?c.push(new id(f,b)):c.push(new jd(f,b)):b instanceof ve?(b=b.Db,d?c.push(new id(f,b)):c.push(new jd(f,b))):(b.o(c),d?c.push(new kd(f)):c.push(new ld(f)))}else b.name instanceof X?(f=b.name,b=b.D,b instanceof U?d?c.push(new Cd(f,b)):c.push(new Dd(f,b)):b instanceof
X?d?c.push(new Id(f,b)):c.push(new Jd(f,b)):b instanceof L?d?c.push(new Ad(f,b)):c.push(new Bd(f,b)):b.Ga()?d?c.push(new Ed(f,b)):c.push(new Fd(f,b)):b instanceof ve?(b=b.Db,d?c.push(new Ed(f,b)):c.push(new Fd(f,b))):(b.o(c),d?c.push(new Gd(f)):c.push(new Hd(f)))):b.name instanceof L?(f=b.name,b=b.D,b instanceof U?d?c.push(new rd(f,b)):c.push(new sd(f,b)):b instanceof X?d?c.push(new xd(f,b)):c.push(new yd(f,b)):b instanceof L?d?c.push(new pd(f,b)):c.push(new qd(f,b)):b.Ga()?d?c.push(new td(f,b)):
c.push(new ud(f,b)):b instanceof ve?(b=b.Db,d?c.push(new td(f,b)):c.push(new ud(f,b))):(b.o(c),d?c.push(new vd(f)):c.push(new wd(f)))):g(new t("what kind of symbol is "+b.name+"??"))}s.type=function(){return K("assignment")};s.ha=q(j);s.Y=function(){return this.D instanceof Z?we(this.D)||this.Pa.Y():this.D.Y()||this.Pa.Y()};
s.U=function(b,c,d,f,h){var k=new re(l);this.name instanceof U&&Nd(b,this.name)&&g(new t("Can't inline "+b+" -> "+c+"; assignment"));k.name=this.name;k.D=this.D.U(b,c,d,f,h);k.Pa=this.Bd(b,c,d,f,h);return k};s.T=function(b,c,d){var f=new re(l);this.name instanceof X&&$d(b,this.name)&&g(new t("Can't inline "+b+" -> "+c+"; assignment"));f.name=this.name;f.D=this.D.T(b,c,d);f.Pa=this.Ad(b,c,d);return f};s.N=function(b){var c=new re(l);c.name=this.name.N(b);c.D=this.D.N(b);c.Pa=this.Pa.N(b);return c};
s.Z=function(b){var c=new re(l);c.name=this.name.Z(b);c.D=this.D.Z(b);b=this.Pa.Z(b);b instanceof re||g(new TypeError);c.Pa=b;return c};s.l=function(b){b.va(this);this.name.l(b);this.D.l(b);this.Pa.l(b);b.Ia(this)};function xe(){re.call(this,l)}xe.prototype=new re(l);s=xe.prototype;s.className="LastAssignment";s.La=function(b){this.name===l?b instanceof L||b instanceof U?this.name=b:g(new t("assign: can't assign to "+b)):this.D===l?this.D=b:g(new t("assign: error: unexpected "+b))};
s.toString=function(){return""+this.name+" "+this.D};s.o=function(b){se(this,b,j)};s.Y=function(){return this.D instanceof Z?we(this.D):this.D.Y()};s.U=function(b,c,d,f,h){var k=new xe;this.name instanceof U&&Nd(b,this.name)&&g(new t("Can't inline "+b+" -> "+c+"; assignment"));k.name=this.name.U(b,c,d,f,h);k.D=this.D.U(b,c,d,f,h);return k};
s.T=function(b,c,d){var f=new xe;this.name instanceof X&&$d(b,this.name)&&g(new t("Can't inline "+b+" -> "+c+"; assignment"));f.name=this.name.T(b,c,d);f.D=this.D.T(b,c,d);return f};s.N=function(b){var c=new xe;c.name=this.name.N(b);c.D=this.D.N(b);return c};s.Z=function(b){var c=new xe;c.name=this.name.Z(b);c.D=this.D.Z(b);return c};s.l=function(b){b.va(this);this.name.l(b);this.D.l(b);b.Ia(this)};function ye(){this.aa=l}ye.prototype=new x;s=ye.prototype;s.className="Assignment";s.type=function(){return K("assignment")};
s.La=function(b){this.aa.La(b)};s.o=function(b){this.aa.o(b)};s.toString=function(){return"(assign "+this.aa+")"};s.ha=function(b){return this.aa.ha(b)};s.Y=function(){return this.aa.Y()};s.U=function(b,c,d,f,h){var k=new ye;k.aa=this.aa.U(b,c,d,f,h);return k};s.T=function(b,c,d){var f=new ye;f.aa=this.aa.T(b,c,d);return f};s.N=function(b){var c=new ye;c.aa=this.aa.N(b);return c};s.l=function(b){b.va(this);this.aa.l(b);b.Ia(this)};
s.Z=function(b){var c=new ye,b=this.aa.Z(b);b instanceof re||g(new TypeError);c.aa=b;return c};function W(){this.n=l}W.prototype=new x;s=W.prototype;s.Ja=j;s.className="Else";s.type=function(){return K("else-clause")};s.add=function(b){g(new t("Internal error: if clause: unexpected extra condition: "+b))};s.La=function(b){this.n===l?this.n=b:g(new t("Internal error: if clause: unexpected: "+b))};s.o=function(b){this.n.o(b)};s.reduce=function(){return this};s.toString=function(){return""+this.n};
s.ha=function(b){return this.n.ha(b)};s.Y=function(){return this.n instanceof Z?we(this.n):this.n.Y()};s.U=function(b,c,d,f,h){var k=new W;k.n=this.n.U(b,c,d,f,h).reduce();return k};s.T=function(b,c,d){var f=new W;f.n=this.n.T(b,c,d).reduce();return f};s.N=function(b){var c=new W;c.n=this.n.N(b);return c};s.Z=function(b){var c=new W;c.n=this.n.Z(b);return c};s.l=function(b){b.va(this);this.n.l(b);b.Ia(this)};s.mc=function(){return"_"+ze(this.n)};function Ae(){this.$=l}Ae.prototype=new x;s=Ae.prototype;
s.className="IfClause";s.type=function(){return Be};s.append=function(b){this.$!==l?this.$.add(b):this.$=b};s.reduce=function(){var b=this.$.reduce();b.Ja||g(new TypeError);this.$=b;return b instanceof W?b.n:this};s.La=function(b){this.$.La(b)};s.o=function(b){this.$.o(b)};s.toString=function(){return"(if "+this.$+")"};s.ha=function(b){return this.$.ha(b)};s.Y=function(){return this.$.Y()};s.U=function(b,c,d,f,h){var k=new Ae,b=this.$.U(b,c,d,f,h).reduce();b.Ja||g(new TypeError);k.$=b;return k};
s.T=function(b,c,d){var f=new Ae,b=this.$.T(b,c,d).reduce();b.Ja||g(new TypeError);f.$=b;return f};s.N=function(b){var c=new Ae,b=this.$.N(b);b.Ja||g(new TypeError);c.$=b;return c};s.Z=function(b){var c=new Ae,b=this.$.Z(b);b.Ja||g(new TypeError);c.$=b;return c};s.l=function(b){b.va(this);this.$.l(b);b.Ia(this)};s.R=function(){var b=this.$;b instanceof Ce||g(new TypeError);return b.R};var Be=K("if-clause");function Ce(){this.next=this.R=this.n=l}Ce.prototype=new x;s=Ce.prototype;s.Ja=j;
s.className="IfThen";s.type=function(){return K("if-then-clause")};s.add=function(b){this.next!==l?this.next.add(b):this.next=b};s.La=function(b){this.n===l?this.n=b:this.R===l?this.R=b:this.next.La(b)};
s.o=function(b){var c=this.mc(),d="rainbow.vm.instructions.cond.optimise.If"+c;try{if(d in De){var f=De[d];f===l?this.wc(b,c):f(b,this.n,this.R,this.next)}else{var h=u[d];if(h===i)De[d]=l;else{var k=h.addInstructions;k===i&&g(new t("couldn't find handler method 'addInstructions(List,ArcObject,ArcObject,ArcObject) on "+d));De[d]=k}this.o(b)}}catch(p){p instanceof Error||g(p),g(new t("Couldn't instantiate "+d+": "+p,p))}};s.wc=function(b){this.n.o(b);b.push(new Kd(this.R,this.next))};
s.reduce=function(){var b=this.next.reduce();b.Ja||g(new TypeError);this.next=b;if(this.n instanceof y)return this.next;!(this.n instanceof U)||!(this.R instanceof U)||!(this.next instanceof W)?b=m:(b=this.next,b=Nd(this.n,this.R)&&b.n instanceof y);if(!b)!(this.n instanceof X)||!(this.R instanceof X)||!(this.next instanceof W)?b=m:(b=this.next,b=$d(this.n,this.R)&&b.n instanceof y);return b?(b=new W,b.La(this.n),b):this};s.toString=function(){return""+this.n+" "+this.R+" "+this.next};
s.ha=function(b){return this.n.ha(b)||this.R.ha(b)||this.next.ha(b)};s.Y=function(){return this.n instanceof Z&&we(this.n)||this.R instanceof Z&&we(this.R)?j:this.n.Y()||this.R.Y()||this.next.Y()};s.U=function(b,c,d,f,h){var k=new Ce;k.n=this.n.U(b,c,d,f,h).reduce();k.R=this.R.U(b,c,d,f,h).reduce();b=this.next.U(b,c,d,f,h).reduce();b.Ja||g(new TypeError);k.next=b;return k};
s.T=function(b,c,d){var f=new Ce;f.n=this.n.T(b,c,d).reduce();f.R=this.R.T(b,c,d).reduce();b=this.next.T(b,c,d).reduce();b.Ja||g(new TypeError);f.next=b;return f};s.N=function(b){var c=new Ce;c.n=this.n.N(b);c.R=this.R.N(b);b=this.next.N(b);b.Ja||g(new TypeError);c.next=b;return c};s.Z=function(b){var c=new Ce;c.n=this.n.Z(b);c.R=this.R.Z(b);b=this.next.Z(b);b.Ja||g(new TypeError);c.next=b;return c};s.l=function(b){b.va(this);this.n.l(b);this.R.l(b);this.next.l(b);b.Ia(this)};
s.mc=function(){var b;b="_"+ze(this.n);b=b+"_"+ze(this.R);return b=this.next instanceof W?b+"_"+ze(this.next.n):b+"_other"};var De={};function ve(b){this.Db=b}ve.prototype=new x;s=ve.prototype;s.className="Quotation";s.o=function(b){b.push(new E(this.Db))};s.type=function(){return K("quotation")};s.w=o("Db");s.toString=function(){return"'"+this.Db};function Ee(b){this.B=b;this.$b={}}Ee.prototype=new x;s=Ee.prototype;s.className="Invocation";s.type=function(){return K("if-then-clause")};
s.toString=function(){return(this.B.a()instanceof Z?Fe(Ge(this.B)):this.B).toString()};s.o=function(b){var c;1===this.B.ka()&&this.B.a()instanceof He?(Ie(this.B.a(),b),c=j):c=m;c||Je(this,b)||this.wc(b)};
s.reduce=function(){if(this.B.fc(1)&&this.B.a()instanceof Z){var b=this.B.a(),c=b.A;if(c.Q()||!(c.a()instanceof L))return this;var c=c.a(),d=this.B.b().a();if(b.kb(c,d)){try{var f=b.mb(c,d,j)}catch(h){h instanceof Error||g(h),g(new t("couldn't curry "+c+"->"+d+" for "+b+" in expression "+this+": "+h,h))}return(new Ee(new z(f,this.B.b().b()))).reduce()}}return this};
function Je(b,c){for(var d="",f=b.B;!(f instanceof y);)d+="_",d+=ze(f.a()),f=f.b(),f instanceof z||g(new TypeError);d="rainbow.vm.instructions.invoke.optimise.Invoke"+d;if(d in b.$b){f=b.$b[d];if(f===l)return m;try{var h=new f(b.B),k=b.B.b();for(k instanceof z||g(new TypeError);!(k instanceof y);)"other"===b.mc(k.a())&&k.a().o(c),k=k.b(),k instanceof z||g(new TypeError);"other"===b.mc(b.B.a())&&b.B.a().o(c);c.push(h);return j}catch(p){p instanceof Error||g(p),g(new t("couldn't create optimiser "+
d,p))}}else{h=u[d];if(h===i)return b.$b[d]=l,m;b.$b[d]=h;return Je(b,c)}}function ze(b){return b instanceof U?"bound":b instanceof L?"free":b instanceof X?"stack":b.Ga()?"literal":b instanceof ve?"quote":"other"}
s.wc=function(b){switch(this.B.ka()){case 1:var c=this.B.a();c instanceof U?b.push(new be(c)):c instanceof L?b.push(new ce(c)):(c.o(b),b.push(new de));break;case 2:c=this.B.a();this.B.b().a().o(b);c instanceof U?b.push(new ee(c)):c instanceof L?b.push(new fe(c)):(c.o(b),b.push(new ge));break;case 3:var c=this.B.a(),d=this.B.b().a(),f=this.B.b().b().a();d.o(b);f.o(b);c instanceof U?b.push(new he(c)):c instanceof L?b.push(new ie(c)):(c.o(b),b.push(new je));break;case 4:var c=this.B.a(),d=this.B.b().a(),
f=this.B.b().b().a(),h=this.B.b().b().b().a();d.o(b);f.o(b);h.o(b);c instanceof U?b.push(new ke(c)):c instanceof L?b.push(new le(c)):(c.o(b),b.push(new me));break;default:c=this.B.a();d=this.B.b();d instanceof z||g(new TypeError);for(f=d.ka();!(d instanceof y);)d.a().o(b),d=d.b(),d instanceof z||g(new TypeError);c instanceof U?b.push(new ne(c,f)):c instanceof L?b.push(new oe(c,f)):(c.o(b),b.push(new Ja(f)))}return j};
s.ha=function(b){for(var c=this.B;!(c instanceof y);){if(c.a().ha(b))return j;c=c.b();c instanceof z||g(new TypeError)}return m};s.Y=function(){for(var b=this.B;!(b instanceof y);){if(b.a()instanceof Z){if(we(b.a()))return j}else if(b.a().Y())return j;b=b.b();b instanceof z||g(new TypeError)}return m};
s.U=function(b,c,d,f,h){for(var k=this.B,p=[];!(k instanceof y);){try{p.push(k.a().U(b,c,d,f,h))}catch(r){r instanceof Error||g(r),g(new t("couldn't inline "+b+"->"+c+"(unnest:"+d+";nesting:"+f+") in "+this+" : "+r,r))}k=k.b();k instanceof z||g(new TypeError)}return new Ee(w(p))};s.T=function(b,c,d){for(var f=this.B,h=[];!(f instanceof y);){try{h.push(f.a().T(b,c,d))}catch(k){k instanceof Error||g(k),g(new t("couldn't inline "+b+"->"+c+") in "+this+" : "+k,k))}f=f.b();f instanceof z||g(new TypeError)}return new Ee(w(h))};
s.N=function(b){for(var c=this.B,d=[];!(c instanceof y);)d.push(c.a().N(b)),c=c.b(),c instanceof z||g(new TypeError);return new Ee(w(d))};s.Z=function(b){for(var c=this.B,d=[];!(c instanceof y);)d.push(c.a().Z(b)),c=c.b(),c instanceof z||g(new TypeError);return new Ee(w(d))};s.l=function(b){b.va(this);for(var c=this.B;!(c instanceof y);)c.a().l(b),c=c.b(),c instanceof z||g(new TypeError);b.Ia(this)};function Ke(b){this.Ha=b}Ke.prototype=new x;s=Ke.prototype;s.className="QuasiQuotation";s.type=function(){return K("quasiquotation")};
s.o=function(b){Le(this,b,this.Ha,1)};s.toString=function(){return"`"+this.Ha};function Me(b){var c=[];Ne(b,c,b.Ha,1);return c}function Ne(b,c,d,f){if(Oe(d))1===f?c.push(d.b().a()):Ne(b,c,d.b().a(),f-1);else if(Pe(d))1===f?c.push(d.b().a()):Ne(b,c,d.b().a(),f-1);else if(Qe(d))Ne(b,c,d.b().a(),f+1);else if(!d.Q())for(;!d.Q();)if(Oe(d)||Qe(d))Ne(b,c,d,f),d=d.b().b();else{var h=d.a(),d=d.b();Pe(h)?Ne(b,c,h,f):(Oe(h)||Qe(h)||Re(h))&&Ne(b,c,h,f)}}
function Le(b,c,d,f){if(Oe(d))1===f?d.b().a().o(c):(c.push(new E(Se)),Le(b,c,d.b().a(),f-1),c.push(new Xc(2)));else if(Pe(d))1===f?(d.b().a().o(c),c.push(new Pc)):(c.push(new E(Te)),Le(b,c,d.b().a(),f-1),c.push(new Xc(2)),c.push(new Oc));else if(Qe(d))c.push(new E(Ue)),Le(b,c,d.b().a(),f+1),c.push(new Xc(2));else if(d.Q())c.push(new E(d));else{for(c.push(new Yc);!d.Q();)if(Oe(d)||Qe(d))Le(b,c,d,f),d=d.b().b(),c.push(new Qc);else{var h=d.a(),d=d.b();Pe(h)?Le(b,c,h,f):(Oe(h)||Qe(h)||Re(h)?Le(b,c,h,
f):c.push(new E(h)),c.push(new Oc))}d instanceof y||(c.push(new E(d)),c.push(new Qc));c.push(new Vc)}}function Ve(b,c){return b instanceof z&&b.Ac(c)&&b.b().b()instanceof y}function Oe(b){return Ve(b,Se)}function Pe(b){return Ve(b,Te)}function Qe(b){return Ve(b,Ue)}function Re(b){return b instanceof z}s.ha=function(b){for(var c=Me(this),d=0,f=c.length;d<f;d++)if(c[d].ha(b))return j;return m};s.Y=function(){for(var b=Me(this),c=0,d=b.length;c<d;c++){var f=b[c];if(f instanceof Z){if(we(f))return j}else if(f.Y())return j}return m};
s.U=function(b,c,d,f,h){return new Ke(We(b,c,d,f,h,this.Ha,1))};
function We(b,c,d,f,h,k,p){if(Oe(k))return 1===p?w([Se,k.b().a().U(b,c,d,f,h)]):w([Se,We(b,c,d,f,h,k.b().a(),p-1)]);if(Pe(k))return 1===p?w([Te,k.b().a().U(b,c,d,f,h)]):w([Te,We(b,c,d,f,h,k.b().a(),p-1)]);if(Qe(k))return w([Ue,We(b,c,d,f,h,k.b().a(),p+1)]);if(k.Q())return k;for(var r=[],B=A;!k.Q();)if(Oe(k)||Qe(k))B=We(b,c,d,f,h,k,p),k=k.b().b();else{var J=k.a(),k=k.b();Pe(J)?r.push(We(b,c,d,f,h,J,p)):Oe(J)||Qe(J)||Re(J)?r.push(We(b,c,d,f,h,J,p)):r.push(J)}k instanceof y||(B=k);return lb(r,B)}
s.T=function(b,c,d){return new Ke(Xe(b,c,d,this.Ha,1))};
function Xe(b,c,d,f,h){if(Oe(f))return 1===h?w([Se,f.b().a().T(b,c,d)]):w([Se,We(b,c,d,f.b().a(),h-1)]);if(Pe(f))return 1===h?w([Te,f.b().a().T(b,c,d)]):w([Te,Xe(b,c,d,f.b().a(),h-1)]);if(Qe(f))return w([Ue,Xe(b,c,d,f.b().a(),h+1)]);if(f.Q())return f;for(var k=[],p=A;!f.Q();)if(Oe(f)||Qe(f))p=Xe(b,c,d,f,h),f=f.b().b();else{var r=f.a(),f=f.b();Pe(r)?k.push(Xe(b,c,d,r,h)):Oe(r)||Qe(r)||Re(r)?k.push(Xe(b,c,d,r,h)):k.push(r)}f instanceof y||(p=f);return lb(k,p)}
s.N=function(b){return new Ke(Ye(b,this.Ha,1))};function Ye(b,c,d){if(Oe(c))return 1===d?w([Se,c.b().a().N(b)]):w([Se,Ye(b,c.b().a(),d-1)]);if(Pe(c))return 1===d?w([Te,c.b().a().N(b)]):w([Te,Ye(b,c.b().a(),d-1)]);if(Qe(c))return w([Ue,Ye(b,c.b().a(),d+1)]);if(c.Q())return c;for(var f=[],h=A;!c.Q();)if(Oe(c)||Qe(c))h=Ye(b,c,d),c=c.b().b();else{var k=c.a(),c=c.b();Pe(k)||Oe(k)||Qe(k)||Re(k)?f.push(Ye(b,k,d)):f.push(k)}c instanceof y||(h=c);return lb(f,h)}s.Z=function(b){return new Ke(Ze(b,this.Ha,1))};
function Ze(b,c,d){if(Oe(c))return 1===d?w([Se,c.b().a().Z(b)]):w([Se,Ze(b,c.b().a(),d-1)]);if(Pe(c))return 1===d?w([Te,c.b().a().Z(b)]):w([Te,Ze(b,c.b().a(),d-1)]);if(Qe(c))return w([Ue,Ze(b,c.b().a(),d+1)]);if(c.Q())return c;for(var f=[],h=A;!c.Q();)if(Oe(c)||Qe(c))h=Ze(b,c,d),c=c.b().b();else{var k=c.a(),c=c.b();Pe(k)||Oe(k)||Qe(k)||Re(k)?f.push(Ze(b,k,d)):f.push(k)}c instanceof y||(h=c);return lb(f,h)}s.l=function(b){b.va(this);for(var c=Me(this),d=0,f=c.length;d<f;d++)c[d].l(b);b.Ia(this)};
function $e(){}s=$e.prototype;s.va=n();s.Ia=n();s.Wb=function(b){this.va(b)};s.tc=function(b){this.va(b)};s.Vb=function(b){this.va(b)};s.bc=function(b){this.Ia(b)};function af(b){this.Ob=new z(b,A)}af.prototype=new $e;af.prototype.Wb=function(b){b.m(this.Ob.a());this.Ob=new z(b,this.Ob)};af.prototype.bc=function(){this.Ob=this.Ob.b()};function bf(){this.vb=[];this.Gc=[];this.rb=0;this.Fc=-1}bf.prototype=new $e;s=bf.prototype;s.Wb=function(b){b.Nb()&&this.rb++};s.va=n();s.Ia=n();
s.bc=function(b){b.Nb()&&this.rb--};s.tc=function(b){b=b.Oa-this.rb;if(this.Fc<b)this.Fc=b};function cf(b){this.vb=[];this.Gc=[];this.Ha=b}cf.prototype=new $e;s=cf.prototype;s.Ib=function(){return this.Gc.length};s.Wb=function(b){this.vb.unshift(b);if(b.Nb())this.Ha=this.Ha.N(0)};s.va=function(b){this.vb.unshift(b)};s.Ia=function(){this.vb.shift()};s.bc=function(b){this.vb.shift();if(b.Nb())this.Ha=qe(this.Ha)};s.tc=function(b){Nd(b,this.Ha)&&0<this.vb.length&&this.Gc.push(this.vb[0])};
function df(){this.name=this.target=l;this.pc=this.Tc=this.fd=0;this.children=[];this.parent=l;this.bd={};this.ad={}}function ef(b,c){var d=c.Qa(),f=b[d];if(f===i&&(f=new df,f.target=c,f.name=d,b[d]=f,c instanceof Z&&(d=c.ec,d!==l)))d=ef(b,d),d.children.push(f),f.parent=d;return f}function ff(b){this.target=b;this.Ib=0;this.key=b.Qa()}function gf(b,c){var d=b[c.Qa()];d===i&&(d=new ff(c),b[d.key]=d);return d}function hf(){this.zc={};this.wd={};this.Bc=l;this.now=0}function jf(){}jf.prototype.gb=i;
jf.prototype.end=i;jf.prototype.Ab=i;function kf(b){b.show();var c=prompt("q to resume execution, f to skip to the end of this frame, any other key to step");if(c!==l)if(/^q$/i.test(c))Kc(b,zc);else if(/^f$/i.test(c))b.Mc=b.i-1,Kc(b,lf)}function mf(){}mf.prototype=new jf;mf.prototype.gb=n();mf.prototype.end=n();mf.prototype.Ab=n();var zc=new mf;function nf(){}nf.prototype=new jf;nf.prototype.gb=function(b){kf(b)};nf.prototype.end=function(b){ya("VM thread finished: returning.");kf(b)};
nf.prototype.Ab=n();var of=new nf;function pf(){}pf.prototype=new jf;pf.prototype.gb=function(b){b.ac=j;for(var c=[],d=[];0<=b.i;)Cc(b).a().Lb&&(c.push(Cc(b)),d.push(b.ja[b.i])),b.i--;for(var f=c.length-1;0<=f;f--)R(b,d[f],c[f])};pf.prototype.end=n();pf.prototype.Ab=n();var qf=new pf;function rf(){}rf.prototype=new jf;rf.prototype.gb=function(b){b.i<=b.Mc&&Kc(b,of)};rf.prototype.end=n();rf.prototype.Ab=n();var lf=new rf;function sf(){}sf.prototype=new jf;
sf.prototype.gb=function(b){var c=b.Wa.Bc;if(c!==l){var d=ef(b.Wa.zc,c),c=1E6*(new Date).getTime()-b.Wa.now;d.Tc+=c;d.pc+=c;for(d=d.parent;d!==l;)d.pc+=c,d=d.parent}var f=Mc(b);if(f!==l)b.t=b.ja[b.i],b.Kb=b.pa[b.i],this.rd(f,b),f.oa?(c=f.sa(b),c instanceof Tc&&(c=c.s()),d=ef(b.Wa.zc,c),f=f.g,f!==l&&gf(d.bd,f).Ib++,f=ef(b.Wa.zc,f),c!==l&&gf(f.ad,c).Ib++,d.fd++,b.Wa.Bc=c):b.Wa.Bc=f.g!==l?f.g:A,b.Wa.now=1E6*(new Date).getTime()};sf.prototype.end=n();
sf.prototype.Ab=function(b){b.Wa=new hf;b.Wa.now=1E6*(new Date).getTime()};var tf=new sf;function uf(b,c,d){this.g=l;this.Zb=b;this.M=c;this.v=d;this.m(F("AssignmentBuilder.build"))}uf.prototype=new M;uf.prototype.className="AssignmentBuilder.BuildAssignment1";uf.prototype.d=function(b){if(!(this.M instanceof y)){try{this.M.Bb()}catch(c){c instanceof Fa||g(c),g(new t("assign: unexpected: "+this.M))}D(b,new vf(this.Zb,this.M.b(),this.v));wf(b,this.M.a(),this.v)}};
function vf(b,c,d){this.g=l;this.Zb=b;this.M=c;this.v=d;this.m(F("AssignmentBuilder.build"))}vf.prototype=new M;vf.prototype.className="AssignmentBuilder.BuildAssignment2";vf.prototype.d=function(b){this.Zb.La(Q(b).reduce());D(b,new uf(this.Zb,this.M,this.v))};var xf=A,yf=K("at-string");
function wf(b,c,d){if(c instanceof y)C(b,c);else if(c instanceof Ma&&!(xf instanceof y))D(b,new zf(d)),yf.bound()?Ha(yf.value(),b,new z(c,A)):C(b,c);else if(c instanceof L&&Af(c))wf(b,Bf(cb(c,"ssexpand")),d);else if(c instanceof z){var f,h=c.a();f=!(h instanceof L)||!h.bound()?l:hc(h.value());if(f!==l)h=c.b(),h instanceof z||g(new TypeError),D(b,new Cf(d)),Ha(f,b,h);else if(f=c.a(),bb("quote",f))C(b,new ve(c.b().a()));else if(f===Ue)D(b,new Df),Ef(b,c.b().a(),d,1);else if(bb("fn",f))h=c.b(),h instanceof
z||g(new TypeError),c=h,h=d,h===l&&g(new ReferenceError("can't have null lexical bindings!")),f={},d=c.a(),d instanceof y||(h=[f].concat(h)),D(b,new Ff(c,h,f)),d instanceof y?C(b,new z(A,A)):(c=h,Gf(d,c[0],[0],m),Hf(b,d,c));else if(bb("if",f)){h=c=c.b();for(f=new Ae;0<c.ka();)switch(c.ka()){case 0:break;case 1:f.append(new W);c=c.b();break;case 2:f.append(new Ce);c=c.b();c instanceof z||g(new TypeError);c.Hc(new z(A,A));c=c.b();break;default:f.append(new Ce),c=c.b().b()}c=h;D(b,new If(f));D(b,new Jf(f,
c,d))}else if(bb("assign",f)){c=c.b();h=new ye;f=c.ka();0!==f%2&&g(new t("assign: requires even number of arguments"));f=f/2-1;0>f&&g(new t("assign: nothing to assign"));for(h.aa=new xe;0<f;)h.aa=new re(h.aa),f--;f=new E(h);f.m(F("AssignmentBuilder.build"));D(b,f);D(b,new uf(h,c,d))}else bb("compose",f.sc())?(h=f.b(),h instanceof z||g(new TypeError),c=c.b(),c instanceof z||g(new TypeError),wf(b,Kf(h,c),d)):bb("complement",f.sc())?(h=c.b(),h instanceof z||g(new TypeError),c=wf,f=f.b().a(),h=new z(K("no"),
new z(new z(f,h),A)),c(b,h,d)):f instanceof L&&Af(f)?wf(b,new z(Bf(cb(f,"ssexpand")),c.b()),d):D(b,new Lf(c,d,c,[]))}else{if(c instanceof L)for(h=0;h<d.length;h++)if(c.name()in d[h]){d=d[h][c.name()];C(b,new U(c,h,d));return}C(b,c)}}function zf(b){this.g=l;this.v=b;this.m(F("Compiler.compile"))}zf.prototype=new M;zf.prototype.className="Compiler.FinishAtString";zf.prototype.d=function(b){var c=Q(b);c instanceof Ma?C(b,c):wf(b,c,this.v)};
function Cf(b){this.g=l;this.v=b;this.m(F("Compiler.compilePair"))}Cf.prototype=new M;Cf.prototype.className="Compiler.ThenCompile";Cf.prototype.d=function(b){wf(b,Q(b),this.v)};function Df(){this.g=l;this.m(F("Compiler.compilePair"))}Df.prototype=new M;Df.prototype.className="Compiler.WrapQuasiQuotation";Df.prototype.d=function(b){C(b,new Ke(Q(b)))};function Kf(b,c){var d=b.a();if(b.b()instanceof y)return new z(d,c);var f=b.b();f instanceof z||g(new TypeError);return new z(d,new z(Kf(f,c),A))}
function Ff(b,c,d){this.g=l;this.eb=b;this.v=c;this.Cc=d;this.m(F("FunctionBodyBuilder.build"))}Ff.prototype=new M;Ff.prototype.className="FunctionBodyBuilder.Intermediate";Ff.prototype.d=function(b){var c=Q(b),d=c.a(),c=c.b(),f=this.eb.b();f instanceof z||g(new TypeError);D(b,new Mf(c,this.Cc,f,d,b.O));D(b,new Nf(f,this.v,[]))};function Mf(b,c,d,f,h){this.g=l;this.A=b;this.Cc=c;this.M=d;this.wa=f;this.Gb=h;this.m(F("FunctionBodyBuilder.build"))}Mf.prototype=new M;Mf.prototype.dc=j;
Mf.prototype.className="FunctionBodyBuilder.Finish";Mf.prototype.uc=function(b){return b instanceof Error};Mf.prototype.d=function(b){var c=b.error();if(c!==l)b.Sa=l,b.O=this.Gb,g(new t("building function fn "+this.A+" "+this.M+": "+c,c));C(b,Of(this.A,this.Cc,Q(b),this.wa))};
function Of(b,c,d,f){var h="rainbow.function.interpreted.optimise.Bind"+Pf(b,m),k=u[h];if(k===i)return f instanceof y?new Qf(b,c,d):new Rf(b,c,d);try{var p=k.of(b,c,d);p instanceof x||g(new TypeError);return p}catch(r){r instanceof Error||g(r),g(new t("Couldn't instantiate "+h+": "+r,r))}}
function Pf(b,c){if(b instanceof y)return"";if(b instanceof z){if(c){if(Sf(b)){var d=b.b().b().a();return d.Ga()?"_Oliteral":d instanceof U?"_Obound":"_Oother"}d=b.a();return"_D"+Pf(d,j)+Pf(b.b(),m)+"_d"}return Pf(b.a(),j)+Pf(b.b(),m)}return c?"_A":"_R"}function Tf(b,c,d){!(c instanceof y)&&c instanceof z&&(d&&Sf(c)?c.b().b().a().l(b):(Tf(b,c.a(),j),Tf(b,c.b(),m)))}var Uf=K("o"),Vf=K("#NIL#");function Hf(b,c,d){var f={value:A},h=[];D(b,new Wf(h,f));D(b,new Xf(h,f,c,d))}
function Wf(b,c){this.g=l;this.L=b;this.wa=c;this.m(F("FunctionParameterListBuilder.buildParams_"))}Wf.prototype=new M;Wf.prototype.className="FunctionParameterListBuilder.ReturnParams";Wf.prototype.d=function(b){if(0===this.L.length){var c;c=Q(b)}else c=lb(this.L,Q(b));c=new z(this.wa.value,c);C(b,c)};function Xf(b,c,d,f){this.g=l;this.L=b;this.wa=c;this.ua=d;this.v=f;this.m(F("FunctionParameterListBuilder.buildParams_"))}Xf.prototype=new M;Xf.prototype.className="FunctionParameterListBuilder.BuildParams1";
Xf.prototype.d=function(b){if(this.ua.Q()){var c=new E(this.ua);c.m(this);D(b,c)}else{var c=this.ua.a(),d=this.ua.b();if(c instanceof z)if(c instanceof y)this.L.push(Vf),D(b,new Xf(this.L,this.wa,d,this.v));else if(this.wa.value=Wa,Sf(c)){var f=c.b().a();D(b,new Yf(this.L,this.wa,d,this.v,f));wf(b,c.b().b().a(),this.v)}else D(b,new Zf(this.L,this.wa,d,this.v)),Hf(b,c,this.v);else this.L.push(c),D(b,new Xf(this.L,this.wa,d,this.v))}};
function Yf(b,c,d,f,h){this.g=l;this.L=b;this.wa=c;this.ua=d;this.v=f;this.hd=h;this.m(F("FunctionParameterListBuilder.buildParams_"))}Yf.prototype=new M;Yf.prototype.className="FunctionParameterListBuilder.BuildParams2a";Yf.prototype.d=function(b){this.L.push(w([Uf,this.hd,Q(b)]));D(b,new Xf(this.L,this.wa,this.ua,this.v))};function Zf(b,c,d,f){this.g=l;this.L=b;this.wa=c;this.ua=d;this.v=f;this.m(F("FunctionParameterListBuilder.buildParams_"))}Zf.prototype=new M;Zf.prototype.className="FunctionParameterListBuilder.BuildParams2b";
Zf.prototype.d=function(b){this.L.push(Q(b).b());D(b,new Xf(this.L,this.wa,this.ua,this.v))};function $f(b){for(;!b.Q();){if(b.a()instanceof z)return Wa;b=b.b()}return A}function Gf(b,c,d,f){b instanceof y||(b instanceof z?f&&Sf(b)?Gf(b.b().a(),c,d,j):(f=b.a(),f instanceof y?(c[Vf.name()]=d[0],d[0]++):Gf(f,c,d,j),Gf(b.b(),c,d,m)):(b instanceof L||g(new TypeError),c[b.name()]=d[0],d[0]++))}
function ag(b,c,d,f){var h=l;f instanceof L&&!f.Fa(b.name)?h=f:Sf(f)&&!f.b().a().Fa(b.name)?h=w([Uf,f.b().a(),f.b().b().a().T(b,c,d)]):!Sf(f)&&f instanceof z&&(h=f);return h}function bg(b,c,d,f){var h=l;f instanceof L&&!f.Fa(b.name)?h=f:Sf(f)&&!f.b().a().Fa(b.name)?h=w([Uf,f.b().a(),f.b().b().a().U(b,c,m,0,d)]):!Sf(f)&&f instanceof z&&(h=f);return h}function If(b){this.g=l;this.wb=b;this.m(F("IfBuilder.build"))}If.prototype=new M;If.prototype.className="IfBuilder.Reduce";
If.prototype.d=function(b){C(b,this.wb.reduce())};function Jf(b,c,d){this.g=l;this.wb=b;this.M=c;this.v=d;this.m(F("IfBuilder.build"))}Jf.prototype=new M;Jf.prototype.className="IfBuilder.BuildIf1";Jf.prototype.d=function(b){if(!(this.M instanceof y)){try{this.M.Bb()}catch(c){c instanceof Fa||g(c),g(new t("if: unexpected: "+this.M))}D(b,new cg(this.wb,this.M.b(),this.v));wf(b,this.M.a(),this.v)}};function cg(b,c,d){this.g=l;this.wb=b;this.M=c;this.v=d;this.m(F("AssignmentBuilder.build"))}
cg.prototype=new M;cg.prototype.className="IfBuilder.BuildIf2";cg.prototype.d=function(b){this.wb.La(Q(b).reduce());D(b,new Jf(this.wb,this.M,this.v))};function Lf(b,c,d,f){this.g=l;this.M=b;this.v=c;this.ta=d;this.Ma=f;this.m(F("InvocationBuilder.build"))}Lf.prototype=new M;Lf.prototype.className="InvocationBuilder.BuildInvocation";
Lf.prototype.d=function(b){if(this.M instanceof y)C(b,(new Ee(w(this.Ma))).reduce());else{try{this.M.Bb()}catch(c){c instanceof Fa||g(c),g(new t("can't compile "+this.ta+"; not a proper list"))}D(b,new Lf(this.M.b(),this.v,this.ta,this.Ma));D(b,new dg(this.Ma));wf(b,this.M.a(),this.v)}};function dg(b){this.g=l;this.Ma=b;this.m(F("InvocationBuilder.build"))}dg.prototype=new M;dg.prototype.className="InvocationBuilder.ReducePush";dg.prototype.d=function(b){this.Ma.push(Q(b).reduce())};
function Nf(b,c,d){this.g=l;this.M=b;this.v=c;this.L=d;this.m(F("PairExpander.expand"))}Nf.prototype=new M;Nf.prototype.className="PairExpander.ExpandPair";Nf.prototype.d=function(b){if(this.M instanceof y||!(this.M instanceof z))D(b,new eg(this.L)),wf(b,this.M,this.v);else{D(b,new Nf(this.M.b(),this.v,this.L));var c=this.M.a();D(b,new fg(this.L));wf(b,c,this.v)}};function fg(b){this.g=l;this.Ma=b;this.m(F("PairExpander.expand"))}fg.prototype=new M;fg.prototype.className="PairExpander.ReducePush";
fg.prototype.d=function(b){this.Ma.push(Q(b).reduce())};function eg(b){this.g=l;this.L=b;this.m(F("PairExpander.expand"))}eg.prototype=new M;eg.prototype.className="PairExpander.FinishPair";eg.prototype.d=function(b){var c=lb(this.L,Q(b).reduce());c instanceof z||g(new TypeError);C(b,c)};var Ue=K("quasiquote"),Se=K("unquote"),Te=K("unquote-splicing");function Ef(b,c,d,f){c.Q()?C(b,c):Oe(c)?gg(b,Se,c,f,d):Pe(c)?gg(b,Te,c,f,d):Qe(c)?(D(b,new hg(Ue)),Ef(b,c.b().a(),d,f+1)):D(b,new ig([],c,d,f))}
function ig(b,c,d,f){this.g=l;this.L=b;this.ya=c;this.v=d;this.rb=f;this.m(F("QuasiQuoteCompiler.compile"))}ig.prototype=new M;ig.prototype.className="QuasiQuoteCompiler.CompileQuasiQuote";ig.prototype.d=function(b){if(this.ya.Q())D(b,new jg(this.L)),Ef(b,this.ya,this.v,this.rb);else{var c=this.ya.a();D(b,new ig(this.L,this.ya.b(),this.v,this.rb));c.Q()?this.L.push(c):(D(b,new kg(this.L)),Ef(b,c,this.v,this.rb))}};function jg(b){this.g=l;this.L=b;this.m(F("QuasiQuoteCompiler.compile"))}
jg.prototype=new M;jg.prototype.className="QuasiQuoteCompiler.FinishQuasiQuote";jg.prototype.d=function(b){C(b,lb(this.L,Q(b)))};function kg(b){this.g=l;this.L=b;this.m(F("QuasiQuoteCompiler.compile"))}kg.prototype=new M;kg.prototype.className="QuasiQuoteCompiler.Push";kg.prototype.d=function(b){this.L.push(Q(b))};function gg(b,c,d,f,h){d=d.b().a();D(b,new hg(c));1===f?wf(b,d,h):Ef(b,d,h,f-1)}function hg(b){this.g=l;this.kd=b;this.m(F("QuasiQuoteCompiler.compile"))}hg.prototype=new M;
hg.prototype.className="QuasiQuoteCompiler.Prefix";hg.prototype.d=function(b){C(b,w([this.kd,Q(b)]))};var lg={},mg=K("let"),ng=K("self"),og=K("it");K("afn");var pg=K("do"),qg=K("with"),rg=K("aif");
function Fe(b){if(b.a()===mg)a:{b=b.b();if(b.a()===og){var c=b.b().a(),d=b.b().b();if(d.b()instanceof y&&d.a()instanceof Ae&&(d=d.a(),!(d.$ instanceof Ce)?0:"it"===d.$.n.toString())){b=d.R();d=d.$;d instanceof Ce||g(new TypeError);b=w([rg,c,b,d.next]);break a}}else if(b.a()===ng&&b.b().a()instanceof y&&(d=b.b().b(),d.a()instanceof ye&&d.b()instanceof y)){c=d.a();var d=c.aa,f="self";if(d.name instanceof L)d=d.name.name()===f;else{if(!(d.name instanceof X))f=d.name,f instanceof U||g(new TypeError);
d=d.name.name.name()===f}if(d&&c.aa.D instanceof Z&&c.aa instanceof xe){b=lg.zd(c.aa.D);break a}}b=new z(mg,b)}return b}function Ge(b){var c=b.a(),d=b.b(),f=c.A;if(d.ka()===f.ka())if(0===d.ka())c=w([pg].concat(c.body));else if(1===d.ka())c=w([mg,f.a(),d.a()].concat(c.body));else{b=d;for(d=[];!(f instanceof y);)d.push(f.a()),d.push(b.a()),f=f.b(),b=b.b();c=w([qg,w(d)].concat(c.body))}else c=b;return c}function $(){}$.prototype=new x;s=$.prototype;s.className="Builtin";
s.c=function(b){this.ca=b;K(b).ga(this);return this};s.j=function(b){g(new t("Builtin:invoke(args):provide implementation! "+this.name()+" args "+b))};s.h=function(b,c){C(b,this.j(c))};s.ra=q(0);s.type=function(){return sg};function Kb(b,c,d){d<b.ka()&&(ya(c+" got args "+b+" was expecting expecting at most "+d),g(new t(c.toLowerCase()+" expects at most "+d+" arguments: given "+b)))}function tg(b,c,d){b.ka()!==c&&g(new t(d.toLowerCase()+" expects "+c+" arguments: given "+b))}
s.toString=function(){return"[builtin:"+(this.ca===l||0===this.ca.length?this.className:this.ca)+"]"};s.Qa=function(){return this.toString()};s.name=function(){return""===this.ca?this.className.toLowerCase():this.ca};var sg=K("fn");function Tc(b,c){this.ya=b;this.ia=c}Tc.prototype=new x;s=Tc.prototype;s.className="Closure";s.za=function(b){this.ya.la(b,this.ia)};s.u=function(b,c){this.ya.z(b,this.ia,c)};s.V=function(b,c,d){this.ya.Da(b,this.ia,c,d)};s.h=function(b,c){this.ya.F(b,this.ia,c)};
s.type=function(){return sg};s.toString=function(){return this.ya.toString()};s.Qa=function(){return this.ya.Qa()};s.s=o("ya");function ug(b){return 0===b.length?m:b.charCodeAt(0)===vg?ug(b.substring(1)):b.charAt(b.length-1)===vg?ug(b.substring(0,b.length-1)):-1!==b.indexOf(wg)}function Z(){}Z.prototype=new x;s=Z.prototype;s.K=Z;s.className="InterpretedFunction";s.c=function(b,c,d){this.name=A;this.A=b;this.r=c;this.body=pb(d);this.yd=this.tb=this.ba=this.ec=this.p=l;xg(this);return this};
s.qc=function(b){if(this.name===b)this.name=A};s.Xb=function(b){this.name=b;for(var b=new af(this),c=0,d=this.body.length;c<d;c++)this.body[c].l(b)};s.Yb=o("name");s.Qa=function(){if(this.tb!==l)return this.tb;this.name instanceof y?(this.tb=this.toString(),this.ec!==l&&(this.tb+=" in "+this.ec.Qa())):this.tb=this.Yb().toString();return this.tb};
s.reduce=function(){var b;if(yg&&!this.Y()&&!(this.A instanceof y)){var c="rainbow.function.interpreted.optimise.stack.Stack"+Pf(this.A,m),d=u[c];if(d===i)b=this;else try{var f=d.of1(this);f instanceof x||g(new TypeError);b=f}catch(h){h instanceof Error||g(h),g(new t("Couldn't instantiate "+c+": "+h,h))}}else b=this;return b};function xg(b){var c=[];Ie(b,c);b.p=w(c);b.p.l(new zg(b))}s.m=ba("ec");function zg(b){this.g=b}zg.prototype=new $e;zg.prototype.Vb=function(b){b.m(this.g)};
function Ie(b,c){if(0===b.body.length)c.push(new E(A));else for(var d=0;d<b.body.length;d++){var f=d===b.body.length-1;b.body[d].o(c);f||c.push(new Zc("intermediate-fn-expression"))}}s=Z.prototype;s.kb=function(b,c){return 1===this.body.length&&this.yc(b,c)&&!this.ha(0)&&!this.Y()};
s.yc=function(b,c){var d=this.r[b.name()],d=new U(b,0,d),f;if(!(f=c.Ga()))if(!(f=c instanceof ve))if(!(f=c instanceof L))if(!(f=c instanceof U)){d=new cf(d);f=0;for(var h=this.body.length;f<h;f++)this.body[f].l(d);f=1>=d.Ib()}return f};s.Y=function(){for(var b=0,c=this.body.length;b<c;b++){var d=this.body[b];if(d instanceof Z){if(we(d))return j}else if(d.Y())return j}return m};function Ag(b,c){for(var d=0,f=b.body.length;d<f;d++)if(b.body[d].ha(c))return j;return m}
s.Nb=function(){return!(this.A instanceof y)};s.ha=function(b){return this.A instanceof y?Ag(this,b):Ag(this,b+1)};s.za=function(b){return this.la(b,l)};s.la=function(b,c){return this.F(b,c,A)};s.u=function(b,c){return this.z(b,l,c)};s.z=function(b,c,d){return this.F(b,c,new z(d,A))};s.V=function(b,c,d){return this.Da(b,l,c,d)};s.Da=function(b,c,d,f){return this.F(b,c,new z(d,new z(f,A)))};s.Ua=function(b,c,d,f){return this.Mb(b,l,c,d,f)};
s.Mb=function(b,c,d,f,h){return this.F(b,c,new z(d,new z(f,new z(h,A))))};s.h=function(b,c){return this.F(b,l,c)};s.F=function(){g(new t("error: invoke(vm, lc, args) not implemented in "+this.className+"; "+this))};s.o=function(b){we(this)?b.push(new Sc(this)):b.push(new E(this))};s.Ga=function(){return!we(this)};function we(b){var c=new bf;b.l(c);return-1<c.Fc}s.l=function(b){b.Wb(this);Tf(b,this.A,m);for(var c=0,d=this.body.length;c<d;c++)this.body[c].l(b);b.bc(this);this.ba!==l&&this.ba.l(b)};
s.ra=function(b){g(new t("Can't compare "+this+" to "+b))};s.toString=function(){if(this.A instanceof z&&this.A.a()===K("_")&&this.A.b()instanceof y&&1===this.body.length&&!(this.body[0]instanceof Ab)){if(this.body[0]instanceof y)return"[]";var b=this.body[0].toString();return"["+b.substring(1,b.length-1)+"]"}return w([K("fn"),this.A].concat(this.body)).toString()};s.type=function(){return sg};s.Cb=function(b){return this.body[b]};s.Pc=function(){return this.body[this.body.length-1]};s.length=function(){return this.body.length};
function Bg(b,c,d){try{c.b().Na()}catch(f){f instanceof Fa||g(f),Cg(b,d)}}function Cg(b,c){g(new t("args "+c+" doesn't match signature for "+b))}
s.mb=function(b,c,d){var f=this.r[b.name()];f===i&&g(new ReferenceError);var b=new U(b,0,f),h;for(var k=this.A,p=c,r=A,B=[];!k.Q();){var J=bg(b,p,f,k.a());J!==l&&B.push(J);k=k.b()}k instanceof L&&(p=bg(b,p,f,k),p!==l&&(r=p));try{h=lb(B,r)}catch(ha){ha instanceof Error||g(ha),g(new t("couldn't curry params "+k+", got list "+B+" and last "+r))}k={};Gf(h,k,[0],m);r=h instanceof y;!r&&d&&(c=c.N(0));d=[];for(B=0;B<this.body.length;B++)d.push(this.body[B].U(b,c,r,0,f).reduce());c=w(d);f=$f(h);return Of(h,
k,c,f)};s.U=function(b,c,d,f,h){for(var b=this.A instanceof y?b:b.N(0),d=Dg(this),k=[],p=0;p<this.body.length;p++)k.push(this.body[p].U(b,c,m,f+1,h).reduce());b=w(k);d.body=pb(b);xg(d);return d};s.T=function(b,c,d){if(!(this.A instanceof y))return this;for(var f=Dg(this),h=[],k=0;k<this.body.length;k++)h.push(this.body[k].T(b,c,d).reduce());b=w(h);f.body=pb(b);xg(f);return f};
s.N=function(b){this.A instanceof y||b++;for(var c=Dg(this),d=[],f=0;f<this.body.length;f++)d.push(this.body[f].N(b));b=w(d);c.body=pb(b);xg(c);return c};function Dg(b){var c=new b.K,d;for(d in b)b.hasOwnProperty(d)&&(c[d]=b[d]);return c}function Eg(b,c,d){d.zb(c)||g(new t("error: "+b+" expects "+c+" args, got "+d))}function Qf(b,c,d){this.c(b,c,d)}Qf.prototype=new Z;Qf.prototype.K=Qf;Qf.prototype.className="SimpleArgs";
Qf.prototype.F=function(b,c,d){var f=0,h;for(h in this.r)f++;f=c=new v(f,c);for(h=this.A;!(h instanceof y);)if(h instanceof L){f.add(d);break}else f.add(d.a()),d=d.b(),h=h.b();R(b,c,this.p)};function Rf(b,c,d){this.c(b,c,d)}Rf.prototype=new Z;Rf.prototype.K=Rf;Rf.prototype.className="ComplexArgs";Rf.prototype.F=function(b,c,d){var f=0,h;for(h in this.r)f++;c=new v(f,c);D(b,new Fg(c,this.p,this));D(b,new Gg(c,this.A,d,this))};function Fg(b,c,d){this.g=l;this.ia=b;this.p=c;this.m(d)}Fg.prototype=new M;
Fg.prototype.className="ComplexArgs.Run";Fg.prototype.d=function(b){R(b,this.ia,this.p)};function Gg(b,c,d,f){this.g=l;this.ia=b;this.ua=c;this.eb=d;this.m(f)}Gg.prototype=new M;Gg.prototype.className="ComplexArgs.BuildComplex";
Gg.prototype.d=function(b){if(this.ua.Q())this.ua instanceof L&&this.ia.add(this.eb);else{var c=this.ua.a(),d=this.eb.a();D(b,new Gg(this.ia,this.ua.b(),this.eb.b(),this.g));if(c instanceof L)this.ia.add(d);else if(Sf(c))if(c=c.b(),c instanceof z||g(new TypeError),this.eb instanceof y){D(b,new Hg(this.ia,this));var d=this.ia,f=[];c.b().a().o(f);R(b,d,w(f))}else this.ia.add(d);else{try{d.Bb()}catch(h){h instanceof Fa||g(h),g(new t("Expected list argument for destructuring parameter "+c+", got "+d))}D(b,
new Gg(this.ia,c,d,this.g))}this.ua=this.ua.b();this.eb=this.eb.b()}};function Hg(b,c){this.g=l;this.ia=b;this.m(c)}Hg.prototype=new M;Hg.prototype.className="ComplexArgs.AddToLc";Hg.prototype.d=function(b){this.ia.add(Q(b))};function Sf(b){return!(b instanceof z)?m:b.a()===Ig}var Ig=K("o");function Jg(){}Jg.prototype=new Z;s=Jg.prototype;s.K=Jg;s.className="StackFunctionSupport";s.kb=function(b,c){return this.yc(b,c)&&!this.ha(0)};
s.yc=function(b,c){var d=this.r[b.name()],d=new X(b,d);return c.Ga()||c instanceof ve||c instanceof L||1===this.body.length&&this.body[0]instanceof X&&$d(d,this.body[0])};s.Nb=q(m);
s.mb=function(b,c){var d=this.r[b.name()],f=new X(b,d),h;for(var k=this.A,p=A,r=[];!k.Q();){var B=ag(f,c,d,k.a());B!==l&&r.push(B);k=k.b()}k instanceof L&&(B=ag(f,c,d,k),B!==l&&(p=B));try{h=lb(r,p)}catch(J){J instanceof Error||g(J),g(new t("couldn't curry params "+k+", got list "+r+" and last "+p))}k={};Gf(h,k,[0],m);p=[];for(r=0;r<this.body.length;r++)p.push(this.body[r].T(f,c,d).reduce());var d=w(p),f=$f(h),ha;p=Pf(h,m);if(""===p)ha=Of(h,k,d,f);else{f="rainbow.function.interpreted.optimise.stack.Stack"+
p;p=u[f];p===i&&g(new t("no stack-based function implementation for "+h+"; couldn't find "+f));try{var T=p.of3(h,k,d);T instanceof x||g(new TypeError);ha=T}catch(sb){sb instanceof Error||g(sb),g(new t("Couldn't instantiate "+f+": "+sb,sb))}}return ha};function Kg(b,c){for(var d=Array(~~c.length),f=0;f<c.length;f++)d[f]=c[f].Z(b);return w(d)}function He(){}u["rainbow.function.interpreted.optimise.Bind"]=He;He.prototype=new Z;He.prototype.K=He;He.prototype.className="Bind";
He.of=function(b,c,d){return(new He).c(b,c,d)};He.prototype.la=function(b,c){R(b,c,this.p)};He.prototype.F=function(b,c,d){try{d.Na()}catch(f){f instanceof Ga||g(f),g(new t("expected 0 args, got "+d))}R(b,c,this.p)};function Lg(){}u["rainbow.function.interpreted.optimise.Bind_A"]=Lg;Lg.prototype=new Z;Lg.prototype.K=Lg;Lg.prototype.className="Bind_A";Lg.of=function(b,c,d){return(new Lg).c(b,c,d)};Lg.prototype.la=function(){g(new t("function "+this+" expects 1 arg, got none"))};
Lg.prototype.z=function(b,c,d){var f=0,h;for(h in this.r)f++;c=new v(f,c);c.add(d);R(b,c,this.p)};Lg.prototype.F=function(b,c,d){d instanceof y&&this.la(b,c);try{d.b().Na()}catch(f){f instanceof Ga||g(f),g(new t("expected 1 arg, got "+d+" calling "+this))}this.z(b,c,d.a())};function Mg(){}u["rainbow.function.interpreted.optimise.Bind_A_A"]=Mg;Mg.prototype=new Z;Mg.prototype.K=Mg;Mg.prototype.className="Bind_A_A";Mg.of=function(b,c,d){return(new Mg).c(b,c,d)};Mg.prototype.la=function(){g(new t("error: expected 2 args, got none"))};
Mg.prototype.z=function(b,c,d){g(new t("error: expected 2 args, got 1: "+d))};Mg.prototype.Da=function(b,c,d,f){var h=0,k;for(k in this.r)h++;c=new v(h,c);c.add(d);c.add(f);R(b,c,this.p)};Mg.prototype.F=function(b,c,d){try{d.b().b().Na()}catch(f){f instanceof Ga||g(f),g(new t("expected 2 args, got "+d))}this.Da(b,c,d.a(),d.b().a())};function Ng(){}u["rainbow.function.interpreted.optimise.Bind_A_A_A"]=Ng;Ng.prototype=new Z;Ng.prototype.K=Ng;Ng.prototype.className="Bind_A_A_A";
Ng.of=function(b,c,d){return(new Ng).c(b,c,d)};Ng.prototype.Mb=function(b,c,d,f,h){var k=0,p;for(p in this.r)k++;c=new v(k,c);c.add(d);c.add(f);c.add(h);R(b,c,this.p)};Ng.prototype.F=function(b,c,d){Bg(this,d.b().b().b(),d);this.Mb(b,c,d.a(),d.b().a(),d.b().b().a())};function Og(){}u["rainbow.function.interpreted.optimise.Bind_A_A_R"]=Og;Og.prototype=new Z;Og.prototype.K=Og;Og.prototype.className="Bind_A_A_R";Og.of=function(b,c,d){return(new Og).c(b,c,d)};Og.prototype.la=function(){g(new t("error: expected at least 2 arg, got none"))};
Og.prototype.z=function(b,c,d){g(new t("error: expected at least 2 args, got one: "+d))};Og.prototype.F=function(b,c,d){var f=0,h;for(h in this.r)f++;c=new v(f,c);c.add(d.a());c.add(d.b().a());c.add(d.b().b());R(b,c,this.p)};function Pg(){}u["rainbow.function.interpreted.optimise.Bind_A_Obound"]=Pg;Pg.prototype=new Z;Pg.prototype.K=Pg;Pg.prototype.className="Bind_A_Obound";
Pg.of=function(b,c,d){c=(new Pg).c(b,c,d);d=b.b().a().b().b().a();d instanceof U||g(new TypeError);c.W=d;b=b.b().a().b().a();b instanceof L||g(new TypeError);if(c.kb(b,c.W))try{var f=c.mb(b,c.W,m);f instanceof Z||g(new TypeError);c.ba=f}catch(h){h instanceof Error||g(h),za(h)}return c};Pg.prototype.z=function(b,c,d){if(this.ba!==l)this.ba.z(b,c,d);else{var f=0,h;for(h in this.r)f++;c=new v(f,c);c.add(d);c.add(this.W.w(c));R(b,c,this.p)}};
Pg.prototype.Da=function(b,c,d,f){var h=0,k;for(k in this.r)h++;c=new v(h,c);c.add(d);c.add(f);R(b,c,this.p)};Pg.prototype.F=function(b,c,d){d instanceof y&&Cg(this,d);var f=d.a(),h=d.b();h instanceof y?this.z(b,c,f):(Bg(this,h.b(),d),this.Da(b,c,f,h.a()))};function Qg(){}u["rainbow.function.interpreted.optimise.Bind_A_Oliteral"]=Qg;Qg.prototype=new Z;Qg.prototype.K=Qg;Qg.prototype.className="Bind_A_Oliteral";
Qg.of=function(b,c,d){c=(new Qg).c(b,c,d);c.W=b.b().a().b().b().a();b=b.b().a().b().a();b instanceof L||g(new TypeError);if(c.kb(b,c.W))try{var f=c.mb(b,c.W,m);f instanceof Z||g(new TypeError);c.ba=f}catch(h){h instanceof Error||g(h),za(h)}return c};Qg.prototype.z=function(b,c,d){if(this.ba!==l)this.ba.z(b,c,d);else{var f=0,h;for(h in this.r)f++;c=new v(f,c);c.add(d);c.add(this.W);R(b,c,this.p)}};
Qg.prototype.Da=function(b,c,d,f){var h=0,k;for(k in this.r)h++;c=new v(h,c);c.add(d);c.add(f);R(b,c,this.p)};Qg.prototype.F=function(b,c,d){d instanceof y&&Cg(this,d);var f=d.a(),h=d.b();h instanceof y?this.z(b,c,f):(Bg(this,h.b(),d),this.Da(b,c,f,h.a()))};function Rg(){}u["rainbow.function.interpreted.optimise.Bind_A_Oother"]=Rg;Rg.prototype=new Z;Rg.prototype.K=Rg;Rg.prototype.className="Bind_A_Oother";Rg.of=function(b,c,d){c=(new Rg).c(b,c,d);d=[];b.b().a().b().b().a().o(d);c.Ec=w(d);return c};
Rg.prototype.z=function(b,c,d){var f=0,h;for(h in this.r)f++;c=new v(f,c);c.add(d);D(b,new Sg(c,this.p,this));R(b,c,this.Ec)};Rg.prototype.Da=function(b,c,d,f){var h=0,k;for(k in this.r)h++;c=new v(h,c);c.add(d);c.add(f);R(b,c,this.p)};Rg.prototype.F=function(b,c,d){d instanceof y&&Cg(this,d);var f=d.a(),h=d.b();h instanceof y?this.z(b,c,f):(Bg(this,h.b(),d),this.Da(b,c,f,h.a()))};function Tg(){}u["rainbow.function.interpreted.optimise.Bind_A_R"]=Tg;Tg.prototype=new Z;Tg.prototype.K=Tg;
Tg.prototype.className="Bind_A_R";Tg.of=function(b,c,d){return(new Tg).c(b,c,d)};Tg.prototype.la=function(){g(new t("error: expected at least 1 arg, got none"))};Tg.prototype.F=function(b,c,d){var f=0,h;for(h in this.r)f++;c=new v(f,c);c.add(d.a());c.add(d.b());R(b,c,this.p)};function Ug(){}u["rainbow.function.interpreted.optimise.Bind_D_A_A_A_d"]=Ug;Ug.prototype=new Z;Ug.prototype.K=Ug;Ug.prototype.className="Bind_D_A_A_A_d";Ug.of=function(b,c,d){return(new Ug).c(b,c,d)};
Ug.prototype.z=function(b,c,d){var f=0,h;for(h in this.r)f++;c=new v(f,c);d instanceof z||g(new TypeError);c.add(d.a());d=d.b();d instanceof z||g(new TypeError);c.add(d.a());d=d.b();d instanceof z||g(new TypeError);c.add(d.a());R(b,c,this.p)};Ug.prototype.F=function(b,c,d){try{d.b().Na()}catch(f){f instanceof Ga||g(f),g(new t("expected 1 arg, got extra "+d.b()+" calling "+this))}this.z(b,c,d.a())};function Vg(){}u["rainbow.function.interpreted.optimise.Bind_D_A_A_d"]=Vg;Vg.prototype=new Z;
Vg.prototype.K=Vg;Vg.prototype.className="Bind_D_A_A_d";Vg.of=function(b,c,d){return(new Vg).c(b,c,d)};Vg.prototype.z=function(b,c,d){var f=0,h;for(h in this.r)f++;c=new v(f,c);d instanceof z||g(new TypeError);c.add(d.a());d=d.b();d instanceof z||g(new TypeError);c.add(d.a());R(b,c,this.p)};Vg.prototype.F=function(b,c,d){Bg(this,d.b(),d);this.z(b,c,d.a())};function Wg(){}u["rainbow.function.interpreted.optimise.Bind_Obound"]=Wg;Wg.prototype=new Z;Wg.prototype.K=Wg;Wg.prototype.className="Bind_Obound";
Wg.of=function(b,c,d){c=(new Wg).c(b,c,d);b=b.a();b instanceof z||g(new TypeError);b=b.b().b().a();b instanceof U||g(new TypeError);c.gd=b;return c};Wg.prototype.la=function(b,c){var d=0,f;for(f in this.r)d++;c=new v(d,c);c.add(this.gd.w(c));R(b,c,this.p)};Wg.prototype.z=function(b,c,d){var f=0,h;for(h in this.r)f++;c=new v(f,c);c.add(d);R(b,c,this.p)};
Wg.prototype.F=function(b,c,d){if(d instanceof y)this.la(b,c);else{try{d.b().Na()}catch(f){f instanceof Ga||g(f),g(new t("expected 0 or 1 args, got extra "+d.b()+" calling "+this))}this.z(b,c,d.a())}};function Xg(){}u["rainbow.function.interpreted.optimise.Bind_Oliteral"]=Xg;Xg.prototype=new Z;Xg.prototype.K=Xg;Xg.prototype.className="Bind_Oliteral";
Xg.of=function(b,c,d){c=(new Xg).c(b,c,d);c.W=b.a().b().b().a();b=b.a().b().a();b instanceof L||g(new TypeError);if(c.kb(b,c.W))b=c.mb(b,c.W,m),b instanceof Z||g(new TypeError),c.ba=b;return c};Xg.prototype.la=function(b,c){if(this.ba!==l)this.ba.la(b,c);else{var d=0,f;for(f in this.r)d++;c=new v(d,c);c.add(this.W);R(b,c,this.p)}};Xg.prototype.z=function(b,c,d){var f=0,h;for(h in this.r)f++;c=new v(f,c);c.add(d);R(b,c,this.p)};
Xg.prototype.F=function(b,c,d){if(d instanceof y)this.la(b,c);else{try{d.b().Na()}catch(f){f instanceof Ga||g(f),g(new t("expected 0 or 1 args, got extra "+d.b()+" calling "+this))}this.z(b,c,d.a())}};function Yg(){}u["rainbow.function.interpreted.optimise.Bind_Oother"]=Yg;Yg.prototype=new Z;Yg.prototype.K=Yg;Yg.prototype.className="Bind_Oother";Yg.of=function(b,c,d){var f=(new Yg).c(b,c,d);f.c(b,c,d);f.W=b.a().b().b().a();b=[];f.W.o(b);f.Ec=w(b);return f};
Yg.prototype.la=function(b,c){var d=0,f;for(f in this.r)d++;c=new v(d,c);D(b,new Sg(c,this.p,this));R(b,c,this.Ec)};Yg.prototype.z=function(b,c,d){var f=0,h;for(h in this.r)f++;c=new v(f,c);c.add(d);R(b,c,this.p)};Yg.prototype.F=function(b,c,d){if(d instanceof y)this.la(b,c);else{try{d.b().Na()}catch(f){f instanceof Ga||g(f),g(new t("expected 0 or 1 args, got extra "+d.b()+" calling "+this))}this.z(b,c,d.a())}};function Zg(){}u["rainbow.function.interpreted.optimise.Bind_R"]=Zg;Zg.prototype=new Z;
Zg.prototype.K=Zg;Zg.prototype.className="Bind_R";Zg.of=function(b,c,d){return(new Zg).c(b,c,d)};Zg.prototype.F=function(b,c,d){var f=0,h;for(h in this.r)f++;c=new v(f,c);c.add(d);R(b,c,this.p)};function $g(){}u["rainbow.function.interpreted.optimise.stack.Stack_A"]=$g;$g.prototype=new Jg;$g.prototype.K=$g;$g.prototype.className="Stack_A";$g.of1=function(b){return $g.of3(b.A,b.r,Kg(b.r,b.body))};$g.of3=function(b,c,d){return(new $g).c(b,c,d)};$g.prototype.u=function(b,c){S(b,l,this.p,[c])};
$g.prototype.z=function(b,c,d){S(b,c,this.p,[d])};$g.prototype.h=function(b,c){Eg(this,1,c);this.u(b,c.a())};$g.prototype.F=function(b,c,d){Eg(this,1,d);this.z(b,c,d.a())};function ah(){}u["rainbow.function.interpreted.optimise.stack.Stack_A_A"]=ah;ah.prototype=new Jg;ah.prototype.K=ah;ah.prototype.className="Stack_A_A";ah.of1=function(b){return ah.of3(b.A,b.r,Kg(b.r,b.body))};ah.of3=function(b,c,d){return(new ah).c(b,c,d)};ah.prototype.V=function(b,c,d){S(b,l,this.p,[c,d])};
ah.prototype.Da=function(b,c,d,f){S(b,c,this.p,[d,f])};ah.prototype.h=function(b,c){Eg(this,2,c);this.V(b,c.a(),c.b().a())};ah.prototype.F=function(b,c,d){Eg(this,2,d);this.Da(b,c,d.a(),d.b().a())};function bh(){}u["rainbow.function.interpreted.optimise.stack.Stack_A_A_A"]=bh;bh.prototype=new Jg;bh.prototype.K=bh;bh.prototype.className="Stack_A_A_A";bh.of1=function(b){return bh.of3(b.A,b.r,Kg(b.r,b.body))};bh.of3=function(b,c,d){return(new bh).c(b,c,d)};
bh.prototype.Ua=function(b,c,d,f){S(b,l,this.p,[c,d,f])};bh.prototype.Mb=function(b,c,d,f,h){S(b,c,this.p,[d,f,h])};bh.prototype.h=function(b,c){Eg(this,3,c);this.Ua(b,c.a(),c.b().a(),c.b().b().a())};bh.prototype.F=function(b,c,d){Eg(this,3,d);this.Mb(b,c,d.a(),d.b().a(),d.b().b().a())};function ch(){}u["rainbow.function.interpreted.optimise.stack.Stack_A_A_A_A"]=ch;ch.prototype=new Jg;ch.prototype.K=ch;ch.prototype.className="Stack_A_A_A_A";ch.of1=function(b){return ch.of3(b.A,b.r,Kg(b.r,b.body))};
ch.of3=function(b,c,d){return(new ch).c(b,c,d)};ch.prototype.h=function(b,c){Eg(this,4,c);var d=c.a(),f=c.b().a(),h=c.b().b().a(),k=c.b().b().b().a();S(b,l,this.p,[d,f,h,k])};ch.prototype.F=function(b,c,d){Eg(this,4,d);var f=d.a(),h=d.b().a(),k=d.b().b().a(),d=d.b().b().b().a();S(b,c,this.p,[f,h,k,d])};function dh(){}u["rainbow.function.interpreted.optimise.stack.Stack_A_A_R"]=dh;dh.prototype=new Jg;dh.prototype.K=dh;dh.prototype.className="Stack_A_A_R";
dh.of1=function(b){return dh.of3(b.A,b.r,Kg(b.r,b.body))};dh.of3=function(b,c,d){return(new dh).c(b,c,d)};dh.prototype.F=function(b,c,d){S(b,c,this.p,[d.a(),d.b().a(),d.b().b()])};function eh(){}u["rainbow.function.interpreted.optimise.stack.Stack_A_R"]=eh;eh.prototype=new Jg;eh.prototype.K=eh;eh.prototype.className="Stack_A_R";eh.of1=function(b){return eh.of3(b.A,b.r,Kg(b.r,b.body))};eh.of3=function(b,c,d){return(new eh).c(b,c,d)};eh.prototype.F=function(b,c,d){S(b,c,this.p,[d.a(),d.b()])};
function fh(){}u["rainbow.function.interpreted.optimise.stack.Stack_R"]=fh;fh.prototype=new Jg;fh.prototype.K=fh;fh.prototype.className="Stack_R";fh.of1=function(b){return fh.of3(b.A,b.r,Kg(b.r,b.body))};fh.of3=function(b,c,d){return(new fh).c(b,c,d)};fh.prototype.F=function(b,c,d){S(b,c,this.p,[d])};function gh(){}u["rainbow.function.interpreted.optimise.stack.Stack_D_A_A_A_A_d"]=gh;gh.prototype=new Jg;gh.prototype.K=gh;gh.prototype.className="Stack_D_A_A_A_A_d";
gh.of1=function(b){return gh.of3(b.A,b.r,Kg(b.r,b.body))};gh.of3=function(b,c,d){return(new gh).c(b,c,d)};gh.prototype.u=function(b,c){S(b,l,this.p,[c.a(),c.b().a(),c.b().b().a(),c.b().b().b().a()])};gh.prototype.z=function(b,c,d){S(b,c,this.p,[d.a(),d.b().a(),d.b().b().a(),d.b().b().b().a()])};gh.prototype.h=function(b,c){Eg(this,1,c);this.u(b,c.a())};gh.prototype.F=function(b,c,d){Eg(this,1,d);this.z(b,c,d.a())};function hh(){}u["rainbow.function.interpreted.optimise.stack.Stack_D_A_A_d"]=hh;
hh.prototype=new Jg;hh.prototype.K=hh;hh.prototype.className="Stack_D_A_A_d";hh.of1=function(b){return hh.of3(b.A,b.r,Kg(b.r,b.body))};hh.of3=function(b,c,d){return(new hh).c(b,c,d)};hh.prototype.u=function(b,c){S(b,l,this.p,[c.a(),c.b().a()])};hh.prototype.z=function(b,c,d){S(b,c,this.p,[d.a(),d.b().a()])};hh.prototype.h=function(b,c){Eg(this,1,c);this.u(b,c.a())};hh.prototype.F=function(b,c,d){Eg(this,1,d);this.z(b,c,d.a())};function ih(){}
u["rainbow.function.interpreted.optimise.stack.Stack_A_Oliteral"]=ih;ih.prototype=new Jg;ih.prototype.K=ih;ih.prototype.className="Stack_A_Oliteral";ih.of1=function(b){var c=new ih,d=Kg(b.r,b.body),b=c.c(b.A,b.r,d);b.W=b.A.b().a().b().b().a();c=b.A.b().a().b().a();c instanceof L||g(new TypeError);if(b.kb(c,b.W))c=b.mb(c,b.W,m),c instanceof Z||g(new TypeError),b.ba=c;return b};ih.of3=function(b,c,d){c=(new ih).c(b,c,d);c.W=b.a().b().b().a();return c};s=ih.prototype;
s.u=function(b,c){this.ba!==l?this.ba.u(b,c):S(b,l,this.p,[c,this.W])};s.V=function(b,c,d){S(b,l,this.p,[c,d])};s.z=function(b,c,d){this.ba!==l?this.ba.z(b,c,d):S(b,c,this.p,[d,this.W])};s.Da=function(b,c,d,f){S(b,c,this.p,[d,f])};s.h=function(b,c){if(c instanceof y)Cg(this,c);else{var d=c.a();c.b()instanceof y?this.u(b,d):this.V(b,d,c.b().a())}};s.F=function(b,c,d){if(d instanceof y)Cg(this,d);else{var f=d.a();d.b()instanceof y?this.z(b,c,f):this.xd(b,c,f,d.b().a())}};function jh(){}
u["rainbow.function.interpreted.optimise.stack.Stack_Oliteral"]=jh;jh.prototype=new Jg;jh.prototype.K=jh;jh.prototype.className="Stack_Oliteral";jh.of1=function(b){var c=new jh,d=Kg(b.r,b.body),b=c.c(b.A,b.r,d);b.W=b.A.a().b().b().a();c=b.A.a().b().a();c instanceof L||g(new TypeError);if(b.kb(c,b.W))c=b.mb(c,b.W,m),c instanceof Z||g(new TypeError),b.ba=c;return b};jh.of3=function(b,c,d){c=(new jh).c(b,c,d);c.W=b.a().b().b().a();return c};s=jh.prototype;
s.za=function(b){this.ba!==l?this.ba.u(b):S(b,l,this.p,[this.W])};s.u=function(b,c){S(b,l,this.p,[c])};s.la=function(b,c){this.ba!==l?this.ba.z(b,c):S(b,c,this.p,[this.W])};s.z=function(b,c,d){S(b,c,this.p,[d])};s.h=function(b,c){c instanceof y?this.za(b):(Eg(this,1,c),this.u(b,c.a()))};s.F=function(b,c,d){d instanceof y?this.la(b):(Eg(this,1,d),this.z(b,c,d.a()))};function kh(){this.c("macex")}kh.prototype=new $;kh.prototype.className="Macex";
kh.prototype.h=function(b,c){if(c instanceof y)C(b,A);else{var d=c.a();if(d instanceof z){var f=d.a();f instanceof L?f.bound()?(f=f.value(),f=hc(f),f===l?C(b,d):(d=d.b(),d instanceof z||g(new TypeError),D(b,new lh(this)),Ha(f,b,d))):C(b,d):C(b,d)}else C(b,d)}};function lh(b){this.g=l;this.m(b)}lh.prototype=new M;lh.prototype.className="Macex.Again";lh.prototype.d=function(b){this.g.h(b,new z(Q(b),A))};function mh(){this.c("uniq")}mh.prototype=new $;mh.prototype.className="Uniq";
mh.prototype.za=function(b){C(b,K("gs"+ ++nh))};mh.prototype.j=function(b){try{b.Na()}catch(c){c instanceof Ga||g(new t("uniq: expects no args, got "+b))}return K("gs"+ ++nh)};var nh=0;function oh(){this.c("details")}oh.prototype=new $;oh.prototype.className="Details";oh.prototype.j=function(b){b=b.a();try{b instanceof Aa||g(new TypeError)}catch(c){c instanceof TypeError||g(c),g(new t("Wrong argument type: "+this+" expected an exception, got "+b))}return b.message()};function ph(){this.c("err")}
ph.prototype=new $;ph.prototype.className="Err";ph.prototype.j=function(b){g(new t(Ob(b.a(),this).value()))};function qh(){this.c("on-err")}qh.prototype=new $;qh.prototype.className="OnErr";qh.prototype.h=function(b,c){var d=new Rc(c.a(),b.O);d.m(this);D(b,d);c.b().a().h(b,A)};function rh(){this.c("protect");this.qd=new sh(this)}rh.prototype=new $;rh.prototype.className="Protect";function sh(b){this.od=b}sh.prototype=new $e;sh.prototype.Vb=function(b){b.m(this.od)};
rh.prototype.h=function(b,c){var d=new z(new Uc(c.b().a()),new z(new Zc("clear up 'protect/after' return value"),A));d.l(this.qd);R(b,l,d);c.a().h(b,A)};function th(){this.c("apply")}th.prototype=new $;s=th.prototype;s.className="Apply";s.za=function(){g(new t("apply: expects at least 2 args, got none"))};s.u=function(b,c){g(new t("apply: expects at least 2 args, got "+c))};s.V=function(b,c,d){d instanceof z||g(new TypeError);c.h(b,d)};s.Ua=function(b,c,d,f){c.h(b,new z(d,f))};
s.h=function(b,c){var d=c.a(),f=c.b();f instanceof z||g(new TypeError);d.h(b,uh(this,f))};function uh(b,c){return c.b()instanceof y?rb(c.a(),b):new z(c.a(),uh(b,rb(c.b(),b)))}function vh(){this.c("eval")}vh.prototype=new $;vh.prototype.className="Eval";vh.prototype.h=function(b,c){D(b,new wh(this));wf(b,c.a(),[])};function wh(b){this.g=l;this.m(b)}wh.prototype=new M;wh.prototype.className="Eval.ReduceAndExecute";wh.prototype.d=function(b){var c=[];Q(b).reduce().o(c);R(b,l,w(c))};
function xh(){this.c("ssexpand")}xh.prototype=new $;xh.prototype.className="SSExpand";xh.prototype.j=function(b){return Bf(cb(b.a(),this))};
function Bf(b){b=b.name();if(/:/.test(b)||/^~/.test(b)){b=b.split(":");if(1===b.length)b=yh(b[0]);else{for(var c=[K("compose")],d=0,f=b.length;d<f;d++)c.push(yh(b[d]));b=lb(c,A)}return b}if(ug(b)){c=[K("andf")];b=zh(b);d=0;for(f=b.length;d<f;d++){var h=Oa(b[d]);h instanceof L||g(new TypeError);c.push(Ah(h))}return w(c)}if(/[.!]/.test(b)){for(var c=b.replace(/#/g,"#h").replace(/%/g,"#p").replace(/([.!])/g,"%$1%").split(/%+/),d=[],f=m,h=0,k=c.length;h<k;h++)if(""!==c[h]){var p=Oa(c[h].replace(/#p/g,
"%").replace(/#h/g,"#"));p===Sa||p===eb?(f&&g(new t("Bad syntax "+b)),f=j):f=m;d.unshift(p)}f&&d.unshift(K("#<eof>"));return Bh(d,0)}g(new t("Unknown syntax "+b))}function zh(b){if(0===b.length)return[""];if(b.charCodeAt(0)===vg)return b=zh(b.substring(1)),b[0]=wg+b[0],b;return b.charCodeAt(b.length-1)===vg?(b=zh(b.substring(0,b.length-1)),b[b.length-1]+=wg,b):b.split(wg)}
function Bh(b,c){var d=Ah(b[c++]),f=l;c<b.length&&(f=b[c++],f instanceof L||g(new TypeError));d=f===eb?w([K("quote"),d]):d;return c<b.length?w([Bh(b,c),d]):f!==l?w([K("get"),d]):d}function Ch(b){try{return Ka(b)}catch(c){c instanceof Ca||g(c),g(new t("Couldn't read value of symbol: "+b,c))}}function Ah(b){if(b instanceof y)return b;b instanceof L||g(new TypeError);return Ch(b.name())}function yh(b){return/^~/.test(b)?w([K("complement"),Ch(b.substring(1))]):Ch(b)}var wg="&",vg=38;
function Dh(){this.c("ssyntax")}Dh.prototype=new $;Dh.prototype.className="SSyntax";Dh.prototype.j=function(b){return b.a()instanceof L&&Af(b.a())?Wa:A};function Af(b){var c;c=b.name();if(!(c=/:/.test(c)||/^~/.test(c)))if(!(c=ug(b.name())))c=/[.!]/.test(b.name());return c}function Eh(){this.c("java-debug")}Eh.prototype=new $;Eh.prototype.className="JavaDebug";Eh.prototype.j=function(b){return b.a()};function Fh(){this.c("java-invoke")}Fh.prototype=new $;Fh.prototype.className="JavaInvoke";
Fh.prototype.j=function(b){var c;var d=b.a();try{d instanceof nc||g(new TypeError),c=d}catch(f){f instanceof TypeError||g(f),g(new t("Wrong argument type: "+this+" expected a java-object, got "+d))}var d=cb(b.b().a(),this).name(),h=b.b().b().a();h instanceof z||g(new TypeError);b=rc;c=c.Dc;var k=Object(c)[d];"[object Function]"!==Object.prototype.toString.call(k)&&g(new t("Field "+d+" is not a method on "+c));d=k.apply(c,pc(h));return b(d)};function Gh(){this.c("car")}Gh.prototype=new $;
Gh.prototype.className="Car";Gh.prototype.u=function(b,c){C(b,c.a())};Gh.prototype.j=function(b){tg(b,1,this.className);return b.a().a()};function Hh(){this.c("cdr")}Hh.prototype=new $;Hh.prototype.className="Cdr";Hh.prototype.u=function(b,c){C(b,c.b())};Hh.prototype.j=function(b){tg(b,1,this.className);return b.a().b()};function Ih(){this.c("cons")}Ih.prototype=new $;Ih.prototype.className="Cons";Ih.prototype.V=function(b,c,d){C(b,new z(c,d))};
Ih.prototype.j=function(b){tg(b,2,this.className);return new z(b.a(),b.b().a())};function Jh(){this.c("len")}Jh.prototype=new $;Jh.prototype.className="Len";Jh.prototype.j=function(b){Kb(b,this.className,1);return new P(b.a().ka(),1)};function Kh(){this.c("newstring")}Kh.prototype=new $;Kh.prototype.className="NewString";
Kh.prototype.j=function(b){var c=b.a();c instanceof O||g(new TypeError);var d=Fb;b.b()instanceof y||(d=b.b().a(),d instanceof N||g(new TypeError));for(var b=[],f=0;f<c.J();f++)b.push(d.value());return F(b.join(""))};function Lh(){this.c("scar")}Lh.prototype=new $;Lh.prototype.className="Scar";Lh.prototype.V=function(b,c,d){C(vm,c.Tb(d))};Lh.prototype.j=function(b){return b.a().Tb(b.b().a())};function Mh(){this.c("scdr")}Mh.prototype=new $;Mh.prototype.className="Scdr";
Mh.prototype.j=function(b){var c=b.a();c instanceof z||g(new TypeError);b=b.b().a();c.Hc(b);return b};function Nh(){this.c("acos")}Nh.prototype=new $;Nh.prototype.className="Acos";Nh.prototype.j=function(b){Kb(b,this.className,1);b=Math.acos(fb(b.a(),this).G());return new H(b)};function Oh(){this.c("+")}Oh.prototype=new $;s=Oh.prototype;s.className="Add";s.za=function(b){C(b,dc)};s.u=function(b,c){C(b,c)};s.V=function(b,c,d){C(b,c.add(d))};s.Ua=function(b,c,d,f){C(b,c.add(d).add(f))};
s.j=function(b){if(b instanceof y)return dc;for(var c=b.a(),b=b.b();!(b instanceof y);)c=c.add(b.a()),b=b.b();return c};function Ph(){this.c("asin")}Ph.prototype=new $;Ph.prototype.className="Asin";Ph.prototype.j=function(b){Kb(b,this.className,1);b=Math.asin(fb(b.a(),this).G());return new H(b)};function Qh(){this.c("atan")}Qh.prototype=new $;Qh.prototype.className="Atan";Qh.prototype.j=function(b){Kb(b,this.className,1);b=Math.atan(fb(b.a(),this).G());return new H(b)};
function Rh(){this.c("complex-parts")}Rh.prototype=new $;Rh.prototype.className="ComplexParts";Rh.prototype.j=function(b){Kb(b,this.className,1);b=Yb(b.a(),this);return w([new H(b.X),new H(b.P)])};function Sh(){this.c("cos")}Sh.prototype=new $;Sh.prototype.className="Cosine";Sh.prototype.j=function(b){Kb(b,this.className,1);b=Math.cos(fb(b.a(),this).G());return new H(b)};function Th(){this.c("/")}Th.prototype=new $;Th.prototype.className="Divide";
Th.prototype.j=function(b){b instanceof y&&g(new t("Function `/` expected at least 1 arg"));return Uh(b).xc(b)};function Vh(){this.c("expt")}Vh.prototype=new $;Vh.prototype.className="Expt";Vh.prototype.j=function(b){Kb(b,this.className,2);var c=b.a();c instanceof O||g(new TypeError);b=b.b().a();b instanceof O||g(new TypeError);if(c instanceof I)return ac(c,b);if(b instanceof I)return ac(new I(c.G(),0),b);c=c.G();b=b.G();return new H(Math.pow(c,b))};function Wh(){this.c("log")}Wh.prototype=new $;
Wh.prototype.className="Logarithm";Wh.prototype.j=function(b){Kb(b,this.className,1);b=fb(b.a(),this);return b instanceof I?b.log():new H(Math.log(b.G()))};function Xh(){this.c("make-complex")}Xh.prototype=new $;Xh.prototype.className="MakeComplex";Xh.prototype.j=function(b){Kb(b,this.className,2);var c=fb(b.a(),this),b=fb(b.b().a(),this);return new I(c.G(),b.G())};function Yh(){for(;;){var b=Math.floor(9007199254740992*Math.ld());if(9007199254740992>b)return b}}
function Uh(b){if(b instanceof y)return Zh;if(b.a()instanceof H)return $h;if(b.a()instanceof I)return complexOps;b.b()instanceof z||g(new TypeError);return Uh(b.b())}function ai(){}ai.prototype.oc=i;ai.prototype.multiply=i;ai.prototype.xc=i;function bi(){}bi.prototype=new ai;bi.prototype.oc=function(b){return Qa(ci(this,b))};function ci(b,c){if(c instanceof y)return 0;var d=c.a();d instanceof O||g(new TypeError);var d=d.G(),f=c.b();f instanceof z||g(new TypeError);return d+ci(b,f)}
bi.prototype.multiply=function(b){return Qa(di(this,b))};bi.prototype.xc=function(b){var c=b.b(),d=b.a();d instanceof O||g(new TypeError);c=c instanceof y?1/d.G():d.G();b=b.b();b instanceof z||g(new TypeError);return Qa(c/di(this,b))};function di(b,c){if(c instanceof y)return 1;var d=c.a();d instanceof O||g(new TypeError);var d=d.G(),f=c.b();f instanceof z||g(new TypeError);f=di(b,f);return d*f}var $h=new bi;function ei(){}ei.prototype=new ai;
ei.prototype.oc=function(b){if(b instanceof y)return dc;var c=b.a();c instanceof P||g(new TypeError);b=b.b();b instanceof z||g(new TypeError);return c.Qb(this.oc(b))};ei.prototype.multiply=function(b){if(b instanceof y)return ec;var c=b.a();c instanceof P||g(new TypeError);b=b.b();b instanceof z||g(new TypeError);return cc(c,this.multiply(b))};
ei.prototype.xc=function(b){var c=b.b(),d=b.a();d instanceof P||g(new TypeError);c=c instanceof y?new P(d.S,d.fa):d;b=b.b();b instanceof z||g(new TypeError);b=this.multiply(b);b=new P(b.S,b.fa);return cc(c,b)};var Zh=new ei;function fi(){this.c("mod")}fi.prototype=new $;fi.prototype.className="Mod";fi.prototype.V=function(b,c,d){c instanceof O||g(new TypeError);d instanceof O||g(new TypeError);C(b,c.Sc(d))};fi.prototype.h=function(b,c){Kb(c,this.className,2);this.V(b,c.a(),c.b().a())};
function gi(){this.c("*")}gi.prototype=new $;s=gi.prototype;s.className="Multiply";s.za=function(b){C(b,ec)};s.u=function(b,c){C(b,c)};s.V=function(b,c,d){C(b,c.multiply(d))};s.Ua=function(b,c,d,f){C(b,c.multiply(d).multiply(f))};s.j=function(b){if(b instanceof y)return ec;for(var c=b.a(),b=b.b();!(b instanceof y);)c=c.multiply(b.a()),b=b.b();return c};function hi(){this.c("polar-coordinates")}hi.prototype=new $;hi.prototype.className="PolarCoordinates";
hi.prototype.j=function(b){Kb(b,this.className,1);b=Yb(b.a(),this);return w([new H(Math.sqrt(b.X*b.X+b.P*b.P)),new H(Math.atan2(b.P,b.X))])};function ii(){this.c("quotient")}ii.prototype=new $;ii.prototype.className="Quotient";ii.prototype.j=function(b){tg(b,2,this.className);var c=hb(b.a(),this),d=hb(b.b().a(),this);(!c.ma()||!d.ma())&&g(new t("Type error: "+this+" : expected integer, got "+b));b=c.J()/d.J();return G(0>b?Math.ceil(b):Math.floor(b))};function ji(){this.c("rand")}ji.prototype=new $;
ji.prototype.className="Rand";ji.prototype.j=function(b){if(b instanceof y)return new H(Math.ld());var c=b.a();c instanceof O||g(new TypeError);c.ma()||g(new t("rand: requires one exact integer argument, got "+b));return new P(Math.abs(Yh()%c.J()),1)};function ki(){this.c("sin")}ki.prototype=new $;ki.prototype.className="Sine";ki.prototype.j=function(b){Kb(b,this.className,1);b=Math.sin(fb(b.a(),this).G());return new H(b)};function li(){this.c("sqrt")}li.prototype=new $;li.prototype.className="Sqrt";
li.prototype.u=function(b,c){C(b,c.sqrt())};li.prototype.h=function(b,c){tg(c,1,this.className);this.u(b,c.a())};function mi(){this.c("-")}mi.prototype=new $;s=mi.prototype;s.className="Subtract";s.u=function(){g(new t("- : expected at least 1 arg"))};s.u=function(b,c){c instanceof O||g(new TypeError);C(b,c.qb())};s.V=function(b,c,d){d instanceof O||g(new TypeError);C(b,c.add(d.qb()))};
s.j=function(b){b instanceof y&&g(new t("Function `-` expected at least 1 arg"));var c=b.a();c instanceof O||g(new TypeError);c=c.qb();b=b.b();b instanceof z||g(new TypeError);b instanceof y?b=c:(b=new z(c,b),b=Uh(b).oc(b).qb());return b};function ni(){this.c("tan")}ni.prototype=new $;ni.prototype.className="Tangent";ni.prototype.j=function(b){Kb(b,this.className,1);b=Math.tan(fb(b.a(),this).G());return new H(b)};function oi(){this.c("trunc")}oi.prototype=new $;oi.prototype.className="Trunc";
oi.prototype.j=function(b){Kb(b,this.className,1);b=b.a();b instanceof O||g(new TypeError);b=b.G();return new P(Math.floor(b),1)};function pi(){this.c("bound")}pi.prototype=new $;pi.prototype.className="Bound";pi.prototype.za=function(){g(new t("bound: requires 1 arg"))};pi.prototype.u=function(b,c){c instanceof L||g(new TypeError);C(b,zb(c.bound()))};pi.prototype.j=function(b){Kb(b,this.className,1);b=cb(b.a(),this);return zb(b.bound())};function qi(){this.c("exact")}qi.prototype=new $;
qi.prototype.className="Exact";qi.prototype.j=function(b){b=fb(b.a(),this);return zb(b instanceof P&&b.ma())};function ri(){this.c(">")}ri.prototype=new $;s=ri.prototype;s.className="GreaterThan";s.za=function(b){C(b,Wa)};s.u=function(b){C(b,Wa)};s.V=function(b,c,d){C(b,0>=c.ra(d)?A:Wa)};s.j=function(b){if(2>b.ka())return Wa;var c=b.a(),b=b.b();for(b instanceof z||g(new TypeError);!(b instanceof y);){var d=b.a();if(0>=c.ra(d))return A;c=d;b=b.b();b instanceof z||g(new TypeError)}return Wa};
function si(){this.c("is")}si.prototype=new $;s=si.prototype;s.className="Is";s.za=function(b){C(b,Wa)};s.u=function(b){C(b,Wa)};s.V=function(b,c,d){C(b,zb(c.Fa(d)))};s.j=function(b){return ti(this,b.a(),b.b())};function ti(b,c,d){return d instanceof y?Wa:!c.Fa(d.a())?A:ti(b,c,d.b())}function ui(){this.c("<")}ui.prototype=new $;s=ui.prototype;s.className="LessThan";s.za=function(b){C(b,Wa)};s.u=function(b){C(b,Wa)};s.V=function(b,c,d){C(b,0>c.ra(d)?Wa:A)};
s.j=function(b){var c=b.a(),b=b.b();for(b instanceof z||g(new TypeError);!(b instanceof y);){var d=b.a();if(0<=c.ra(d))return A;c=d;b=b.b();b instanceof z||g(new TypeError)}return Wa};function vi(){this.c("rainbow-debug")}vi.prototype=new $;vi.prototype.className="RainbowDebug";vi.prototype.h=function(b){Kc(b,of);C(b,K(this.ca))};function wi(){this.c("rainbow-profile")}wi.prototype=new $;wi.prototype.className="RainbowProfile";wi.prototype.za=function(b){this.profile(b);C(b,A)};
wi.prototype.u=function(b,c){c instanceof kc||g(new TypeError);this.profile(c);C(b,A)};wi.prototype.profile=function(b){Kc(b,tf)};function xi(){this.c("rainbow-profile-report")}xi.prototype=new $;xi.prototype.className="RainbowProfileReport";xi.prototype.za=function(b){C(b,this.md(b))};xi.prototype.u=function(b,c){c instanceof kc||g(new TypeError);C(b,this.md(b))};function yi(){this.c("current-gc-milliseconds")}yi.prototype=new $;yi.prototype.className="CurrentGcMilliseconds";
yi.prototype.h=function(b){C(b,G(1))};function zi(){this.c("current-process-milliseconds")}zi.prototype=new $;zi.prototype.className="CurrentProcessMilliseconds";zi.prototype.h=function(b){C(b,G(1))};function Ai(){this.c("declare")}Ai.prototype=new $;Ai.prototype.className="Declare";Ai.prototype.V=function(b,c,d){c===Bi?(c=xf,xf=d,C(b,c)):C(b,A)};Ai.prototype.h=function(b,c){this.V(b,c.a(),c.b().a())};var Bi=K("atstrings");function Ci(){this.c("msec")}Ci.prototype=new $;Ci.prototype.className="MSec";
Ci.prototype.j=function(){return G((new Date).getTime())};function Di(){this.c("seconds")}Di.prototype=new $;Di.prototype.className="Seconds";Di.prototype.j=function(){var b=(new Date).getTime()/1E3;return G(0>b?Math.ceil(b):Math.floor(b))};function Ei(){this.c("maptable")}Ei.prototype=new $;Ei.prototype.className="MapTable";Ei.prototype.V=function(b,c,d){C(b,d);d instanceof Ea||g(new TypeError);C(b,vc(d));c=new bd(c);c.m(this);D(b,c)};
Ei.prototype.h=function(b,c){tg(c,2,this.className);this.V(b,c.a(),c.b().a())};function Fi(){this.c("sref")}Fi.prototype=new $;Fi.prototype.className="Sref";Fi.prototype.Ua=function(b,c,d,f){C(b,c.nc(d,f))};Fi.prototype.h=function(b,c){tg(c,3,this.className);this.Ua(b,c.a(),c.b().a(),c.b().b().a())};function Gi(){this.c("table")}Gi.prototype=new $;Gi.prototype.className="Table";
Gi.prototype.h=function(b,c){var d=new Ea;C(b,d);if(!(c instanceof y)){var f=new Zc("table-initialiser");f.m(this);D(b,f);c.a().h(b,w([d]))}};function Hi(){this.c("atomic-invoke")}Hi.prototype=new $;Hi.prototype.className="AtomicInvoke";Hi.prototype.u=function(b,c){for(;b!==Ii&&Ii!==l;);Ii=b;Ji++;var d=new Ki;d.m(this);D(b,d);c.h(b,A)};Hi.prototype.h=function(b,c){this.u(b,c.a())};function Ki(){this.g=l}Ki.prototype=new M;Ki.prototype.className="AtomicInvoke.ReleaseLock";
Ki.prototype.d=function(){Ji--;0===Ji&&(Ii=l)};var Ii=l,Ji=0;function Li(){this.c("break-thread")}Li.prototype=new $;Li.prototype.className="BreakThread";Li.prototype.j=function(b){b=b.a();b instanceof kc||g(new TypeError);Kc(b,qf);return A};function Mi(){this.c("ccc")}Mi.prototype=new $;Mi.prototype.className="CCC";Mi.prototype.u=function(b,c){c instanceof y&&g(new t("Can't ccc nil!"));var d=new Ni(b);c.u(b,d)};Mi.prototype.h=function(b,c){Kb(c,this.className,1);this.u(b,c.a())};
function Ni(b){this.Ub=b.copy();this.vd=m}Ni.prototype=new x;s=Ni.prototype;s.className="CCC.ContinuationWrapper";s.u=function(b,c){var d;a:{for(d=0;d<b.i;d++)if(b.H[d]!==this.Ub.H[d]){d-=1;break a}d=b.i}for(var f=[],h=[];d<b.i;)Cc(b).a().Lb&&(f.push(Cc(b)),h.push(b.ja[b.i])),b.i--;d=[f,h];this.Ub.copyTo(b);C(b,c);for(f=d[0].length-1;0<=f;f--)h=d[1][f],h instanceof v||g(new TypeError),d[0][f]instanceof z||g(new TypeError),R(b,h,instructions)};s.h=function(b,c){this.u(b,c.a())};s.type=function(){return sg};
s.toString=function(){return"#<continuation ip:"+this.Ub.i+";ap:"+this.Ub.O+";VM#"+this.Ub.Ic+">"};function Oi(){this.c("dead")}Oi.prototype=new $;Oi.prototype.className="Dead";Oi.prototype.h=function(b,c){var d=c.a();d instanceof kc||g(new TypeError);C(b,zb(d.ac))};function Pi(){this.c("kill-thread")}Pi.prototype=new $;Pi.prototype.className="KillThread";Pi.prototype.h=function(b,c){var d=c.a();d instanceof kc||g(new TypeError);Kc(d,qf);C(b,A)};function Qi(){this.c("thread-local")}Qi.prototype=new $;
Qi.prototype.className="NewThreadLocal";Qi.prototype.j=function(){return new Ub};function Ri(){this.c("thread-local-ref")}Ri.prototype=new $;Ri.prototype.className="ThreadLocalGet";Ri.prototype.j=function(b){return Wb(b.a(),this).get()};function Si(){this.c("thread-local-set")}Si.prototype=new $;Si.prototype.className="ThreadLocalSet";Si.prototype.j=function(b){var c=Wb(b.a(),this),b=b.b().a();c.set(b);return b};function Ti(){this.c("annotate")}Ti.prototype=new $;Ti.prototype.className="Annotate";
Ti.prototype.j=function(b){var c=b.a(),b=b.b().a();return c===b.type()?b:new gc(c,b)};function Ui(){this.c("coerce");Vi()}Ui.prototype=new $;Ui.prototype.className="Coerce";Ui.prototype.V=function(b,c,d){var f=c.type();if(f===d)C(b,c);else try{d instanceof L||g(new TypeError),f instanceof L||g(new TypeError),(d.yb[f]||l).u(b,c)}catch(h){h instanceof Wi&&g(new t("Can't coerce "+c+" to "+d)),g(new t("Can't coerce "+c+" ( a "+c.type()+" ) to "+d,h))}};
Ui.prototype.Ua=function(b,c,d,f){var h=c.type();if(h===d)C(b,c);else try{d instanceof L||g(new TypeError),h instanceof L||g(new TypeError),(d.yb[h]||l).V(b,c,f)}catch(k){k instanceof Wi&&g(new t("Can't coerce "+c+" to "+d)),g(new t("Can't coerce "+c+" ( a "+c.type()+" ) to "+d,k))}};Ui.prototype.h=function(b,c){c.zb(2)?this.V(b,c.a(),c.b().a()):c.zb(3)?this.Ua(b,c.a(),c.b().a(),c.b().b().a()):g(new t("coerce expects 2 or 3 args, got "+c))};function Xi(){this.c("rep")}Xi.prototype=new $;
Xi.prototype.className="Rep";Xi.prototype.j=function(b){var c=b.a();if(c instanceof gc){b=b.a();try{b instanceof gc||g(new TypeError)}catch(d){d instanceof TypeError||g(d),g(new t("Wrong argument type: "+this+" expected a Tagged, got "+b))}b=b.ub}else b=c;return b};function Yi(){this.c("type")}Yi.prototype=new $;Yi.prototype.className="Type";Yi.prototype.u=function(b,c){C(b,c.type())};Yi.prototype.j=function(b){Kb(b,this.className,1);return b.a().type()};
var Mb=K("string"),Zi=K("sym"),$i=K("int"),aj=K("num"),bj=K("cons"),cj=K("char");
function Vi(){db(bj,Mb,new Nb("string-cons",function(b){b instanceof Ma||g(new TypeError);for(var b=b.value(),c=[],d=0;d<b.length;d++)c.push(Na(b.charCodeAt(d)));return w(c)}));db(Mb,bj,new Nb("cons-string",function(b){b instanceof z||g(new TypeError);for(var c=[];!(b instanceof y);)c.push(b.a().$a()),b=b.b(),b instanceof z||g(new TypeError);return F(c.join(""))}));db(Mb,$i,new Nb("int-string",function(b){return this.xb(b,fc)},function(b,c){c instanceof O||g(new TypeError);b instanceof O||g(new TypeError);
var d;b instanceof I?d=F(b.toString()):(b instanceof H&&10!==c.J()&&g(new Wi),d=b instanceof P?b.stringify(c):dj(b,c));return d}));db(Mb,aj,new Nb("num-string",function(b){return this.xb(b,fc)},function(b,c){c instanceof O||g(new TypeError);b instanceof O||g(new TypeError);var d;b instanceof I?d=F(b.toString()):(b instanceof H&&10!==c.J()&&g(new Wi),d=b instanceof P?b.stringify(c):dj(b,c));return d}));db(Zi,Mb,new Nb("string-sym",function(b){b instanceof Ma||g(new TypeError);return Oa(b.value())}));
db(Mb,Zi,new Nb("sym-string",function(b){return b instanceof y?F(""):F(b.$a())}));db($i,cj,new Nb("char-int",function(b){b instanceof N||g(new TypeError);b=b.value();return G(b)},function(b){return this.Hb(b)}));db($i,aj,new Nb("num-int",function(b){b instanceof O||g(new TypeError);return b.round()},function(b){return this.Hb(b)}));db(aj,$i,new Nb("int-num",aa()));db(cj,$i,new Nb("int-char",function(b){b instanceof O||g(new TypeError);b.ma()||g(new Wi);return Na(b.J())}));db(Mb,cj,new Nb("char-string",
function(b){b instanceof N||g(new TypeError);b=b.value();return F(String.fromCharCode(b))}));db(Zi,cj,new Nb("char-sym",function(b){b instanceof N||g(new TypeError);b=b.value();return Oa(String.fromCharCode(b))}));db(aj,Mb,new Nb("string-num",function(b){return this.xb(b,fc)},function(b,c){c instanceof O||g(new TypeError);b instanceof Ma||g(new TypeError);var d=b.value().toLowerCase();if("+inf.0"===d)d=new H(1/0);else if("-inf.0"===d)d=new H(-1/0);else if("+nan.0"===d)d=new H(0/0);else{var f;if(/i$/i.test(d))try{f=
Xb()}catch(h){h instanceof Ca||g(h),g(new Wi)}else/\./.test(d)||15>c.J()&&/.e./.test(d)?d=ej(d,c.J()):/\//.test(d)?d=fj(d,c.J()):(f=c.J(),d=G(parseInt(d,~~f))),f=d;d=f}return d}));db($i,Mb,new Nb("string-int",function(b){return this.xb(b,fc)},function(b,c){c instanceof O||g(new TypeError);b instanceof Ma||g(new TypeError);var d=b.value().toLowerCase();("+inf.0"===d||"-inf.0"===d||"+nan.0"===d||/i$/i.test(d))&&g(new Wi);if(/\./.test(d)||15>c.J()&&/.e./i.test(d))return d=ej(d,c.J()),d instanceof H||
g(new TypeError),d.lc();if(/\//.test(d))return d=fj(d,c.J()),d instanceof P||g(new TypeError),d.lc();var f=c.J();return G(parseInt(d,~~f))}))}function dj(b,c){if(10===c.J())return F(b.toString());var d=b.J().toString(~~c.J());return F(""+d+".0")}function fj(b,c){var d=b.split(/\//g);2<d.length&&g(new Wi);return new P(parseInt(d[0],~~c),parseInt(d[1],~~c))}
function ej(b,c){var d=m;/^-/.test(b)&&(d=j,b=b.substring(1));b=b.toUpperCase();/E/.test(b)||(b+="E0");if(/\./.test(b))/^\./.test(b)&&(b="0"+b);else var f=b.split(/E/g),b=f[0]+".0E"+f[1];var f=b.split(/\./g),h=parseInt(f[0],~~c),f=f[1].split(/E/g);/^\+/.test(f[1])&&(f[1]=f[1].substring(1));f=(h+parseInt(f[0],~~c)/Math.pow(c,f[0].length))*Math.pow(c,parseInt(f[1],~~c));d&&(f=-f);return Qa(f)}function Nb(b,c,d){this.ca=b;if(c!==i)this.Hb=c;if(d!==i)this.xb=d}Nb.prototype=new x;s=Nb.prototype;
s.className="Typing.Coercion";s.type=function(){return K("fn")};s.Hb=function(){g(new t("not implemented: "+name+".coerce 1 arg"))};s.xb=function(){g(new t("not implemented: "+name+".coerce 2 args"))};s.u=function(b,c){C(b,this.Hb(c))};s.V=function(b,c,d){C(b,this.xb(c,d))};function Wi(){}Wi.prototype=Error();function gj(b){this.ta=b}gj.prototype=new Ab;s=gj.prototype;s.className="Input";
s.jc=function(b,c){return this.ta.jc(function(c,f){return c?b(new t("Cannot read byte from "+this,c)):f===l?b(l,A):b(l,G(f))},c)};function hj(b,c,d){return b.ta.kc(function(b,d){return b?c(new t("reading character: "+b)):d===l?c(l,A):c(l,Na(d))},d)}function ij(b,c,d,f){return La(b.ta,function(b,f){return b?d(new t("Can't parse input: "+b,b)):f===l?d(l,c):d(l,f)},f)}s.type=function(){return jj};s.qa=o("ta");s.close=function(){this.ud=j;this.ta.close()};
function kj(b,c){try{return b instanceof gj||g(new TypeError),b}catch(d){d instanceof TypeError||g(d),g(new t("Wrong argument type: "+c+" expected input-port, got "+b))}}var jj=K("input");function lj(b){this.ib=b}lj.prototype=new Ab;s=lj.prototype;s.className="Output";s.write=function(b){this.ib.Ya(""+b)};s.type=function(){return mj};s.qa=o("ib");s.close=function(){this.ib.close()};s.rc=function(b){this.ib.rc(b)};
function nj(b,c){try{return b instanceof lj||g(new TypeError),b}catch(d){d instanceof TypeError||g(d),g(new t("Wrong argument type: "+c+" expected output-port, got "+b))}}s.flush=function(){this.ib.flush()};var mj=K("output");
function ra(b){function c(){if(b.length<=h)return m;var c=b.charCodeAt(h++);f.push(c>>>8&255,c&255);return j}function d(){return 0!==f.length||c()?f.shift():l}var f=[],h=0;gj.call(this,{jc:function(b){b(l,d());return j},kc:function(b){var c=d(),f=d();b(l,f===l?l:c<<8|f);return j},jb:function(b){b(l,2<=f.length||c()?f[0]<<8|f[1]:l);return j},close:n()})}ra.prototype=new gj(i);ra.prototype.className="StringInputPort";
function oj(){var b=this;b.Pb=[];b.pb=l;lj.call(this,{Ya:function(c){if(b.pb===l)b.Pb.push(c);else for(var d=0,f=c.length;d<f;d++){var h=c.charCodeAt(d);b.Pb.push(String.fromCharCode(b.pb<<8|h>>>8&255));b.pb=h&255}},rc:function(c){b.pb===l?b.pb=c:(b.Pb.push(String.fromCharCode(b.pb<<8|c)),b.pb=l)},close:n(),flush:n()})}oj.prototype=new lj(i);oj.prototype.className="StringOutputPort";oj.prototype.value=function(){var b=this.Pb.join("");this.Pb=[b];return F(b)};oj.prototype.toString=q("#<string-output-port>");
function pj(){this.ib=la}pj.prototype=new lj(i);pj.prototype.className="IO.Anon_STD_OUT_";pj.prototype.close=n();pj.prototype.toString=q("IO.STD_OUT");var qj=new pj;function rj(){this.ib=ma}rj.prototype=new lj(i);rj.prototype.className="IO.Anon_STD_ERR_";rj.prototype.close=n();rj.prototype.toString=q("IO.STD_ERR");var sj=new rj;function tj(){this.ta=ka}tj.prototype=new gj(i);tj.prototype.className="IO.Anon_STD_IN_";tj.prototype.close=n();tj.prototype.toString=q("IO.STD_IN");
var uj={value:new tj},vj={value:qj};function wj(b,c){return b instanceof y?vj.value:nj(b,c)}function zj(b,c){return b instanceof y?uj.value:kj(b,c)}function Aj(b){for(;!(b instanceof y);){var c=b.a();c instanceof gj?c.close():c instanceof lj?c.close():c instanceof nc?c.close():g(new t("close: expected Input or Output object; got "+c));b=b.b();b instanceof z||g(new TypeError)}return A}function Bj(){this.c("close")}Bj.prototype=new $;Bj.prototype.className="Close_Builtin";Bj.prototype.j=function(b){return Aj(b)};
function Cj(){this.c("disp")}Cj.prototype=new $;Cj.prototype.className="Disp";Cj.prototype.u=function(b,c){vj.value.write(c.$a());C(b,A)};Cj.prototype.j=function(b){var c=wj(b.b().a(),this),b=b.a();c.write(b.$a());return A};function Dj(){this.c("flushout")}Dj.prototype=new $;Dj.prototype.className="FlushOut";Dj.prototype.j=function(){vj.value.flush();return Wa};function Ej(){this.c("force-close")}Ej.prototype=new $;Ej.prototype.className="ForceClose";Ej.prototype.j=function(b){return Aj(b)};
function Fj(){this.c("stderr")}Fj.prototype=new $;Fj.prototype.className="StdErr";Fj.prototype.j=function(){return sj};function Gj(){this.c("stdin")}Gj.prototype=new $;Gj.prototype.className="StdIn";Gj.prototype.j=function(b){tg(b,0,this.className);return uj.value};function Hj(){this.c("stdout")}Hj.prototype=new $;Hj.prototype.className="StdOut";Hj.prototype.j=function(){return vj.value};function Ij(){this.c("write")}Ij.prototype=new $;Ij.prototype.className="Write";
Ij.prototype.j=function(b){wj(b.b().a(),this).write(b.a());return A};function Jj(){this.c("writeb")}Jj.prototype=new $;Jj.prototype.className="WriteB";Jj.prototype.j=function(b){var c=wj(b.b().a(),this),b=hb(b.a(),this);b.ma()||g(new t("write byte: expected byte, got "+b));c.rc(b.J());return A};function Kj(){this.c("writec")}Kj.prototype=new $;Kj.prototype.className="WriteC";Kj.prototype.j=function(b){var c=wj(b.b().a(),this),d=Db(b.a(),this);c.ib.Ya(String.fromCharCode(d.value()));return b.a()};
function Lj(){this.c("instring")}Lj.prototype=new $;Lj.prototype.className="InString";Lj.prototype.j=function(b){return new ra(Ob(b.a(),this).value())};function Mj(){this.c("inside")}Mj.prototype=new $;Mj.prototype.className="Inside";Mj.prototype.j=function(b){b=b.a();try{b instanceof oj||g(new TypeError)}catch(c){c instanceof TypeError||g(c),g(new t("Wrong argument type: "+this+" expected a StringOutputPort, got "+b))}return b.value()};function Nj(){this.c("outstring")}Nj.prototype=new $;
Nj.prototype.className="OutString";Nj.prototype.j=function(){return new oj};function Oj(){this.c("call-w/stdin")}Oj.prototype=new $;Oj.prototype.className="CallWStdIn";Oj.prototype.h=function(b,c){var d=new $c(uj,uj.value);d.m(this);D(b,d);uj.value=kj(c.a(),this);c.b().a().h(b,A)};function Pj(){this.c("call-w/stdout")}Pj.prototype=new $;Pj.prototype.className="CallWStdOut";Pj.prototype.h=function(b,c){var d=new $c(vj,vj.value);d.m(this);D(b,d);vj.value=nj(c.a(),this);c.b().a().h(b,A)};
function Qj(){this.c("readb")}Qj.prototype=new $;Qj.prototype.className="ReadB";Qj.prototype.u=function(b,c){D(b,new Rj(zj(c,this),this))};Qj.prototype.h=function(b,c){D(b,new Rj(zj(c.a(),this),this))};function Rj(b,c){this.g=l;this.Rb=b;this.m(c)}Rj.prototype=new M;Rj.prototype.Ca=j;Rj.prototype.className="ReadB.Go";Rj.prototype.Ka=function(b,c,d){return this.Rb.jc(function(d,h){if(d)return void c(d);C(b,h);c(l)},d)};Rj.prototype.d=function(){g(Error())};function Sj(){this.c("readc")}
Sj.prototype=new $;Sj.prototype.className="ReadC";Sj.prototype.u=function(b,c){D(b,new Tj(zj(c,this),this))};Sj.prototype.h=function(b,c){D(b,new Tj(zj(c.a(),this),this))};function Tj(b,c){this.g=l;this.Rb=b;this.m(c)}Tj.prototype=new M;Tj.prototype.Ca=j;Tj.prototype.className="ReadC.Go";Tj.prototype.Ka=function(b,c,d){return hj(this.Rb,function(d,h){if(d)return void c(d);C(b,h);c(l)},d)};Tj.prototype.d=function(){g(Error())};function Uj(){this.c("sread")}Uj.prototype=new $;
Uj.prototype.className="Sread";Uj.prototype.h=function(b,c){D(b,new Vj(kj(c.a(),this),c.b().a(),this))};function Vj(b,c,d){this.g=l;this.Rb=b;this.dd=c;this.m(d)}Vj.prototype=new M;Vj.prototype.Ca=j;Vj.prototype.className="Sread.Go";Vj.prototype.Ka=function(b,c,d){return ij(this.Rb,this.dd,function(d,h){if(d)return void c(d);C(b,h);c(l)},d)};Vj.prototype.d=function(){g(Error())};function Wj(){this.c("dir")}Wj.prototype=new $;Wj.prototype.className="Dir";
Wj.prototype.h=function(b,c){D(b,new Xj(Ob(c.a(),this).value(),this))};function Xj(b,c){this.g=l;this.Va=b;this.m(c)}Xj.prototype=new M;Xj.prototype.Ca=j;Xj.prototype.className="Dir.Go";Xj.prototype.Ka=function(b,c){return na(function(d,f){if(d)return void c(d);C(b,f);c(l)})};Xj.prototype.d=function(){g(Error())};function Yj(){this.c("dir-exists")}Yj.prototype=new $;Yj.prototype.className="DirExists";Yj.prototype.h=function(b,c){D(b,new Zj(c.a(),this))};
function Zj(b,c){this.g=l;this.Va=b;this.m(c)}Zj.prototype=new M;Zj.prototype.Ca=j;Zj.prototype.className="DirExists.Go";Zj.prototype.Ka=function(b,c){return oa(Ob(this.Va,this.g).value(),function(d,f){if(d)return void c(d);C(b,f?this.Va:A);c(l)})};Zj.prototype.d=function(){g(Error())};function $j(){this.c("file-exists")}$j.prototype=new $;$j.prototype.className="FileExists";$j.prototype.h=function(b,c){D(b,new ak(c.a(),this))};function ak(b,c){this.g=l;this.Va=b;this.m(c)}ak.prototype=new M;
ak.prototype.Ca=j;ak.prototype.className="FileExists.Go";ak.prototype.Ka=function(b,c,d){return pa(Ob(this.Va,this.g).value(),function(d,h){if(d)return void c(d);C(b,h);c(l)},d)};ak.prototype.d=function(){g(Error())};function bk(){this.c("infile")}bk.prototype=new $;bk.prototype.className="InFile";bk.prototype.h=function(b,c){D(b,new ck(Ob(c.a(),this).value(),this))};function ck(b,c){this.g=l;this.Va=b;this.m(c)}ck.prototype=new M;ck.prototype.Ca=j;ck.prototype.className="InFile.Go";
ck.prototype.Ka=function(b,c,d){return qa(this.Va,function(d,h){if(d)return void c(d);C(b,new gj(h));c(l)},d)};ck.prototype.d=function(){g(Error())};function dk(){this.c("outfile")}dk.prototype=new $;dk.prototype.className="OutFile";dk.prototype.h=function(b,c){var d=Ob(c.a(),this).value(),f=c.b().a(),f=!(f instanceof y)&&"append"===cb(f,this).name();D(b,new ek(d,f,this))};function ek(b,c,d){this.g=l;this.ca=b;this.sd=c;this.m(d)}ek.prototype=new M;ek.prototype.Ca=j;ek.prototype.className="OutFile.Go";
ek.prototype.Ka=function(b,c){return sa(function(d,f){if(d)return void c(d);C(b,new lj(f));c(l)})};ek.prototype.d=function(){g(Error())};function fk(){this.c("make-directory")}fk.prototype=new $;fk.prototype.className="MakeDirectory";fk.prototype.h=function(b,c){D(b,new gk(Ob(c.a(),this).value(),this))};function gk(b,c){this.g=l;this.Va=b;this.m(c)}gk.prototype=new M;gk.prototype.Ca=j;gk.prototype.className="MakeDirectory.Go";
gk.prototype.Ka=function(b,c){return ta(function(d,f){if(d)return void c(d);C(b,f?yb:xb.$c);c(l)})};gk.prototype.d=function(){g(Error())};function hk(){this.c("make-directory*")}hk.prototype=new $;hk.prototype.className="MakeDirectories";hk.prototype.h=function(b,c){D(b,new ik(Ob(c.a(),this).value(),this))};function ik(b,c){this.g=l;this.Va=b;this.m(c)}ik.prototype=new M;ik.prototype.Ca=j;ik.prototype.className="MakeDirectories.Go";
ik.prototype.Ka=function(b,c){return ua(function(d,f){if(d)return void c(d);C(b,f?yb:xb.$c);c(l)})};ik.prototype.d=function(){g(Error())};function jk(){this.c("mvfile")}jk.prototype=new $;jk.prototype.className="MvFile";jk.prototype.h=function(b,c){D(b,new kk(Ob(c.a(),this).value(),Ob(c.b().a(),this).value(),this))};function kk(b,c,d){this.g=l;this.Dd=b;this.Cd=c;this.m(d)}kk.prototype=new M;kk.prototype.Ca=j;kk.prototype.className="MvFile.Go";
kk.prototype.Ka=function(b,c){return va(function(d){if(d)return void c(d);C(b,A);c(l)})};kk.prototype.d=function(){g(Error())};function lk(){this.c("rmfile")}lk.prototype=new $;lk.prototype.className="RmFile";lk.prototype.h=function(b,c){D(b,new mk(Ob(c.a(),this).value(),this))};function mk(b,c){this.g=l;this.Va=b;this.m(c)}mk.prototype=new M;mk.prototype.Ca=j;mk.prototype.className="RmFile.Go";mk.prototype.Ka=function(b,c){return wa(function(d){if(d)return void c(d);C(b,A);c(l)})};
mk.prototype.d=function(){g(Error())};var yg=j;
function nk(b){var c={noLibs:j,e:['(assign load-from-web  (fn ()    ( (fn (eof f loop)        (assign loop          (fn ()            ( (fn (command)              (if (is command eof)                (eval                  \'(do (load "strings.arc")                       (load "lib/bag-of-tricks.arc")                       (load "rainbow/rainbow.arc")                       (load "rainbow/rainbow-libs.arc")                       ))                ( (fn ()                  eval.command                  (loop)                ) ))            ) (sread f eof))))        (loop)    ) (uniq) (infile "arc.arc") nil)))'].concat("#libs"!==location.hash?
[]:["(load-from-web)"])},d=(new Date).getTime(),f=c.ARC_PATH||[];-1===f.indexOf(".")&&(f=["."].concat(f));var h=ok(c.args||[]);c.nosf&&(yg=m);new Ci;new Di;new zi;new yi;new Ai;K("pi").ga(new H(Math.PI));K("e").ga(new H(Math.E));new oi;new Vh;new ji;new li;new ii;new fi;new Oh;new mi;new gi;new Th;new ki;new Sh;new ni;new Ph;new Nh;new Qh;new Wh;new Rh;new Xh;new hi;new Yi;new Ti;new Xi;new Ui;new Fh;new Eh;new pk;new Pi;new Li;new Oi;new Hi;new Mi;new Qi;new Ri;new Si;new mh;new kh;new rh;new ph;
new qh;new oh;new Kh;new Gh;new Hh;new Lh;new Mh;new Ih;new Jh;new pi;new ui;new ri;new qi;new si;new th;new vh;new xh;new Dh;new Gi;new Ei;new Fi;new Ea;new Oj;new Pj;new Gj;new Hj;new Fj;new Cj;new Ij;new Uj;new Jj;new Kj;new Qj;new Sj;new Dj;new Bj;new Ej;new dk;new bk;new Yj;new $j;new Wj;new lk;new jk;new fk;new hk;new Lj;new Nj;new Mj;new vi;new wi;new xi;var k=new kc;K("*argv*").ga(w(h));K("call*").ga(new Ea);K("sig").ga(new Ea);qk(k,f,(c.noLibs?[]:["arc","strings","lib/bag-of-tricks","rainbow/rainbow",
"rainbow/rainbow-libs"]).concat(c.f||[]),function(f){if(f)return void b(f);rk(k,c.e||[],function(f){if(f)return void b(f);c.q?b():(ya("repl in "+((new Date).getTime()-d)+"ms"),sk(k,b,i))})})}function ok(b){for(var c=[],d=0,f=b.length;d<f;d++){var h=b[d];"[object String]"!==Object.prototype.toString.call(h)&&g(new TypeError);c.push(Ka(""+h))}return c}function qk(b,c,d,f){var h=i;function k(r){r===p?f():tk(b,c,d[r],function(b){if(b)return void f(b);k(r+1)},h)}var p=d.length;k(0)}
function rk(b,c,d){var f=i;function h(c,k){if(c)return void d(c);if(k===l)return void d();uk(b,k,function(b){if(b)return void d(b);La(J,h,f)},f)}for(var k=[],p=0,r=c.length;p<r;p++){var B=c[p];"[object String]"!==Object.prototype.toString.call(B)&&g(new TypeError);k.push(B+" ")}var J=(new ra(k.join(""))).qa();La(J,h,f)}
function sk(b,c,d){xa("arc> ");for(var f=j,h=m;!h;)if(La(ka,function(k,p){if(k){if(!(k instanceof Ca))return void c(k);za(k);f||sk(b,c,d)}else p===l?(h=j,f||c()):uk(b,p,function(h){if(h)return void c(h);f||sk(b,c,d)},d)||(f=m)},d)||(f=m),!f)return;c()}function uk(b,c,d,f){return vk(b,c,function(b,c){if(b){if(!(b instanceof t))return void d(b);ya("Message    : "+b.message);xa("Java stack : ");za(b,la)}else ya(c);d()},f)}
function wk(b,c,d,f){function h(p){if(p===J)d(Error("Could not find "+c+" under "+JSON.stringify(b)));else{var r=k[p];pa(r,function(b,c){if(b)return void d(b);if(c)return void d(l,r);h(p+1)},f)}}for(var k=[],p=b.length,r=0;r<p;r++){var B=""+b[r]+"/"+c;k.push(B,B+".arc")}var J=k.length;h(0)}function tk(b,c,d,f,h){function k(c){qa(c,function(c,d){if(c)return void f(c);xk(b,d,f,h)},h)}pa(d,function(b,r){if(b)return void f(b);r?k(d):wk(c,d,function(b,c){if(b)return void f(b);k(c)},h)},h)}
function xk(b,c,d,f){var h=j;La(c,function(k,p){if(k)return void d(k);if(p===l)return void d();vk(b,p,function(k){if(k)return void d(k);xk(b,c,d,f)||(h=m)},f)||(h=m)},f)||(h=m);return h}function yk(b){this.g=b}yk.prototype=new $e;yk.prototype.className="Console.Anon_mkVisitor_";yk.prototype.Vb=function(b){b.m(this.g)};function vk(b,c,d,f){D(b,new zk(c));return lc(b,d,f)}function zk(b){this.g=l;this.ya=b;this.m(F("Console.compileAndEvalAsync_"))}zk.prototype=new M;zk.prototype.className="Console.CompileAndEval";
zk.prototype.d=function(b){D(b,new Ak);wf(b,this.ya,[])};function Ak(){this.g=l;this.m(F("Console.compileAndEvalAsync_"))}Ak.prototype=new M;Ak.prototype.className="Console.AndEval";Ak.prototype.d=function(b){var c=Q(b).reduce(),d=[];c.o(d);d=w(d);d.l(new yk(c));R(b,l,d)};function pk(){this.c("new-thread")}pk.prototype=new $;pk.prototype.className="NewThread";pk.prototype.j=function(){g(new t("Rainbow.js doesn't support new-thread."))};function Sg(b,c,d){this.g=l;this.ia=b;this.p=c;this.m(d)}
Sg.prototype=new M;Sg.prototype.className="BindAndRun";Sg.prototype.d=function(b){this.ia.add(Q(b));R(b,this.ia,this.p)};Oa("window").ga(new nc(window));da(window,"hashchange",function(){location.reload(m)});
da(window,"load",function(){function b(){var b=B.value+"\n";B.value="";ea.ic.Ya(b)}function c(b){if(b.Xc!==i)return b.Xc();for(var c=[],d=j;d;)b.kc(function(b,f){b&&g(b);f!==l?d=m:c.push(String.fromCharCode(f))},j)||(d=m);return c.join("")}function d(b){r.appendChild(document.createTextNode(b));ha||(ha=j,setTimeout(function(){ha=m;r.scrollTop=r.scrollHeight},0))}function f(b){b&&g(b);b=c(ea.Ta);""!==b&&(d(b),fa.ic.Ya(b),ea.Ta.jb(f))}function h(b){b&&g(b);b=c(ga.Ta);""!==b&&(d(b),ga.Ta.jb(h))}function k(b){b&&
g(b);b=c(ia.Ta);""!==b&&(d(b),ia.Ta.jb(k))}var p=document.getElementById("repl"),r=document.createElement("pre");r.className="scrollback";r.appendChild(document.createTextNode(""));p.appendChild(r);var B=document.createElement("textarea");B.className="prompt";da(B,"keydown",function(b){if(13===(b.which||b.keyCode))b.preventDefault?b.preventDefault():b.returnValue=m});da(B,"keyup",function(c){13===(c.which||c.keyCode)&&b()});p.appendChild(B);var J=document.createElement("button");J.className="eval";
J.appendChild(document.createTextNode("Eval"));da(J,"click",function(){b()});p.appendChild(J);var ha=m;ea.Ta.jb(f);ga.Ta.jb(h);ia.Ta.jb(k);nk(n())});
