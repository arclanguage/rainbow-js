function g(b){throw b;}var i=void 0,j=null;function aa(){return function(b){return b}}function l(){return function(){}}function ba(b){return function(c){this[b]=c}}function m(b){return function(){return this[b]}}function n(b){return function(){return b}}var q;
function ca(){function b(){if(k!==j){var b=k,c=o;k=j;o=j;c(b)}}function c(b,c,p,X){if(d.length!==0){var sc=d[0];if(d.length===1&&(sc.type==="byte"||sc.wa.length<<1===f+1))return h?(c&&(d=[]),b(j,j),!0):(X||(k=b,o=p),!1);var cb,p=0,X=f,U=sc;if(U.type==="byte")p++,sc=U.wa;else{U=U.wa;cb=U.charCodeAt(X>>>1);if(X&1)return c&&(f++,U.length<<1<=f&&(d.shift(),f=0)),b(j,cb),!0;sc=cb>>>8&255;X++;U.length<<1<=X&&(p++,X=0)}U=d[p];U.type==="byte"?(p++,cb=U.wa):(U=U.wa,cb=U.charCodeAt(X>>>1),cb=(X&1?cb:cb>>>8)&
255,X++,U.length<<1<=X&&(p++,X=0));c&&(p&&d.shift(),f=X);b(j,sc<<8|cb);return!0}else return h?(b(j,j),!0):(X||(k=b,o=p),!1)}var d=[],f=0,h=!1,k=j,o=j,p={},z=p.dc=function(b,c){if(d.length!==0){var p=d[0];if(p.type==="byte")d.shift(),b(j,p.wa);else{var p=p.wa,X=p.charCodeAt(f>>>1),X=(f&1?X:X>>>8)&255;f++;p.length<<1<=f&&(d.shift(),f=0);b(j,X)}return!0}else return h?(b(j,j),!0):(c||(k=b,o=z),!1)},K=p.ec=function(b,d){return c(b,!0,K,d)},fa=p.cb=function(b,d){return c(b,!1,fa,d)};p.close=l();p.Pc=function(){var b=
d.length,c=!1,h,k=[],o=0;if(f&1){var p=d[0].wa,c=!0;h=p.charCodeAt(f>>>1)&255;f++;for(var U=f>>>1,z=p.length;U<z;U++){var Pb=p.charCodeAt(U);k.push(String.fromCharCode(h<<8|Pb>>>8&255));h=Pb&255}f=0;o++}else f&&(k.push(d[0].wa.substring(f>>>1)),f=0,o++);for(b=d.length;o<b;o++)if(p=d[o],p.type==="byte")c?(k.push(String.fromCharCode(h<<8|p.wa)),c=!1):(h=p.wa,c=!0);else if(p=p.wa,c){U=0;for(z=p.length;U<z;U++)Pb=p.charCodeAt(U),k.push(String.fromCharCode(h<<8|Pb>>>8&255)),h=Pb&255}else k.push(p);d=c?
[{type:"byte",wa:h}]:[];return k.join("")};return{Oa:p,cc:{Sa:function(c){!h&&c!==""&&(d.push({type:"string",wa:c}),b())},kc:function(c){h||(d.push({type:"byte",wa:c}),b())},close:function(){h=!0;b()},flush:l()}}}var da=ca(),ea=ca(),ga=ca(),ia=ca(),ja=ea.Oa,ka=ga.cc,la=ia.cc;function ma(b){ka.Sa(""+b)}function na(b){ka.Sa(""+b+"\n")}function oa(b,c){i===c&&(c=la);for(c.Sa(""+b+"\n"+(b.stack||b)+"\n");b instanceof r&&(b=b.Wc);)b instanceof pa&&(b=b.pa),c.Sa("Caused by: "+b+"\n"+(b.stack||b)+"\n")}var t={};function r(b,c){this.message=b;this.stack=Error().stack;this.Wc=c;this.md=[]}r.prototype=Error();function u(b,c){this.parent=c;this.Za=Array(~~b);this.Db=0}q=u.prototype;
q.add=function(b){this.Za.length<=this.Db&&g(new r("Can't add "+b+" to bindings: already full ("+this.Db+") "+w(this.Za)));this.Za[this.Db]=b;this.Db++};q.vb=function(b){return b===0?this:this.parent.vb(b-1)};q.toString=function(){for(var b=[],c=0;c<this.Za.length;c++)b.push(c),b.push(" : "),b.push(this.Za[c]),b.push("\n");return b.join("")+"\nparent: "+(this.parent===j?"<none>":this.parent.toString())};q.set=function(b,c){return this.Za[b]=c};q.count=m("Db");q.size=function(){return this.Za.length};
function qa(){}qa.prototype=Error();function x(){}q=x.prototype;q.Fa=!1;q.className="ArcObject";q.Ca=n(!1);q.l=function(){g(new r("addInstructions not defined on "+this+", a "+this.className))};q.f=function(b,c){var d=ra.value();d instanceof sa||g(new TypeError);d=d.value(this.type());d instanceof y&&g(new r("No handler for "+this.type()+" in call* table: called "+this+" with args "+c));d.f(b,new A(this,c))};q.za=function(b){this.f(b,B)};q.r=function(b,c){this.f(b,new A(c,B))};
q.S=function(b,c,d){this.f(b,new A(c,new A(d,B)))};q.Pa=function(b,c,d,f){this.f(b,new A(c,new A(d,new A(f,B))))};q.ga=function(){g(new r("len: expects one string, list or hash argument, got "+this.type()))};q.Mb=function(){g(new r("Can't set car of "+this.type()))};q.hc=function(b,c){g(new r("Can't sref "+this+"( a "+this.type()+"), other args were "+b+", "+c))};q.na=n(0);q.lc=function(){return B};q.a=function(){g(new r("Can't take car of "+this))};q.b=function(){g(new r("Can't take cdr of "+this))};
q.sc=n(!1);q.type=i;q.va=function(){return this};q.Ba=function(b){return this===b};q.copyTo=aa();q.M=n(!0);q.ub=function(){g(new ta)};q.Ia=function(){g(new ua)};q.Nc=function(){return this};function va(b,c,d){for(var f=d,h=0;!(d instanceof y);)C(c,d.a()),d=d.b(),h++;D(c,new wa(f,c.N,b));d=new xa(h);d.n(b);D(c,d);d=new E(b);d.n(b);D(c,d)}q.sb=function(){g(new r("has length: not a proper list: ends with "+this))};q.$b=function(){g(new r("longer than: not a proper list: ends with "+this))};q.L=function(){return this};
q.j=l();q.W=function(){return this};q.jc=l();q.Qb=l();q.Rb=function(){return B};q.La=function(){return this.Rb().toString()};q.add=function(){g(new r("add not implemented for "+this.type()+" "+this))};q.sqrt=function(){g(new r("sqrt not implemented for "+this.type()+" "+this))};q.multiply=function(){g(new r("multiply not implemented for "+this.type()+" "+this))};function ua(){}q.reduce=function(){return this};q.V=n(!1);q.R=function(){return this};q.Q=function(){return this};q.da=n(!1);q.Ua=function(){return this.toString()};
function ya(b){var c=j;Aa((new Ba(b)).va(),function(b,f){b&&g(b);c=f},!0)||g(new qa);return c}
function Aa(b,c,d){function f(c){return b.cb(function(b,d){if(b)return void c(b);c(j,d===j?j:String.fromCharCode(d))},d)}function h(c){return b.ec(function(b,d){if(b)return void c(b);c(j,d===j?j:String.fromCharCode(d))})}function k(b){for(var c=!0,d=!1;c&&!d;)d=!0,h(function(o,p){if(o)return void b(o);p===j||p==="\n"?b(j):p==="\r"?f(function(d,f){if(d)return void b(d);f==="\n"?h(function(c){if(c)return void b(c);b(j)})||(c=!1):b(j)})||(c=!1):(d=!1,c||k(b))})||(c=!1);return c}function o(b){for(var c=
!0,d=!1;c&&!d;)d=!0,f(function(f,p){function za(f){if(f)return void b(f);d=!1;c||o(b)}if(f)return void b(f);p===";"?k(za)||(c=!1):p===j||/[^ \t\r\n]/.test(p)?b(j):h(za)||(c=!1)})||(c=!1);return c}function p(b,c){function d(f){var h=b.length-1,k=b[h];b=typeof f==="string"&&k instanceof Ca?b.slice(0,h).concat([F(k.value()+f)]):typeof f==="string"?b.concat([F(f)]):b.concat([f]);K=!1;z||p(b,c)}function k(b){b===i&&(b=new qa);c(b)}function za(){de(function(b,c){if(b)return k(b);o(function(b){if(b)return k(b);
h(function(b,f){if(b)return k(b);f===")"?d(c):k()})||(z=!1)})||(z=!1)})||(z=!1)}for(var z=!0,K=!1;z&&!K;)K=!0,h(function(o,p){if(o)return k(o);p===j?k():p==='"'?c(j,b):p==="\\"?h(function(b,c){if(b)return k(b);c==='"'?d('"'):c==="\\"?d("\\"):c==="n"?d("\n"):c==="r"?d("\r"):c==="t"?d("\t"):c==="#"?h(function(b,c){if(b)return k(b);c==="("?d("#("):k()})||(z=!1):k()})||(z=!1):p==="#"?f(function(b,c){if(b)return k(b);if(c!=="(")return void d("#");h(function(b){if(b)return k(b);za()})||(z=!1)})||(z=!1):
d(p)})||(z=!1);return z}function z(b,c){function d(b){c(j,Da(b))}for(var k=!0,o=!1;k&&!o;)o=!0,f(function(f,p){if(f)return void c(f);p===j||/[^01-9a-zA-Z]/.test(p)?b==="newline"?d("\n".charCodeAt(0)):b==="tab"?d("\t".charCodeAt(0)):b==="space"?d(" ".charCodeAt(0)):b==="return"?d("\r".charCodeAt(0)):b==="null"?d("\x00".charCodeAt(0)):/^[01-9][01-9]+$/.test(b)?d(parseInt(b,10)):/^u[0-9a-f]+$/i.test(b)?d(parseInt(b.substring(1),16)):b.length===1?d(b.charCodeAt(0)):c(new qa):h(function(d,f){if(d)return void c(d);
o=!1;b+=f;k||z(b,c)})||(k=!1)})||(k=!1);return k}function K(b,c){for(var d=!0,k=!1;d&&!k;)k=!0,f(function(f,o){if(f)return void c(f);if(o===j||/[^01-9a-fA-F]/.test(o)){if(b==="")return void c(new qa);c(j,G(parseInt(b,16)))}else h(function(f,h){if(f)return void c(f);k=!1;b+=h;d||K(b,c)})||(d=!1)})||(d=!1);return d}function fa(b,c){for(var d=!0,f=!1;d&&!f;)f=!0,h(function(h,k){if(h)return void c(h);k===j?c(new qa):k==="|"?c(j,Ea(b)):(f=!1,b+=k,d||fa(b,c))})||(d=!1);return d}function za(b,c,d){for(var k=
!0,p=!1;k&&!p;)p=!0,o(function(o){if(o)return void d(o);f(function(f,o){if(f)return void d(f);o===j?d(new qa):o===c?h(function(c){if(c)return void d(c);d(j,b)})||(k=!1):de(function(f,h){if(f)return void d(f);p=!1;b=b.concat([h]);k||za(b,c,d)})||(k=!1)})||(k=!1)})||(k=!1);return k}function pb(b,c){for(var d=!0,k=!1;d&&!k;)k=!0,f(function(f,o){if(f)return void c(f);var p=o!==j&&o.charCodeAt(0);if(o!==j&&(/^[-+$%&*\/<=>?^_~.!:01-9a-zA-Z]+$/.test(o)||128<=p&&p<65536))h(function(f,h){if(f)return void c(f);
k=!1;b+=h;d||pb(b,c)})||(d=!1);else if(o==="\\")h(function(f){if(f)return void c(f);h(function(f,h){if(f)return void c(f);h==="|"?(k=!1,b+="\\|",d||pb(b,c)):c(new qa)})||(d=!1)})||(d=!1);else{var z;/^-?[01-9]+\/[01-9]+$/.test(b)?c(j,Fa(b)):/^-?[01-9]+$/.test(b)?c(j,G(parseInt(b,10))):/^[-+]?[01-9]*\.?[01-9]+(e-?[01-9]+)?$/.test(b)?c(j,Ga(parseFloat(b))):b==="+inf.0"?c(j,new H(1/0)):b==="-inf.0"?c(j,new H(-1/0)):b==="+nan.0"?c(j,new H(0/0)):b==="+i"?c(j,new I(0,1)):b==="-i"?c(j,new I(0,-1)):(z=/^([-+]?[01-9]*\.?[01-9]+(?:e-?[01-9]+)?)([-+])([01-9]*\.?[01-9]+(?:e-?[01-9]+)?)?i$/.exec(b))?
c(j,new I(Ga(parseFloat(z[1])).value(),Ga(parseFloat(z[2]+(z[3]||"1"))).value())):c(j,Ea(b))}})||(d=!1);return d}function de(b){function c(){p([],function(c,d){if(c)return void b(c);d.length===0?b(j,F("")):d.length===1?b(j,d[0]):b(j,w([Ea("string")].concat(d)))})||(ha=!1)}function d(){fa("",function(c,d){if(c)return void b(c);b(j,Ea(d))})||(ha=!1)}function k(){h(function(c,d){if(c)return void b(c);d!==j&&/x/i.test(d)?K("",b)||(ha=!1):d==="\\"?h(function(c,d){if(c)return void b(c);if(/[^a-zA-Z]/.test(c))return void b(j,
Da(c.charCodeAt(0)));z(d,b)||(ha=!1)})||(ha=!1):b(new qa)})||(ha=!1)}function ee(c){de(function(d,f){if(d)return void b(d);f===j?b(new qa):b(j,w([J(c),f]))})||(ha=!1)}function Pb(){f(function(c,d){if(c)return void b(c);d===j?b(new qa):d==="@"?h(function(c){if(c)return void b(c);ee("unquote-splicing")})||(ha=!1):ee("unquote")})||(ha=!1)}function Oi(){za([],")",function(c,d){if(c)return void b(c);if(d.length===0)b(j,Ha);else{try{var f=d===j||d.length===0?B:d[0]===Ia?Ja(d):new A(d[0],Ka(d.slice(1)))}catch(h){return void b(h)}b(j,
f)}})||(ha=!1)}function Pi(){za([],"]",function(c,d){if(c)return void b(c);b(j,w([J("fn"),w([J("_")]),w(d)]))})||(ha=!1)}var ha=!0;o(function(f){if(f)return void b(f);h(function(f,h){if(f)return void b(f);h===j?b(j,j):h==='"'?c():h==="|"?d():h==="#"?k():h==="'"?ee("quote"):h===","?Pb():h==="`"?ee("quasiquote"):h==="("?Oi():h==="["?Pi():pb(h,b)||(ha=!1)})||(ha=!1)})||(ha=!1);return ha}return de(c)}function L(b,c){this.ba=b;this.Oc=c;this.Yc=b;this.rb=this.i=j}L.prototype=new x;q=L.prototype;
q.className="Symbol";q.l=function(b){b.push(new La(this))};function J(b){var c=Ea(b);if(c instanceof L)return c;else g(new r("can't make symbol from \""+b+'"'))}
function Ea(b){if(b==="t")b=Ma;else if(b==="nil")b=B;else{var c;if(!(c=Na.test(b))){a:if(/^-?[01-9]+\/[01-9]+$/.test(b)||/^-?[01-9]+$/.test(b)||/^[-+]?[01-9]*\.?[01-9]+(e-?[01-9]+)?$/.test(b)||b==="+inf.0"||b==="-inf.0"||b==="+nan.0"||b==="+i"||b==="-i"||/^([-+]?[01-9]*\.?[01-9]+(?:e-?[01-9]+)?)([-+])([01-9]*\.?[01-9]+(?:e-?[01-9]+)?)?i$/.test(b)||/\\(?!\|)/.test(b))c=!0;else{c=0;for(var d=b.length;c<d;c++){var f=b.charCodeAt(c);if(!(/^[-+$%&*\/<=>?^_~.!:01-9a-zA-Z]+$/.test(b.charAt(c))||128<=f&&
f<65536)){c=!0;break a}}c=!1}c=c||b==="."}b=c?Oa(b,"|"+b+"|"):Pa.test(b)?Oa(b.replace(/\\\|/g,"|"),b):Oa(b,b)}return b}q.Ua=m("ba");q.toString=m("Oc");function Oa(b,c){if(b in Qa)return Qa[b];var d=new L(b,c);return Qa[b]=d}q.name=m("ba");q.na=function(b){b instanceof L||g(new TypeError);return this.ba.localeCompare(b.name)};q.type=function(){return Ra};q.va=function(){return this.name()};q.xa=m("Yc");q.ta=function(b){return this===b};function Sa(b,c){return c instanceof L&&c.name()===b}
q.ha=function(b){var c=this.i;this.i=b;c!==j&&c.jc(this);b.Qb(this)};q.value=function(){this.i===j&&g(new r("Symbol "+this.ba+" is not bound"));return this.i};q.bound=function(){return this.i!==j};function Ta(b,c){try{return b instanceof L||g(new TypeError),b}catch(d){d instanceof TypeError||g(d),g(new r("Wrong argument type: "+c+" expected a Symbol, got "+b))}}function Ua(b,c,d){if(b.rb===j)b.rb={};b.rb[c.name()]=d}
var Qa={},Na=/.*(["'; \t\n\)\(]|([^\\]|^)\|).*/,Pa=/.*\\\|/,Ra=J("sym"),Ia=J("."),Va=J("!");function A(b,c){b===j&&g(new r("Can't create Pair with null car: use NIL instead"));c===j&&g(new r("Can't create Pair with null cdr: use NIL instead"));this.Ta=b;this.fb=c}A.prototype=new x;q=A.prototype;q.className="Pair";q.f=function(b,c){var d=Wa(c.a(),this);C(b,this.vb(d.H()).a())};q.lc=m("Ta");q.a=m("Ta");q.b=m("fb");q.Ia=function(){this.Ta!==j&&g(new ua)};q.M=n(!1);q.Mb=function(b){return this.Ta=b};
q.hc=function(b,c){return this.vb(Xa(c,this).H()).Mb(b)};q.sc=function(b){return b===this.Ta};q.toString=function(){if(this.a()instanceof L&&this.a().name()in Ya&&this.b()instanceof A&&this.b().size()===1){var b=this.a(),b=Ya[b.name()],c=this.b();c instanceof A||g(new TypeError);return b+Za(c)}else return"("+Za(this)+")"};function Za(b){for(var c=[];!b.M();)c.push(b.a()),b.b().M()||c.push(" "),b=b.b();b instanceof y||c.push(" . ",b);return c.join("")}q.zc=ba("fb");
function Ka(b){if(b.length===0)return B;if(b[0]===Ia)return b.length===2?(b=b[1],b instanceof x||g(new TypeError),b):Ja(b);var c=b[0];c instanceof x||g(new TypeError);return new A(c,Ka(b.slice(1)))}function Ja(b){g(new r('Error: illegal use of "." in '+b))}function $a(b,c,d){if(d===b.length)return c;else{var f=b[d];f instanceof x||g(new TypeError);return new A(f,$a(b,c,d+1))}}function ab(b,c){return b===j||b.length===0?c:$a(b,c,0)}function w(b){return ab(b,B)}q.type=function(){return bb};q.ga=function(){return this.size()};
q.size=function(){if(this instanceof y)return 0;else{for(var b=1,c=this.fb;!(c instanceof y);)c.M()&&g(new r("cannot take size: not a proper list: "+this)),b++,c=c.b();return b}};q.na=function(){g(new r("Pair.compareTo:unimplemented"))};q.copyTo=function(b){b.push(this.a());if(this.b()instanceof y)return b;else this.b()instanceof A||g(new r("Not a list: "+this));this.b().copyTo(b);return b};
q.ta=function(b){if(this===b)return!0;var c=this instanceof y;b instanceof x||g(new TypeError);var d=b instanceof y;return c!==d?!1:c&&d?!0:b instanceof A?(c=b.Ta.ta(this.Ta),b=b.fb.ta(this.fb),c&&b):!1};q.xa=function(){return this.a().xa()+this.b().xa()};q.vb=function(b){try{for(var c,d=this,f=b;0<f;)d.b()instanceof y&&g(new db),d=d.b(),f--;c=d;c instanceof A||g(new TypeError);return c}catch(h){h instanceof db||g(e),g(new r("Error: index "+b+" too large for list "+this))}};
q.sb=function(b){return this.b().sb(b-1)};q.$b=function(b){return b<0||this.b().$b(b-1)};q.La=function(){return"ref:"+this.type().toString()};function db(){}db.prototype=Error();q=A.prototype;q.va=function(){var b=[];eb(b,this);return b};q.Ba=function(b){return x.prototype.Ba.call(this,b)||this instanceof y&&b instanceof y};function eb(b,c){if(!(c instanceof y)){b.push(c.a().va());var d=c.b();d instanceof A||g(new TypeError);eb(b,d)}}function fb(b){var c=Array(~~b.size());gb(b,c,0);return c}
function gb(b,c,d){if(d<c.length)c[d]=b.Ta,b=b.fb,b instanceof A||g(new TypeError),b instanceof y||gb(b,c,d+1)}function hb(b,c){try{return b instanceof A||g(new TypeError),b}catch(d){d instanceof TypeError||g(d),g(new r("Wrong argument type: "+c+" expected a cons, got "+b))}}q.ub=l();q.add=function(b){if(b instanceof A){var c=[];this.copyTo(c);b.copyTo(c);return w(c)}else g(new r("+ : expects cons, got "+b.type()+" "+b))};
q.j=function(b){b.ra(this);for(var c=this;!c.M();)c.a().j(b),c=c.b();c instanceof y||c.j(b);b.Ea(this)};function ta(){}var bb=J("cons"),Ya={quasiquote:"`",quote:"'",unquote:",","unquote-splicing":",@"};function y(b){this.Ta=this.fb=j;this.nb=b}var ib=new A(i,i);ib.O=ib.K=j;y.prototype=ib;q=y.prototype;q.className="Nil";q.l=function(b){b.push(new E(jb))};q.f=function(b,c){g(new r("Function dispatch on inappropriate object: "+this+" with args "+c))};q.ub=l();q.Ca=n(!0);q.ga=n(0);q.M=n(!0);q.Ia=l();
q.toString=m("nb");q.lc=function(){return this};q.a=function(){return this};q.b=function(){return this};q.sc=n(!1);q.zc=function(){g(Error("can't set the cdr of "+this))};q.size=n(0);q.copyTo=aa();q.type=function(){return kb};q.xa=n("nil");q.ta=function(b){if(this===b)return!0;b instanceof x||g(new TypeError);return b instanceof y};q.va=n(!1);q.Ba=function(b){return b instanceof y};q.Nc=aa();q.sb=function(b){return b===0};q.$b=function(b){return b<0};var kb=Ra,jb=new y("nil"),lb=new y("()");
function mb(){L.call(this,this.ba,this.Oc);nb!==i&&g(Error())}mb.prototype=new L("t","t");q=mb.prototype;q.className="Truth";q.Ca=n(!0);q.l=function(b){b.push(new E(nb))};q.toString=n("t");q.na=function(){g(new r("Truth.compareTo:unimplemented"))};q.type=function(){return Ra};function ob(b){return b?nb:B}q.xa=n("t");q.ta=function(b){return this===b};q.va=n(!0);q.ha=function(){g(new r("error: can't rebind t!"))};q.value=function(){return this};var nb=new mb;function M(){this.e=j}M.prototype=new x;
q=M.prototype;q.Fb=!1;q.Yb=!1;q.la=!1;q.Xb=!1;q.className="Instruction";q.type=function(){return J("instruction")};q.Wa=function(){return this.toString()};q.toString=function(){return"("+this.className+")"};q.d=i;q.n=ba("e");q.j=function(b){b.Ob(this)};function wa(b,c,d){this.e=j;this.cd=b;this.Bb=c;this.n(d)}wa.prototype=new M;wa.prototype.Yb=!0;wa.prototype.className="ArcObject.ConvertError";wa.prototype.nc=function(b){return b instanceof Error};
wa.prototype.d=function(b){var c=b.error();if(c!==j)b.Na=j,b.N=this.Bb,g(new r("error invoking "+this.e+" with args "+this.cd+": "+c,c))};var ra=J("call*"),B=jb,Ha=lb,Ma=nb;function qb(){}qb.prototype=new x;qb.prototype.className="LiteralObject";qb.prototype.Ca=n(!0);qb.prototype.l=function(b){b.push(new E(this))};qb.prototype.La=function(){return"ref:"+this.type().toString()};function N(b){this.i=b;rb[b]=this}N.prototype=new qb;q=N.prototype;q.className="ArcCharacter";
function Da(b){return rb[b]===i?new N(b):rb[b]}q.Ca=n(!0);q.toString=function(){return"#\\"+String.fromCharCode(this.i)};q.na=function(b){b instanceof N||g(new TypeError);return this.i-other.i};q.type=function(){return sb};q.va=function(){return this.value()};q.value=m("i");q.Ua=function(){return String.fromCharCode(this.i)};q.xa=function(){return this.Ua()};q.ta=function(b){return this===b||b instanceof N&&b.i===this.i};
function tb(b,c){try{return b instanceof N||g(new TypeError),b}catch(d){d instanceof TypeError||g(d),g(new r("Wrong argument type: "+c+" expected a character, got "+b))}}var sb=J("char"),rb=Array(65536);function ub(){N.call(this,0)}ub.prototype=new N(0);ub.prototype.className="ArcCharacter.Anon_NULL_";ub.prototype.toString=n("#\\null");var vb=new ub;function wb(){N.call(this,"\n".charCodeAt(0))}wb.prototype=new N("\n".charCodeAt(0));wb.prototype.className="ArcCharacter.Anon_named_1_";
wb.prototype.toString=n("#\\newline");function xb(){N.call(this,"\t".charCodeAt(0))}xb.prototype=new N("\t".charCodeAt(0));xb.prototype.className="ArcCharacter.Anon_named_2_";xb.prototype.toString=n("#\\tab");function yb(){N.call(this,"\r".charCodeAt(0))}yb.prototype=new N("\r".charCodeAt(0));yb.prototype.className="ArcCharacter.Anon_named_3_";yb.prototype.toString=n("#\\return");function zb(){N.call(this," ".charCodeAt(0))}zb.prototype=new N(" ".charCodeAt(0));zb.prototype.className="ArcCharacter.Anon_named_4_";
zb.prototype.toString=n("#\\space");new wb;new xb;new yb;new zb;function Ca(b){this.i=b}Ca.prototype=new qb;q=Ca.prototype;q.className="ArcString";q.f=function(b,c){Ab(c,this.className,1);var d=Xa(c.a(),this);d.ja()||g(new r("string-ref: expects exact integer: got "+d));d=~~d.H();0<=d||d<this.value.length()||g(new r("string-ref: index "+d+" out of range [0, "+(this.i.length-1)+"] for string "+this.toString()));C(b,Da(this.i.charCodeAt(d)))};q.value=m("i");q.Ua=m("i");
q.toString=function(){var b=this.i,c=[];c.push('"');for(var d=0;d<b.length;d++)switch(b.charAt(d)){case '"':c.push('\\"');break;case "\\":c.push("\\\\");break;case "\n":c.push("\\n");break;case "\r":c.push("\\r");break;default:c.push(b.charAt(d))}c.push('"');return c.join("")};q.na=function(b){b instanceof Ca||g(new TypeError);return this.i.localeCompare(b.i)};q.ga=function(){return this.i.length};q.Mb=function(b){var c=[tb(b,this).Ua()];c.push(this.value().substring(1));this.ha(c.join(""));return b};
q.hc=function(b,c){var d=tb(b,N),f=Xa(c,this),f=f.H();0<=f&&f<this.i.length||g(new RangeError);this.i=this.i.substring(0,f-1)+String.fromCharCode(d.value())+this.i.substring(f+1);return b};q.type=function(){return Bb};q.va=function(){return this.value()};function F(b){return new Ca(b)}q.ha=ba("i");q.xa=m("i");q.ta=function(b){return this===b||b instanceof Ca&&b.i===this.i};q.Ba=function(b){return this.ta(b)};
q.add=function(b){var c=[this.i];if(!(b instanceof Ca)){var d=b.type();d instanceof L||g(new TypeError);d=Cb.rb[d]||j;d instanceof Db||g(new TypeError);b=d.Cb(b);b instanceof Ca||g(new TypeError)}c.push(b.value());return F(c.join(""))};function Eb(b,c){try{return b instanceof Ca||g(new TypeError),b}catch(d){d instanceof TypeError||g(d),g(new r("Wrong argument type: "+c+" expected a string, got "+b))}}var Bb=J("string");function pa(b,c,d){this.mb=c;this.pa=b;this.gd=d}pa.prototype=new qb;
pa.prototype.className="ArcException";pa.prototype.type=function(){return Fb};pa.prototype.message=function(){return this.pa!==j?F(this.pa.message):Gb};pa.prototype.toString=function(){return this.message().toString()};var Fb=J("exn"),Gb=F("no message");function O(){}O.prototype=new qb;q=O.prototype;q.className="ArcNumber";q.ja=i;q.B=i;q.H=i;q.kb=i;q.round=i;q.fc=function(){g(new r("round[closest] not implemented for "+this.className+"("+this+")"))};q.Ca=n(!0);
q.na=function(b){b instanceof O||g(new TypeError);b=b.B()-this.B();return b<0?1:b===0?0:-1};q.type=function(){return this.ja()?Hb:Ib};q.Ba=function(b){return this.ta(b)};function Wa(b,c){try{return b instanceof O||g(new TypeError),b}catch(d){d instanceof TypeError||g(d),g(new r("Wrong argument type: "+c+" expected a number, got "+b))}}q.Lc=function(){g(new r("mod: not implemented for "+this.className+"("+this+")"))};var Hb=J("int"),Ib=J("num");function Jb(){this.i=j}Jb.prototype=new qb;
Jb.prototype.className="ArcThreadLocal";Jb.prototype.set=ba("i");Jb.prototype.get=m("i");Jb.prototype.type=function(){return Kb};function Lb(b,c){try{return b instanceof Jb||g(new TypeError),b}catch(d){d instanceof TypeError||g(d),g(new r("Wrong argument type: "+c+" expected a thread-local, got "+b))}}var Kb=J("thread-local");function I(b,c){this.O=b;this.K=c}I.prototype=new O;q=I.prototype;q.className="Complex";
function Mb(){var b;if(soFar==="+i")return new I(0,1);else if(soFar==="-i")return new I(0,-1);else if(b=/^([-+]?[01-9]*\.?[01-9]+(?:e-?[01-9]+)?)([-+])([01-9]*\.?[01-9]+(?:e-?[01-9]+)?)?i$/.exec(soFar))return new I(Ga(parseFloat(b[1])).value(),Ga(parseFloat(b[2]+(b[3]||"1"))).value());else g(new qa)}q.ja=function(){return this.K===0&&Math.floor(this.O)===real};q.B=function(){g(new r("Cannot convert complex to double"))};q.H=function(){g(new r("Cannot convert complex to int"))};
q.kb=function(){return new I(-this.O,-this.K)};q.toString=function(){return(new H(this.O)).toString()+(this.K<0?"":"+")+(new H(this.K)).toString()+"i"};function Nb(b,c){try{return b instanceof I||g(new TypeError),b}catch(d){d instanceof TypeError||g(d),g(new r("Wrong argument type: "+c+" expected a complex number, got "+b))}}q.round=function(){return new r("Can't convert "+this+" to integer")};function Ob(b){var c=argument.B();return new I(b.O*c,b.K*c)}
q.multiply=function(b){return b instanceof I?Qb(this,b):(b instanceof O||g(new TypeError),b=b.B(),new I(this.O*b,this.K*b))};function Qb(b,c){var d=b.O,f=c.O,h=b.K,k=c.K;return new I(d*f-h*k,d*k+f*h)}q.add=function(b){if(b instanceof I)return new I(this.O+b.O,this.K+b.K);else if(b instanceof P)return new I(this.O+b.B(),this.K);else if(b instanceof H)return new I(this.O+b.B(),this.K);else g(new r("+: expects a number, got "+b.type()+" "+b))};
q.log=function(){return new I(Math.log(Math.sqrt(this.O*this.O+this.K*this.K)),Math.atan2(this.K,this.O))};function Rb(b,c){var d;if(c instanceof I)d=Qb(b.log(),c).exp();else{d=b.log();var f=c.B();d=(new I(d.O*f,d.K*f)).exp()}return d}q.sqrt=function(){return Rb(this,Ga(0.5))};q.exp=function(){var b=Math.exp(this.O);return new I(b*Math.cos(this.K),b*Math.sin(this.K))};q.na=function(){g(new r("Compare: complex numbers are unordered and cannot be compared"))};
q.Ba=function(b){return b instanceof I?b.O===this.O&&b.K===this.K:b instanceof O&&this.K===0&&b.B()===this.O};function P(b,c){c===0&&b!==0&&g(new r("/: division by zero"));var d=Sb(this,b,c);this.ca=b/d;this.U=c/d}P.prototype=new O;q=P.prototype;q.className="Rational";function Fa(b){b=b.split("/");return new P(parseInt(b[0],10),parseInt(b[1],10))}function G(b){return new P(b,1)}q.toString=function(){return this.ca+(this.U===1?"":"/"+this.U)};q.ja=function(){return this.U===1};
q.B=function(){return this.ca/this.U};q.H=function(){if(this.ca===0)return 0;else{var b=this.ca/this.U;return b<0?Math.ceil(b):Math.floor(b)}};function Sb(b,c,d){return d===0?c:Sb(b,d,c%d)}q.Lc=function(b){(!this.ja()||!b.ja())&&g(new r("modulo: expects integer, got ("+this+" "+b+")"));var b=b.H(),c=this.ca%b;c<0&&(c+=b);return G(c)};function Tb(b,c){return new P(b.ca*c.ca,b.U*c.U)}q.wb=function(b){return new P(this.ca*b.U+b.ca*this.U,this.U*b.U)};q.kb=function(){return new P(-this.ca,this.U)};
q.va=function(){return this.ja()?this.H():this.B()};q.xa=function(){return this.ja()?this.H():this.B()};q.xa=function(){return 37*this.ca+this.U+""};q.ta=function(b){return b instanceof P&&this.ca===b.ca&&this.U===b.pd};function Xa(b,c){try{return b instanceof P||g(new TypeError),b}catch(d){d instanceof TypeError||g(d),g(new r("Wrong argument type: "+c+" expected a Rational, got "+b))}}
q.round=function(){if(this.U===1)return this;else if(this.U===2){var b=this.ca/this.U,b=b<0?Math.ceil(b):Math.floor(b);return G(b+(b%2===1?1:0))}else return G(Math.round(this.ca/this.U))};q.fc=function(){return this.U===1?this:G(Math.round(this.ca/this.U))};q.stringify=function(b){var c=this.ca.toString(b.H());return this.ja()?F(c):(b=this.U.toString(b.H()),F(c+"/"+b))};q.sqrt=function(){var b=Math.sqrt(this.ca/this.U);return Math.floor(b)===b?G(b):Ga(b)};
q.multiply=function(b){if(b instanceof I)return Ob(b);else if(b instanceof H)return Ga(b.i*this.B());else if(b instanceof P)return Tb(this,b);else g(new r("*: expects a number, got "+b.type()+" "+b))};q.add=function(b){if(b instanceof I)return new I(b.O+this.B(),b.K);else if(b instanceof H)return b.wb(this);else if(b instanceof P)return this.wb(b);else g(new r("+: expects a number, got "+b.type()+" "+b))};var Ub=G(0),Vb=G(1),Wb=G(10);function H(b){this.i=b}H.prototype=new O;q=H.prototype;
q.className="Real";function Ga(b){return new H(b)}q.toString=function(){return this.i===-1/0?"-inf.0":this.i===1/0?"+inf.0":this.i!==this.i?"+nan.0":""+this.i};q.va=function(){this.ja();return this.value()};q.type=function(){return Ib};q.value=m("i");q.ja=function(){return Math.floor(this.i)===this.i};q.B=m("i");q.H=function(){return this.i<0?Math.ceil(this.i):Math.floor(this.i)};q.kb=function(){return Ga(-this.i)};q.xa=function(){return""+this.i};
q.ta=function(b){return b instanceof I?b.Ba(this):this===b||b instanceof H&&this.i===b.i};q.round=function(){var b=Math.round(this.i);return Math.abs(this.i-b)===0.5&&b%2==1?b<this.i?G(b+1):G(b-1):G(b)};q.fc=function(){return G(Math.round(this.i))};q.wb=function(b){return Ga(this.i+b.B())};q.sqrt=function(){return Ga(Math.sqrt(this.i))};q.multiply=function(b){if(b instanceof I)return Ob(b);else if(b instanceof O)return Ga(this.i*b.B());else g(new r("*: expects a number, got "+b.type()+" "+b))};
q.add=function(b){if(b instanceof I)return new I(b.O+this.B(),b.K);else if(b instanceof P)return this.wb(b);else if(b instanceof H)return this.wb(b);else g(new r("+: expects a number, got "+b.type()+" "+b))};function Xb(b,c){this.zb=b;this.nb=c}Xb.prototype=new qb;q=Xb.prototype;q.className="Tagged";q.f=function(b,c){var d=ra.value();d instanceof sa||g(new TypeError);return d.value(this.zb).f(b,new A(this.nb,c))};q.na=n(0);q.type=m("zb");
function Yb(b){return b instanceof Xb&&b.zb.toString()==="mac"?b.nb:j}q.toString=function(){return Zb(this)};function Zb(b){var c=$b;if(!c.bound())return"#<tagged "+b.zb+" "+b.nb+">";c=c.value();c instanceof sa||g(new TypeError);c=c.value(b.zb);if(c instanceof y)return"#<tagged "+b.zb+" "+b.nb+">";b=new ac;c.f(b,w([rep]));var d;bc(b,function(b,c){b&&g(b);d=c},!0)||g(new r("An asynchronous operation was attempted during a toString()."));return""+d.va()}var $b=J("tagged-writers");
function sa(){this.ba=B;this.ac={};this.ib=this.Wb=j;this.bc=new cc;this.Kc=0}sa.prototype=new qb;q=sa.prototype;q.className="Hash";q.jc=function(b){if(this.ba===b)this.ba=B,this.bc=new cc};q.Qb=function(b){this.ba=b;this.bc=new dc(this)};q.Rb=m("ba");q.f=function(b,c){C(b,this.value(c.a()).Nc(c.b().a()))};q.toString=function(){return"#hash"+ec(this)};function ec(b){for(var c=[],d=b.Wb;d!==j;d=d.next){var f=d.key,f=new A(f,new A(b.value(f),B));c.push(f)}return ab(c,Ha)}q.ga=function(){return this.size()};
q.hc=function(b,c){if(b instanceof y){var d=this.value(c),f=this.ac[c.xa()];if(f)for(var h=0,k=f.length;h<k;h++){var o=f[h];if(c.ta(o.key)){f.splice(h,1);if(o.Lb)o.Lb.next=o.next;if(o.next)o.next.Lb=o.Lb;if(this.Wb===o)this.Wb=o.next;if(this.ib===o)this.ib=o.Lb;this.ga--;break}}this.bc.Bc(d,c)}else{d=c.xa();d=this.ac[d]||(this.ac[d]=[]);f=j;h=0;for(k=d.length;h<k;h++)if(o=d[h],c.ta(o.key)){f=o;break}f===j?(f=this.ib,this.ib={key:c,value:b,Lb:f,next:j},f===j?this.Wb=this.ib:f.next=this.ib,d.push(this.ib),
this.Kc++):f.value=b;this.bc.name(b,c)}return b};q.value=function(b){var c=this.ac[b.xa()];if(!c)return B;for(var d=0,f=c.length;d<f;d++){var h=c[d];if(b.ta(h.key))return h.value}return B};q.na=n(0);q.type=function(){return fc};q.size=m("Kc");function gc(){}gc.prototype.name=i;gc.prototype.Bc=i;function dc(b){this.Sc=b}dc.prototype=new gc;dc.prototype.name=function(b,c){b.Qb(new A(c,this.Sc))};dc.prototype.Bc=function(b,c){b.jc(new A(c,this.Sc))};function cc(){}cc.prototype=new gc;
cc.prototype.name=l();cc.prototype.Bc=l();var fc=J("table");function ac(){this.Ac=hc++;this.$=Array(100);this.N=-1;this.ma=[];this.fa=Array(100);this.D=Array(100);this.g=-1;this.Na=this.Eb=this.q=j;this.hb=ic;this.Ub=!1;this.Aa=0;this.Qa=j;this.Ec=0;this.mb=j}ac.prototype=new x;q=ac.prototype;q.className="VM";
function bc(b,c,d){var f=b.Aa;b.Aa=b.g;var h=jc(b,function(){b.Aa=f;if(b.Na===j)b.hb.end(b),c(j,Q(b));else{var d=b.Na;b.Na=j;var h=d.gd,p="\nAt instruction "+d.mb;if(h!==j)for(var z=0,K=h.length;z<K;z++)p+="\n"+h[z].La();c(new r("Unhandled exception on thread#"+b.Ac+": "+d.pa.message+p,d.pa))}},d);if(d&&!h)b.Aa=f;return h}
function jc(b,c,d){function f(){for(;h.Aa<=h.g;)try{if(h.D[h.g]instanceof y)h.g--;else{h.q=h.fa[h.g];h.Eb=h.ma[h.g];var b=h.D[h.g].a();b instanceof M||g(new TypeError);h.mb=b;var p=h.D[h.g].b();p instanceof A||g(new TypeError);h.D[h.g]=p;if(h.mb.Xb){var z=!0,z=h.mb.vc(h,function(b){b?kc(h,b):h.hb.$a(h);z||f()},d);if(!z){k=!1;return}}else h.mb.d(h),h.hb.$a(h)}}catch(K){kc(h,K)}c()}b.hb.$a(b);var h=b,k=!0;f();return k}
function kc(b,c){for(var d=[],f=[],h=[];b.Aa<=b.g;){var k=lc(b).a();if(k.Yb&&k.nc(c))break;k=lc(b).a();k.Fb&&(f.push(lc(b)),h.push(b.fa[b.g]));if(k instanceof M)k=lc(b).a().e,k!==j&&d.push(k);b.g--}b.Na=new pa(c,b.mb,d);for(d=f.length-1;0<=d;d--)R(b,h[d],f[d])}q.error=m("Na");
q.show=function(){na("Thread Dump for thread#"+threadId);na(""+(this.N+1)+" args");for(var b=5<this.N?this.N-5:0;b<this.N+1;b++)na(""+b+". "+this.$[b]);na();b=this.g+1;if(this.D[this.g]instanceof y)b=this.g;na(""+b+" instruction frames");for(var b=20<this.g?this.g-20:0,c=this.g;b<=c;c--)if(!(this.D[c]instanceof y)){var d=this.D[c],f=this.fa[c],h=this.ma[c];for(ma("\nInstruction Frame "+c+":");!(d instanceof y);){var k=d.a();k instanceof M||g(new TypeError);d=d.b();newInstructions instanceof A||g(new TypeError);
ma(k.Wa(f));ma(" ")}ma("[");k=0;for(d=h.length;k<d;k++)ma(""+h[k]+" ");ma("]");ka.Sa("\n")}};function D(b,c){b.Aa<=b.g&&lc(b)instanceof y||(b.g++,0<=b.g&&b.g<b.D.length||(mc(b,b.D.length*2),nc(b,b.fa.length*2),oc(b,b.ma.length*2)));b.D[b.g]=new A(c,B)}function R(b,c,d){b.Aa<=b.g&&lc(b)instanceof y||(b.g++,0<=b.g&&b.g<b.D.length||(mc(b,b.D.length*2),nc(b,b.fa.length*2),oc(b,b.ma.length*2)));b.D[b.g]=d;b.fa[b.g]=c}
function S(b,c,d,f){b.Aa<=b.g&&lc(b)instanceof y||(b.g++,0<=b.g&&b.g<b.D.length||(mc(b,b.D.length*2),nc(b,b.fa.length*2),oc(b,b.ma.length*2)));b.D[b.g]=d;b.fa[b.g]=c;b.ma[b.g]=f}function pc(b,c){b.Aa<=b.g&&lc(b)instanceof y?b.D[b.g]=c:(b.g++,0<=b.g&&b.g<b.D.length||(mc(b,b.D.length*2),nc(b,b.fa.length*2),oc(b,b.ma.length*2)),b.D[b.g]=c,b.fa[b.g]=b.q,b.ma[b.g]=b.Eb)}function lc(b){return b.D[b.g]}
function C(b,c){b.N++;if(!(0<=b.N&&b.N<b.$.length)){var d=Array(~~(b.$.length*2));qc(b.$,d);b.$=d}b.$[b.N]=c}function rc(b){return b.$[b.N]}function Q(b){return b.$[b.N--]}function tc(b,c){for(var d=Ha,f=0;f<c;f++)d=new A(b.$[b.N-f],d);b.N-=c;return d}function uc(b,c){b.hb=c;c.tb(b)}q.type=function(){return vc};
q.copyTo=function(b){b.N=this.N;b.g=this.g;b.D.length<this.D.length?(b.D=this.D.slice(),b.fa=this.fa.slice(),b.ma=this.ma.slice()):(qc(this.D,b.D),qc(this.fa,b.fa),qc(this.ma,b.ma));b.$.length!==this.$.length?b.$=this.$.slice():qc(this.$,b.$);b.q=this.q;b.Na=this.Na;b.hb=this.hb;b.Ub=this.Ub;b.Aa=this.Aa};q.toString=function(){return"[thread#"+this.Ac+": instruction stack "+this.g+"; arg stack "+this.N+"]"};function nc(b,c){var d=Array(~~c);qc(b.fa,d);b.fa=d}
function mc(b,c){var d=Array(~~c);qc(b.D,d);b.D=d}function oc(b,c){var d=Array(~~c);qc(b.ma,d);b.ma=d}function qc(b,c){for(var d=0,f=b.length;d<f;d++)c[d]=b[d]}function wc(b){if(!(b.Aa<=b.g))return j;return b.D[b.g]instanceof y?(b.g--,wc(b)):b.D[b.g].a()}var vc=J("thread"),hc=0;function xc(){this.Ha=[];this.Jc=B}xc.prototype=new x;q=xc.prototype;q.className="ListBuilder";q.append=function(b){this.Ha.push(b)};q.Ic=ba("Jc");q.list=function(){return ab(this.Ha,this.Jc)};q.type=function(){return J("list-builder")};
q.toString=function(){return"ListBuilder:"+this.list().toString()};function yc(){this.e=j}yc.prototype=new M;yc.prototype.className="Append";yc.prototype.d=function(b){var c=Q(b),b=rc(b);b instanceof xc||g(new TypeError);b.append(c)};yc.prototype.toString=n("(append)");function zc(){this.e=j}zc.prototype=new M;zc.prototype.className="AppendAll";zc.prototype.d=function(b){var c=Q(b),b=rc(b);b instanceof xc||g(new TypeError);c instanceof A||g(new TypeError);c.copyTo(b.Ha)};zc.prototype.toString=n("(append-all)");
function Ac(){this.e=j}Ac.prototype=new M;Ac.prototype.className="AppendDot";Ac.prototype.d=function(b){var c=Q(b),b=rc(b);b instanceof xc||g(new TypeError);b.Ic(c)};Ac.prototype.toString=n("(append-dot)");function Bc(b,c){this.e=j;this.Mc=b;this.Bb=c}Bc.prototype=new M;q=Bc.prototype;q.Yb=!0;q.className="Catch";q.nc=n(!0);q.d=function(b){var c=b.error();if(c!==j)b.Na=j,b.N=this.Bb,this.Mc.f(b,w([c]))};q.toString=function(){return"(catch "+this.Mc+")"};function Cc(b){this.e=j;this.Hc=b}
Cc.prototype=new M;Cc.prototype.className="Close_Instruction";Cc.prototype.d=function(b){C(b,new Dc(this.Hc,b.q))};Cc.prototype.toString=function(){return"(close "+this.Hc+")"};function Ec(b){this.e=j;this.Cc=b}Ec.prototype=new M;Ec.prototype.Fb=!0;Ec.prototype.className="FinallyInvoke";Ec.prototype.d=function(b){this.Cc.f(b,B)};Ec.prototype.toString=function(){return"(finally:"+this.Cc+")"};function Fc(){this.e=j}Fc.prototype=new M;Fc.prototype.className="FinishList";
Fc.prototype.d=function(b){var c=Q(b);c instanceof xc||g(new TypeError);C(b,c.list())};Fc.prototype.toString=n("(finish-list)");function La(b){this.e=j;this.Ra=b}La.prototype=new M;La.prototype.className="FreeSym";La.prototype.d=function(b){C(b,this.Ra.value())};La.prototype.toString=function(){return"(free-sym "+this.Ra+")"};La.prototype.Wa=function(){return"(free-sym "+this.Ra+" -> "+(sym.bound()?""+sym.value():"#unbound#")+")"};function Gc(b){this.e=j;this.Ra=b}Gc.prototype=new M;
Gc.prototype.className="LexSym";Gc.prototype.d=function(b){C(b,this.Ra.t(b.q))};Gc.prototype.toString=function(){return"(lex-sym "+this.Ra+")"};Gc.prototype.Wa=function(b){return"(lex-sym "+this.Ra+" -> "+this.Ra.t(b)+")"};function Hc(b){this.e=j;this.Rc=b}Hc.prototype=new M;Hc.prototype.className="Listify";Hc.prototype.d=function(b){C(b,tc(b,this.Rc))};Hc.prototype.toString=function(){return"(listify "+this.Rc+")"};function E(b){this.e=j;this.Dc=b}E.prototype=new M;E.prototype.className="Literal";
E.prototype.d=function(b){C(b,this.Dc)};E.prototype.toString=function(){return"(literal "+this.Dc+")"};function Ic(){this.e=j}Ic.prototype=new M;Ic.prototype.className="NewList";Ic.prototype.d=function(b){C(b,new xc)};Ic.prototype.toString=n("(new-list)");function Jc(b){this.e=j;this.ba=b}Jc.prototype=new M;Jc.prototype.className="PopArg";Jc.prototype.d=function(b){Q(b)};Jc.prototype.toString=function(){return"(pop-arg:"+this.ba+")"};function Kc(b,c){this.e=j;this.jd=b;this.i=c}Kc.prototype=new M;
Kc.prototype.Fb=!0;Kc.prototype.className="SetThreadLocal";Kc.prototype.d=function(){this.jd.value=this.i};function Lc(b,c){this.e=j;this.Ra=b;this.ab=c}Lc.prototype=new M;Lc.prototype.className="StackSym";Lc.prototype.d=function(b){var c=this.ab;b.N++;if(!(0<=b.N&&b.N<b.$.length)){var d=Array(~~(b.$.length*2));qc(b.$,d);b.$=d}b.$[b.N]=b.Eb[c]};Lc.prototype.toString=function(){return"(stack-bound symbol:"+this.Ra+")"};function Mc(b){this.e=j;this.Fc=b}Mc.prototype=new M;Mc.prototype.className="TableMapper";
Mc.prototype.d=function(b){var c=Q(b);c instanceof A||g(new TypeError);if(!(c instanceof y)){C(b,c.b());D(b,this);c=c.a();c instanceof A||g(new TypeError);var d=new Jc("map-table-iterator");d.n(this);D(b,d);this.Fc.f(b,c)}};Mc.prototype.toString=function(){return"(table-mapper "+this.Fc+")"};function Nc(b){this.e=j;this.name=b}Nc.prototype=new M;Nc.prototype.className="Assign_Lex";function Oc(b,c){Nc.call(this,b);this.value=c}Oc.prototype=new Nc;Oc.prototype.className="Assign_Lex_Free";
Oc.prototype.d=function(b){var c=this.value.value();Pc(this.name,b.q,c);C(b,c)};Oc.prototype.toString=function(){return"(assign-lex "+this.name+" "+this.value+")"};function Qc(b,c){Oc.call(this,b,c)}Qc.prototype=new Oc;Qc.prototype.className="Assign_Lex_Free.Intermediate";Qc.prototype.d=function(b){Pc(this.name,b.q,this.value.value())};function Rc(b,c){Nc.call(this,b);this.value=c}Rc.prototype=new Nc;Rc.prototype.className="Assign_Lex_Lex";
Rc.prototype.d=function(b){var c=this.value.t(b.q);Pc(this.name,b.q,c);C(b,c)};Rc.prototype.toString=function(){return"(assign-lex "+this.name+" "+this.value+")"};Rc.prototype.Wa=function(b){return"(assign-lex "+this.name+"--\>"+this.name.t(b)+this.value+"--\>"+this.value.t(b)+")"};function Sc(b,c){Rc.call(this,b,c)}Sc.prototype=new Rc;Sc.prototype.className="Assign_Lex_Lex.Intermediate";Sc.prototype.d=function(b){Pc(this.name,b.q,this.value.t(b.q))};function Tc(b,c){Nc.call(this,b);this.Va=c}
Tc.prototype=new Nc;Tc.prototype.className="Assign_Lex_Literal";Tc.prototype.d=function(b){Pc(this.name,b.q,this.Va);C(b,this.Va)};Tc.prototype.toString=function(){return"(assign-lex "+this.name+" "+this.Va+")"};function Uc(b,c){Tc.call(this,b,c)}Uc.prototype=new Tc;Uc.prototype.className="Assign_Lex_Literal.Intermediate";Uc.prototype.d=function(b){Pc(this.name,b.q,this.Va)};function Vc(b){Nc.call(this,b)}Vc.prototype=new Nc;Vc.prototype.className="Assign_Lex_Other";
Vc.prototype.d=function(b){Pc(this.name,b.q,rc(b))};Vc.prototype.toString=function(){return"(assign-lex "+this.name+")"};Vc.prototype.Wa=function(b){return"(assign-lex "+this.name+" -> "+this.name.t(b)+")"};function Wc(b){Nc.call(this,b)}Wc.prototype=new Vc;Wc.prototype.className="Assign_Lex_Other.Intermediate";Wc.prototype.d=function(b){Pc(this.name,b.q,Q(b))};function Xc(b,c){Nc.call(this,b);this.value=c}Xc.prototype=new Nc;Xc.prototype.className="Assign_Lex_Stack";
Xc.prototype.d=function(b){var c=this.value.get(b);Pc(this.name,b.q,c);C(b,c)};Xc.prototype.toString=function(){return"(assign-lex "+this.name+" "+this.value+")"};Xc.prototype.Wa=function(b){return"(assign-lex "+this.name+"--\>"+this.name.t(b)+" <-- "+this.value+")"};function Yc(b,c){Xc.call(this,b,c)}Yc.prototype=new Xc;Yc.prototype.className="Assign_Lex_Stack.Intermediate";Yc.prototype.d=function(b){Pc(this.name,b.q,this.value.get(b))};function Zc(b){this.e=j;this.name=b}Zc.prototype=new M;
Zc.prototype.className="Assign_Free";function $c(b,c){Zc.call(this,b);this.value=c}$c.prototype=new Zc;$c.prototype.className="Assign_Free_Free";$c.prototype.d=function(b){var c=this.value.value();this.name.ha(c);C(b,c)};$c.prototype.toString=function(){return"(assign-free-free "+this.name+" "+this.value+")"};function ad(b,c){$c.call(this,b,c)}ad.prototype=new $c;ad.prototype.className="Assign_Free_Free.Intermediate";ad.prototype.d=function(){this.name.ha(this.value.value())};
function bd(b,c){Zc.call(this,b);this.value=c}bd.prototype=new Zc;bd.prototype.className="Assign_Free_Lex";bd.prototype.d=function(b){var c=this.value.t(b.q);this.name.ha(c);C(b,c)};bd.prototype.toString=function(){return"(assign-free-lex "+this.name+" "+this.value+")"};function cd(b,c){bd.call(this,b,c)}cd.prototype=new bd;cd.prototype.className="Assign_Free_Lex.Intermediate";cd.prototype.d=function(b){this.name.ha(this.value.t(b.q))};function dd(b,c){Zc.call(this,b);this.Va=c}dd.prototype=new Zc;
dd.prototype.className="Assign_Free_Literal";dd.prototype.d=function(b){this.name.ha(this.Va);C(b,this.Va)};dd.prototype.toString=function(){return"(assign-free-literal "+this.name+" "+this.Va+")"};function ed(b,c){dd.call(this,b,c)}ed.prototype=new dd;ed.prototype.className="Assign_Free_Literal.Intermediate";ed.prototype.d=function(){this.name.ha(this.Va)};function fd(b){Zc.call(this,b)}fd.prototype=new Zc;fd.prototype.className="Assign_Free_Other";fd.prototype.d=function(b){this.name.ha(rc(b))};
fd.prototype.toString=function(){return"(assign-free-other "+this.name+")"};fd.prototype.Wa=function(){return"(assign-free-other "+this.name+" -> "+(name.bound()?""+name.value():"#unbound#")+")"};function gd(b){Zc.call(this,b)}gd.prototype=new fd;gd.prototype.className="Assign_Free_Other.Intermediate";gd.prototype.d=function(b){this.name.ha(Q(b))};function hd(b,c){Zc.call(this,b);this.value=c}hd.prototype=new Zc;hd.prototype.className="Assign_Free_Stack";
hd.prototype.d=function(b){v=this.value.get(b);this.name.ha(v);C(b,v)};hd.prototype.toString=function(){return"(assign-free-stack "+this.name+" "+this.value+")"};function id(b,c){hd.call(this,b,c)}id.prototype=new hd;id.prototype.className="Assign_Free_Stack.Intermediate";id.prototype.d=function(b){this.name.ha(this.value.get(b))};function jd(b){this.e=j;this.name=b}jd.prototype=new M;jd.prototype.className="Assign_Stack";function kd(b,c){jd.call(this,b);this.value=c}kd.prototype=new jd;
kd.prototype.className="Assign_Stack_Free";kd.prototype.d=function(b){var c=this.value.value();this.name.set(b,c);C(b,c)};kd.prototype.toString=function(){return"(assign-free "+this.name+" "+this.value+")"};function ld(b,c){kd.call(this,b,c)}ld.prototype=new kd;ld.prototype.className="Assign_Stack_Free.Intermediate";ld.prototype.d=function(b){this.name.set(b,this.value.value())};function md(b,c){jd.call(this,b);this.value=c}md.prototype=new jd;md.prototype.className="Assign_Stack_Lex";
md.prototype.d=function(b){var c=this.value.t(b.q);this.name.set(b,c);C(b,c)};md.prototype.toString=function(){return"(assign-free "+this.name+" "+this.value+")"};function nd(b,c){md.call(this,b,c)}nd.prototype=new md;nd.prototype.className="Assign_Stack_Lex.Intermediate";nd.prototype.d=function(b){this.name.set(b,this.value.t(b.q))};function od(b,c){jd.call(this,b);this.value=c}od.prototype=new jd;od.prototype.className="Assign_Stack_Literal";
od.prototype.d=function(b){this.name.set(b,this.value);C(b,this.value)};od.prototype.toString=function(){return"(assign-free "+this.name+" "+this.value+")"};function pd(b,c){od.call(this,b,c)}pd.prototype=new od;pd.prototype.className="Assign_Stack_Literal.Intermediate";pd.prototype.d=function(b){this.name.set(b,this.value)};function qd(b){jd.call(this,b)}qd.prototype=new jd;qd.prototype.className="Assign_Stack_Other";qd.prototype.d=function(b){this.name.set(b,rc(b))};
qd.prototype.toString=function(){return"(assign-stack "+this.name+")"};function rd(b){jd.call(this,b)}rd.prototype=new qd;rd.prototype.className="Assign_Stack_Other.Intermediate";rd.prototype.d=function(b){this.name.set(b,Q(b))};function sd(b,c){jd.call(this,b);this.value=c}sd.prototype=new jd;sd.prototype.className="Assign_Stack_Stack";sd.prototype.d=function(b){var c=this.value.get(b);this.name.set(b,c);C(b,c)};sd.prototype.toString=function(){return"(assign-free "+this.name+" "+this.value+")"};
function td(b,c){sd.call(this,b,c)}td.prototype=new sd;td.prototype.className="Assign_Stack_Stack.Intermediate";td.prototype.d=function(b){this.name.set(b,this.value.get(b))};function ud(b,c){this.e=j;this.G=b;this.Ma=vd(b);this.z=c;this.ka=vd(c)}ud.prototype=new M;ud.prototype.className="Cond";function vd(b){var c=[];b.l(c);return w(c)}ud.prototype.d=function(b){pc(b,Q(b)instanceof y?this.ka:this.Ma)};ud.prototype.j=function(b){M.prototype.j.call(this,b);this.Ma.j(b);this.ka.j(b)};
ud.prototype.toString=function(){return"(cond then:"+this.G+", else:"+this.z+")"};function wd(b,c,d){this.e=j;this.aa=b;this.G=c;this.z=d}t["rainbow.vm.instructions.cond.optimise.If_bound_bound_literal"]=wd;wd.prototype=new M;wd.prototype.className="If_bound_bound_literal";wd.prototype.d=function(b){this.aa.t(b.q)instanceof y?C(b,this.z):C(b,this.G.t(b.q))};
wd.addInstructions=function(b,c,d,f){c instanceof T||g(new TypeError);d instanceof T||g(new TypeError);f instanceof V||g(new TypeError);xd(c,d)?f.k instanceof y?c.l(b):b.push(new yd(c,f.k)):b.push(new wd(c,d,f.k))};wd.prototype.toString=function(){return"(if "+this.aa+" "+this.G+" "+this.z+")"};function yd(b,c){this.e=j;this.Ab=b;this.z=c}yd.prototype=new M;yd.prototype.className="If_bound_bound_literal.Or";yd.prototype.d=function(b){var c=this.Ab.t(b.q);c instanceof y?C(b,this.z):C(b,c)};
yd.prototype.toString=function(){return"(if[bbl$or] "+a+" "+a+" "+elseExpr+")"};function zd(b,c,d){this.e=j;this.aa=b;this.G=c;this.ka=vd(d);this.z=d}t["rainbow.vm.instructions.cond.optimise.If_bound_bound_other"]=zd;zd.prototype=new M;zd.prototype.className="If_bound_bound_other";zd.prototype.d=function(b){this.aa.t(b.q)instanceof y?pc(b,this.ka):C(b,this.G.t(b.q))};
zd.addInstructions=function(b,c,d,f){c instanceof T||g(new TypeError);d instanceof T||g(new TypeError);xd(c,d)?b.push(new Ad(c,f)):b.push(new zd(c,d,f))};zd.prototype.j=function(b){M.prototype.j.call(this,b);this.ka.j(b)};zd.prototype.toString=function(){return"(if "+this.aa+" "+this.G+" "+this.z+")"};function Ad(b,c){this.e=j;this.Ab=b;this.ka=vd(c);this.z=c}Ad.prototype=new M;Ad.prototype.className="If_bound_bound_other.Or";
Ad.prototype.d=function(b){var c=this.Ab.t(b.q);c instanceof y?pc(b,this.ka):C(b,c)};Ad.prototype.j=function(b){M.prototype.j.call(this,b);this.ka.j(b)};Ad.prototype.toString=function(){return"(if "+a+" "+a+" "+elseExpr+")"};function Bd(b,c,d){this.e=j;this.aa=b;this.G=c;this.z=d}t["rainbow.vm.instructions.cond.optimise.If_bound_literal_literal"]=Bd;Bd.prototype=new M;Bd.prototype.className="If_bound_literal_literal";Bd.prototype.d=function(b){this.aa.t(b.q)instanceof y?C(b,this.z):C(b,this.G)};
Bd.prototype.toString=function(){return"(if "+this.aa+" "+this.G+" "+this.z+")"};Bd.addInstructions=function(b,c,d,f){f instanceof V||g(new TypeError);c instanceof T||g(new TypeError);b.push(new Bd(c,d,f.k))};function Cd(b,c,d){this.e=j;this.aa=b;this.G=c;this.Ma=vd(c);this.z=d}t["rainbow.vm.instructions.cond.optimise.If_bound_other_literal"]=Cd;Cd.prototype=new M;Cd.prototype.className="If_bound_other_literal";Cd.prototype.d=function(b){this.aa.t(b.q)instanceof y?C(b,this.z):pc(b,this.Ma)};
Cd.prototype.toString=function(){return"(if "+this.aa+" "+this.G+" "+this.z+")"};Cd.prototype.j=function(b){M.prototype.j.call(this,b);this.Ma.j(b)};Cd.addInstructions=function(b,c,d,f){c instanceof T||g(new TypeError);f instanceof V||g(new TypeError);b.push(new Cd(c,d,f.k))};function Dd(b,c,d){this.e=j;this.aa=b;this.G=c;this.Ma=vd(c);this.z=d;this.ka=vd(d)}t["rainbow.vm.instructions.cond.optimise.If_bound_other_other"]=Dd;Dd.prototype=new M;Dd.prototype.className="If_bound_other_other";
Dd.prototype.d=function(b){this.aa.t(b.q)instanceof y?pc(b,this.ka):pc(b,this.Ma)};Dd.prototype.toString=function(){return"(if "+this.aa+" "+this.G+" "+this.z+")"};Dd.prototype.j=function(b){M.prototype.j.call(this,b);this.Ma.j(b)};Dd.addInstructions=function(b,c,d,f){c instanceof T||g(new TypeError);b.push(new Dd(c,d,f))};function Ed(b,c){this.e=j;this.ka=vd(c);this.G=b;this.z=c}t["rainbow.vm.instructions.cond.optimise.If_other_bound_other"]=Ed;Ed.prototype=new M;Ed.prototype.className="If_other_bound_other";
Ed.prototype.d=function(b){Q(b)instanceof y?pc(b,this.ka):C(b,this.G.t(b.q))};Ed.prototype.toString=function(){return"(if ? "+this.G+" "+this.z+")"};Ed.prototype.j=function(b){M.prototype.j.call(this,b);this.ka.j(b)};Ed.addInstructions=function(b,c,d,f){c.l(b);d instanceof T||g(new TypeError);b.push(new Ed(d,f))};function Fd(b,c){this.e=j;this.Ma=vd(b);this.G=b;this.z=c}t["rainbow.vm.instructions.cond.optimise.If_other_other_literal"]=Fd;Fd.prototype=new M;Fd.prototype.className="If_other_other_literal";
Fd.prototype.d=function(b){Q(b)instanceof y?C(b,this.z):pc(b,this.Ma)};Fd.prototype.toString=function(){return"(if ? "+this.G+" "+this.z+")"};Fd.prototype.j=function(b){M.prototype.j.call(this,b);this.Ma.j(b)};Fd.addInstructions=function(b,c,d,f){f instanceof V||g(new TypeError);c.l(b);b.push(new Fd(d,f.k))};function Gd(b,c){this.e=j;this.G=b;this.z=c}t["rainbow.vm.instructions.cond.optimise.If_other_stack_literal"]=Gd;Gd.prototype=new M;Gd.prototype.className="If_other_stack_literal";
Gd.prototype.d=function(b){Q(b)instanceof y?C(b,this.z):C(b,this.G.get(b))};Gd.prototype.toString=function(){return"(if ? "+this.G+" "+this.z+")"};Gd.addInstructions=function(b,c,d,f){f instanceof V||g(new TypeError);c.l(b);d instanceof W||g(new TypeError);b.push(new Gd(d,f.k))};function Hd(b,c){this.e=j;this.G=b;this.ka=vd(c);this.z=c}t["rainbow.vm.instructions.cond.optimise.If_other_stack_other"]=Hd;Hd.prototype=new M;Hd.prototype.className="If_other_stack_other";
Hd.prototype.d=function(b){Q(b)instanceof y?pc(b,this.ka):C(b,this.G.get(b))};Hd.prototype.toString=function(){return"(if ? "+this.G+" "+this.z+")"};Hd.prototype.j=function(b){M.prototype.j.call(this,b);this.ka.j(b)};Hd.addInstructions=function(b,c,d,f){c.l(b);d instanceof W||g(new TypeError);b.push(new Hd(d,f))};function Id(b,c,d){this.aa=b;this.G=c;this.z=d}t["rainbow.vm.instructions.cond.optimise.If_stack_literal_free"]=Id;Id.prototype=new M;Id.prototype.className="If_stack_literal_free";
Id.prototype.d=function(b){this.aa.get(b)instanceof y?C(b,this.z.value()):C(b,this.G)};Id.prototype.toString=function(){return"(if "+this.aa+" "+this.G+" "+this.z+")"};Id.addInstructions=function(b,c,d,f){c instanceof W||g(new TypeError);f instanceof V||g(new TypeError);f=f.k;f instanceof L||g(new TypeError);b.push(new Id(c,d,f))};function Jd(b,c,d){this.e=j;this.aa=b;this.G=c;this.z=d}t["rainbow.vm.instructions.cond.optimise.If_stack_stack_literal"]=Jd;Jd.prototype=new M;Jd.prototype.className="If_stack_stack_literal";
Jd.prototype.d=function(b){this.aa.get(b)instanceof y?C(b,this.z):C(b,this.G.get(b))};Jd.prototype.toString=function(){return"(if "+this.aa+" "+this.G+" "+this.z+")"};Jd.addInstructions=function(b,c,d,f){c instanceof W||g(new TypeError);d instanceof W||g(new TypeError);f instanceof V||g(new TypeError);Kd(c,d)?f.k instanceof y?c.l(b):b.push(new Ld(c,f.k)):b.push(new Jd(c,d,f.k))};function Ld(b,c){this.e=j;this.Ab=b;this.z=c}Ld.prototype=new M;Ld.prototype.className="If_stack_stack_literal.Or";
Ld.prototype.d=function(b){var c=this.Ab.get(b);c instanceof y?C(b,this.z):C(b,c)};Ld.prototype.toString=function(){return"(if[ssl$or] "+a+" "+a+" "+elseExpr+")"};function Md(b){this.e=j;this.p=b}Md.prototype=new M;q=Md.prototype;q.la=!0;q.className="Invoke_0.Lex";q.d=function(b){this.p.t(b.q).f(b,B)};q.toString=function(){return"(invoke "+this.p+")"};q.oa=function(b){return this.p.t(b.q)};function Nd(b){this.e=j;this.p=b}Nd.prototype=new M;q=Nd.prototype;q.la=!0;q.className="Invoke_0.Free";
q.d=function(b){this.p.value().f(b,B)};q.toString=function(){return"(invoke "+this.p+")"};q.oa=function(){return this.p.value()};function Od(){this.e=j}Od.prototype=new M;q=Od.prototype;q.la=!0;q.className="Invoke_0.Other";q.d=function(b){Q(b).f(b,B)};q.toString=n("(invoke <0>)");q.oa=function(b){return rc(b)};function Pd(b){this.e=j;this.p=b}Pd.prototype=new M;q=Pd.prototype;q.la=!0;q.className="Invoke_1.Lex";q.d=function(b){this.p.t(b.q).f(b,new A(Q(b),B))};
q.toString=function(){return"(invoke "+this.p+" <1>)"};q.oa=function(b){return this.p.t(b.q)};function Qd(b){this.e=j;this.p=b}Qd.prototype=new M;q=Qd.prototype;q.la=!0;q.className="Invoke_1.Free";q.d=function(b){this.p.value().f(b,new A(Q(b),B))};q.toString=function(){return"(invoke "+this.p+" <1>)"};q.oa=function(){return this.p.value()};function Rd(){this.e=j}Rd.prototype=new M;q=Rd.prototype;q.la=!0;q.className="Invoke_1.Other";q.d=function(b){Q(b).f(b,new A(Q(b),B))};q.toString=n("(invoke <1>)");
q.oa=function(b){return rc(b)};function Sd(b){this.e=j;this.p=b}Sd.prototype=new M;q=Sd.prototype;q.la=!0;q.className="Invoke_2.Lex";q.d=function(b){var c=Q(b),d=Q(b);this.p.t(b.q).f(b,new A(d,new A(c,B)))};q.toString=function(){return"(invoke "+this.p+" <2>)"};q.Wa=function(b){return"(invoke "+this.p+" -> "+this.p.t(b)+" <2>)"};q.oa=function(b){return this.p.t(b.q)};function Td(b){this.e=j;this.p=b}Td.prototype=new M;q=Td.prototype;q.la=!0;q.className="Invoke_2.Free";
q.d=function(b){var c=Q(b),d=Q(b);this.p.value().f(b,new A(d,new A(c,B)))};q.toString=function(){return"(invoke_2:free "+this.p+" <2>)"};q.Wa=function(){return"(invoke_2:free "+this.p+" -> "+this.p.value()+" <2>)"};q.oa=function(){return this.p.value()};function Ud(){this.e=j}Ud.prototype=new M;q=Ud.prototype;q.la=!0;q.className="Invoke_2.Other";q.d=function(b){var c=Q(b),d=Q(b),f=Q(b);try{c.f(b,new A(f,new A(d,B)))}catch(h){h instanceof Error||g(h),oa(h)}};q.toString=n("(invoke <2>)");q.oa=function(b){return rc(b)};
function Vd(b){this.e=j;this.p=b}Vd.prototype=new M;q=Vd.prototype;q.la=!0;q.className="Invoke_3.Lex";q.d=function(b){var c=Q(b),d=Q(b),f=Q(b);this.p.t(b.q).f(b,new A(f,new A(d,new A(c,B))))};q.toString=function(){return"(invoke "+this.p+" <3>)"};q.oa=function(b){return this.p.t(b.q)};function Wd(b){this.e=j;this.p=b}Wd.prototype=new M;q=Wd.prototype;q.la=!0;q.className="Invoke_3.Free";q.d=function(b){var c=Q(b),d=Q(b),f=Q(b);this.p.value().f(b,new A(f,new A(d,new A(c,B))))};
q.toString=function(){return"(invoke_3:free "+this.p+" <3>)"};q.oa=function(){return this.p.value()};function Xd(){this.e=j}Xd.prototype=new M;q=Xd.prototype;q.la=!0;q.className="Invoke_3.Other";q.d=function(b){var c=Q(b),d=Q(b),f=Q(b),h=Q(b);c.f(b,new A(h,new A(f,new A(d,B))))};q.toString=n("(invoke <3>)");q.oa=function(b){return rc(b)};function Yd(b,c){this.e=j;this.p=b;this.Xa=c}Yd.prototype=new M;q=Yd.prototype;q.la=!0;q.className="Invoke_N.Lex";q.d=function(b){this.p.t(b.q).f(b,tc(b,this.Xa))};
q.toString=function(){return"(invoke "+this.p+" <"+this.Xa+">)"};q.oa=function(b){return this.p.t(b.q)};function Zd(b,c){this.e=j;this.p=b;this.Xa=c}Zd.prototype=new M;q=Zd.prototype;q.la=!0;q.className="Invoke_N.Free";q.d=function(b){this.p.value().f(b,tc(b,this.Xa))};q.toString=function(){return"(invoke "+this.p+" <"+this.Xa+">)"};q.oa=function(){return this.p.value()};function xa(b){this.e=j;this.Xa=b}xa.prototype=new M;q=xa.prototype;q.la=!0;q.className="Invoke_N.Other";
q.d=function(b){Q(b).f(b,tc(b,this.Xa))};q.toString=function(){return"(invoke <"+this.Xa+">)"};q.oa=function(b){return rc(b)};function W(b,c){this.name=b;this.ab=c}W.prototype=new x;q=W.prototype;q.className="StackSymbol";q.get=function(b){return b.Eb[this.ab]};q.set=function(b,c){b.ma[b.g][this.ab]=c};q.l=function(b){b.push(new Lc(this.name,this.ab))};q.type=function(){return J("stack-symbol")};q.toString=function(){return this.name.toString()};
function Kd(b,c){return b.name===c.name&&b.ab===c.ab}q.Q=function(b,c,d){return Kd(this,b)?c:d<this.ab?new W(this.name,this.index-1):this};function T(b,c,d){this.Ja=c;this.index=d;this.name=b}T.prototype=new x;q=T.prototype;q.className="BoundSymbol";function Pc(b,c,d){c.vb(b.Ja).set(b.index,d)}q.t=function(b){for(var c=this.Ja;0<c;)b=b.parent,c--;return b.Za[this.index]};q.l=function(b){b.push(new Gc(this))};q.type=function(){return $d};q.toString=function(){return this.name.toString()};
function xd(b,c){return b.Ja===c.Ja&&b.name===c.name&&b.index===c.index}q.L=function(b){return b<=this.Ja?new T(this.name,this.Ja+1,this.index):this};function ae(b){return new T(b.name,b.Ja-1,b.index)}q.R=function(b,c,d,f,h){return xd(this,b)?c:d?(this.Ja===0&&g(new r("can't unnest "+this+", looking for "+b+" to inline with "+c)),ae(this)):f===this.Ja&&h<this.index?new T(this.name,this.Ja,this.index-1):this};q.j=function(b){b.mc(this)};
q.W=function(b){b=b[this.name.name()];if(b===i)return ae(this);else if(b===this.index)return new W(this.name,b);else g(new r("error: parameter index mismatch: expected "+b+", got "+this.index))};var $d=J("bound-symbol");function be(b){this.A=this.name=j;this.Ka=b}be.prototype=new x;q=be.prototype;q.className="SingleAssignment";q.Ga=function(b){this.name===j?b instanceof L||b instanceof T?this.name=b:g(new r("assign: can't assign to "+b)):this.A===j?this.A=b:this.Ka.Ga(b)};
q.toString=function(){return""+this.name+" "+this.A};q.l=function(b){ce(this,b,!1);this.Ka.l(b)};
function ce(b,c,d){if(b.name instanceof T){var f=b.name,b=b.A;b instanceof T?d?c.push(new Rc(f,b)):c.push(new Sc(f,b)):b instanceof W?d?c.push(new Xc(f,b)):c.push(new Yc(f,b)):b instanceof L?d?c.push(new Oc(f,b)):c.push(new Qc(f,b)):b.Ca()?d?c.push(new Tc(f,b)):c.push(new Uc(f,b)):b instanceof fe?(b=b.yb,d?c.push(new Tc(f,b)):c.push(new Uc(f,b))):(b.l(c),d?c.push(new Vc(f)):c.push(new Wc(f)))}else b.name instanceof W?(f=b.name,b=b.A,b instanceof T?d?c.push(new md(f,b)):c.push(new nd(f,b)):b instanceof
W?d?c.push(new sd(f,b)):c.push(new td(f,b)):b instanceof L?d?c.push(new kd(f,b)):c.push(new ld(f,b)):b.Ca()?d?c.push(new od(f,b)):c.push(new pd(f,b)):b instanceof fe?(b=b.yb,d?c.push(new od(f,b)):c.push(new pd(f,b))):(b.l(c),d?c.push(new qd(f)):c.push(new rd(f)))):b.name instanceof L?(f=b.name,b=b.A,b instanceof T?d?c.push(new bd(f,b)):c.push(new cd(f,b)):b instanceof W?d?c.push(new hd(f,b)):c.push(new id(f,b)):b instanceof L?d?c.push(new $c(f,b)):c.push(new ad(f,b)):b.Ca()?d?c.push(new dd(f,b)):
c.push(new ed(f,b)):b instanceof fe?(b=b.yb,d?c.push(new dd(f,b)):c.push(new ed(f,b))):(b.l(c),d?c.push(new fd(f)):c.push(new gd(f)))):g(new r("what kind of symbol is "+b.name+"??"))}q.type=function(){return J("assignment")};q.da=n(!0);q.V=function(){return this.A instanceof Y?ge(this.A)||this.Ka.V():this.A.V()||this.Ka.V()};
q.R=function(b,c,d,f,h){var k=new be(j);this.name instanceof T&&xd(b,this.name)&&g(new r("Can't inline "+b+" -> "+c+"; assignment"));k.name=this.name;k.A=this.A.R(b,c,d,f,h);k.Ka=this.vd(b,c,d,f,h);return k};q.Q=function(b,c,d){var f=new be(j);this.name instanceof W&&Kd(b,this.name)&&g(new r("Can't inline "+b+" -> "+c+"; assignment"));f.name=this.name;f.A=this.A.Q(b,c,d);f.Ka=this.ud(b,c,d);return f};q.L=function(b){var c=new be(j);c.name=this.name.L(b);c.A=this.A.L(b);c.Ka=this.Ka.L(b);return c};
q.W=function(b){var c=new be(j);c.name=this.name.W(b);c.A=this.A.W(b);b=this.Ka.W(b);b instanceof be||g(new TypeError);c.Ka=b;return c};q.j=function(b){b.ra(this);this.name.j(b);this.A.j(b);this.Ka.j(b);b.Ea(this)};function he(){be.call(this,j)}he.prototype=new be(j);q=he.prototype;q.className="LastAssignment";q.Ga=function(b){this.name===j?b instanceof L||b instanceof T?this.name=b:g(new r("assign: can't assign to "+b)):this.A===j?this.A=b:g(new r("assign: error: unexpected "+b))};
q.toString=function(){return""+this.name+" "+this.A};q.l=function(b){ce(this,b,!0)};q.V=function(){return this.A instanceof Y?ge(this.A):this.A.V()};q.R=function(b,c,d,f,h){var k=new he;this.name instanceof T&&xd(b,this.name)&&g(new r("Can't inline "+b+" -> "+c+"; assignment"));k.name=this.name.R(b,c,d,f,h);k.A=this.A.R(b,c,d,f,h);return k};
q.Q=function(b,c,d){var f=new he;this.name instanceof W&&Kd(b,this.name)&&g(new r("Can't inline "+b+" -> "+c+"; assignment"));f.name=this.name.Q(b,c,d);f.A=this.A.Q(b,c,d);return f};q.L=function(b){var c=new he;c.name=this.name.L(b);c.A=this.A.L(b);return c};q.W=function(b){var c=new he;c.name=this.name.W(b);c.A=this.A.W(b);return c};q.j=function(b){b.ra(this);this.name.j(b);this.A.j(b);b.Ea(this)};function ie(){this.Y=j}ie.prototype=new x;q=ie.prototype;q.className="Assignment";q.type=function(){return J("assignment")};
q.Ga=function(b){this.Y.Ga(b)};q.l=function(b){this.Y.l(b)};q.toString=function(){return"(assign "+this.Y+")"};q.da=function(b){return this.Y.da(b)};q.V=function(){return this.Y.V()};q.R=function(b,c,d,f,h){var k=new ie;k.Y=this.Y.R(b,c,d,f,h);return k};q.Q=function(b,c,d){var f=new ie;f.Y=this.Y.Q(b,c,d);return f};q.L=function(b){var c=new ie;c.Y=this.Y.L(b);return c};q.j=function(b){b.ra(this);this.Y.j(b);b.Ea(this)};
q.W=function(b){var c=new ie,b=this.Y.W(b);b instanceof be||g(new TypeError);c.Y=b;return c};function V(){this.k=j}V.prototype=new x;q=V.prototype;q.Fa=!0;q.className="Else";q.type=function(){return J("else-clause")};q.add=function(b){g(new r("Internal error: if clause: unexpected extra condition: "+b))};q.Ga=function(b){this.k===j?this.k=b:g(new r("Internal error: if clause: unexpected: "+b))};q.l=function(b){this.k.l(b)};q.reduce=function(){return this};q.toString=function(){return""+this.k};
q.da=function(b){return this.k.da(b)};q.V=function(){return this.k instanceof Y?ge(this.k):this.k.V()};q.R=function(b,c,d,f,h){var k=new V;k.k=this.k.R(b,c,d,f,h).reduce();return k};q.Q=function(b,c,d){var f=new V;f.k=this.k.Q(b,c,d).reduce();return f};q.L=function(b){var c=new V;c.k=this.k.L(b);return c};q.W=function(b){var c=new V;c.k=this.k.W(b);return c};q.j=function(b){b.ra(this);this.k.j(b);b.Ea(this)};q.gc=function(){return"_"+je(this.k)};function ke(){this.X=j}ke.prototype=new x;q=ke.prototype;
q.className="IfClause";q.type=function(){return le};q.append=function(b){this.X!==j?this.X.add(b):this.X=b};q.reduce=function(){var b=this.X.reduce();b.Fa||g(new TypeError);this.X=b;return b instanceof V?b.k:this};q.Ga=function(b){this.X.Ga(b)};q.l=function(b){this.X.l(b)};q.toString=function(){return"(if "+this.X+")"};q.da=function(b){return this.X.da(b)};q.V=function(){return this.X.V()};q.R=function(b,c,d,f,h){var k=new ke,b=this.X.R(b,c,d,f,h).reduce();b.Fa||g(new TypeError);k.X=b;return k};
q.Q=function(b,c,d){var f=new ke,b=this.X.Q(b,c,d).reduce();b.Fa||g(new TypeError);f.X=b;return f};q.L=function(b){var c=new ke,b=this.X.L(b);b.Fa||g(new TypeError);c.X=b;return c};q.W=function(b){var c=new ke,b=this.X.W(b);b.Fa||g(new TypeError);c.X=b;return c};q.j=function(b){b.ra(this);this.X.j(b);b.Ea(this)};q.P=function(){var b=this.X;b instanceof me||g(new TypeError);return b.P};var le=J("if-clause");function me(){this.next=this.P=this.k=j}me.prototype=new x;q=me.prototype;q.Fa=!0;
q.className="IfThen";q.type=function(){return J("if-then-clause")};q.add=function(b){this.next!==j?this.next.add(b):this.next=b};q.Ga=function(b){this.k===j?this.k=b:this.P===j?this.P=b:this.next.Ga(b)};
q.l=function(b){var c=this.gc(),d="rainbow.vm.instructions.cond.optimise.If"+c;try{if(d in ne){var f=ne[d];f===j?this.oc(b,c):f(b,this.k,this.P,this.next)}else{var h=t[d];if(h===i)ne[d]=j;else{var k=h.addInstructions;k===i&&g(new r("couldn't find handler method 'addInstructions(List,ArcObject,ArcObject,ArcObject) on "+d));ne[d]=k}this.l(b)}}catch(o){o instanceof Error||g(o),g(new r("Couldn't instantiate "+d+": "+o,o))}};q.oc=function(b){this.k.l(b);b.push(new ud(this.P,this.next))};
q.reduce=function(){var b=this.next.reduce();b.Fa||g(new TypeError);this.next=b;if(this.k instanceof y)return this.next;else{!(this.k instanceof T)||!(this.P instanceof T)||!(this.next instanceof V)?b=!1:(b=this.next,b=xd(this.k,this.P)&&b.k instanceof y);if(!b)!(this.k instanceof W)||!(this.P instanceof W)||!(this.next instanceof V)?b=!1:(b=this.next,b=Kd(this.k,this.P)&&b.k instanceof y);return b?(b=new V,b.Ga(this.k),b):this}};q.toString=function(){return""+this.k+" "+this.P+" "+this.next};
q.da=function(b){return this.k.da(b)||this.P.da(b)||this.next.da(b)};q.V=function(){return this.k instanceof Y&&ge(this.k)?!0:this.P instanceof Y&&ge(this.P)?!0:this.k.V()||this.P.V()||this.next.V()};q.R=function(b,c,d,f,h){var k=new me;k.k=this.k.R(b,c,d,f,h).reduce();k.P=this.P.R(b,c,d,f,h).reduce();b=this.next.R(b,c,d,f,h).reduce();b.Fa||g(new TypeError);k.next=b;return k};
q.Q=function(b,c,d){var f=new me;f.k=this.k.Q(b,c,d).reduce();f.P=this.P.Q(b,c,d).reduce();b=this.next.Q(b,c,d).reduce();b.Fa||g(new TypeError);f.next=b;return f};q.L=function(b){var c=new me;c.k=this.k.L(b);c.P=this.P.L(b);b=this.next.L(b);b.Fa||g(new TypeError);c.next=b;return c};q.W=function(b){var c=new me;c.k=this.k.W(b);c.P=this.P.W(b);b=this.next.W(b);b.Fa||g(new TypeError);c.next=b;return c};q.j=function(b){b.ra(this);this.k.j(b);this.P.j(b);this.next.j(b);b.Ea(this)};
q.gc=function(){var b="";b+="_";b+=je(this.k);b+="_";b+=je(this.P);this.next instanceof V?(b+="_",b+=je(this.next.k)):b+="_other";return b};var ne={};function fe(b){this.yb=b}fe.prototype=new x;q=fe.prototype;q.className="Quotation";q.l=function(b){b.push(new E(this.yb))};q.type=function(){return J("quotation")};q.t=m("yb");q.toString=function(){return"'"+this.yb};function oe(b){this.w=b;this.Tb={}}oe.prototype=new x;q=oe.prototype;q.className="Invocation";q.type=function(){return J("if-then-clause")};
q.toString=function(){return(this.w.a()instanceof Y?pe(qe(this.w)):this.w).toString()};q.l=function(b){var c;this.w.ga()===1&&this.w.a()instanceof re?(se(this.w.a(),b),c=!0):c=!1;c||te(this,b)||this.oc(b)};
q.reduce=function(){if(this.w.$b(1)&&this.w.a()instanceof Y){var b=this.w.a(),c=b.v;if(c.M()||!(c.a()instanceof L))return this;var c=c.a(),d=this.w.b().a();if(b.eb(c,d)){try{var f=b.gb(c,d,!0)}catch(h){h instanceof Error||g(h),g(new r("couldn't curry "+c+"->"+d+" for "+b+" in expression "+this+": "+h,h))}return(new oe(new A(f,this.w.b().b()))).reduce()}}return this};
function te(b,c){for(var d="",f=b.w;!(f instanceof y);)d+="_",d+=je(f.a()),f=f.b(),f instanceof A||g(new TypeError);d="rainbow.vm.instructions.invoke.optimise.Invoke"+d;if(d in b.Tb){f=b.Tb[d];if(f===j)return!1;try{var h=new f(b.w),k=b.w.b();for(k instanceof A||g(new TypeError);!(k instanceof y);)b.gc(k.a())==="other"&&k.a().l(c),k=k.b(),k instanceof A||g(new TypeError);b.gc(b.w.a())==="other"&&b.w.a().l(c);c.push(h);return!0}catch(o){o instanceof Error||g(o),g(new r("couldn't create optimiser "+
d,o))}}else{h=t[d];if(h===i)return b.Tb[d]=j,!1;b.Tb[d]=h;return te(b,c)}}function je(b){return b instanceof T?"bound":b instanceof L?"free":b instanceof W?"stack":b.Ca()?"literal":b instanceof fe?"quote":"other"}
q.oc=function(b){switch(this.w.ga()){case 1:var c=this.w.a();c instanceof T?b.push(new Md(c)):c instanceof L?b.push(new Nd(c)):(c.l(b),b.push(new Od));break;case 2:c=this.w.a();this.w.b().a().l(b);c instanceof T?b.push(new Pd(c)):c instanceof L?b.push(new Qd(c)):(c.l(b),b.push(new Rd));break;case 3:var c=this.w.a(),d=this.w.b().a(),f=this.w.b().b().a();d.l(b);f.l(b);c instanceof T?b.push(new Sd(c)):c instanceof L?b.push(new Td(c)):(c.l(b),b.push(new Ud));break;case 4:var c=this.w.a(),d=this.w.b().a(),
f=this.w.b().b().a(),h=this.w.b().b().b().a();d.l(b);f.l(b);h.l(b);c instanceof T?b.push(new Vd(c)):c instanceof L?b.push(new Wd(c)):(c.l(b),b.push(new Xd));break;default:c=this.w.a();d=this.w.b();d instanceof A||g(new TypeError);for(f=d.ga();!(d instanceof y);)d.a().l(b),d=d.b(),d instanceof A||g(new TypeError);c instanceof T?b.push(new Yd(c,f)):c instanceof L?b.push(new Zd(c,f)):(c.l(b),b.push(new xa(f)))}return!0};
q.da=function(b){for(var c=this.w;!(c instanceof y);){if(c.a().da(b))return!0;c=c.b();c instanceof A||g(new TypeError)}return!1};q.V=function(){for(var b=this.w;!(b instanceof y);){if(b.a()instanceof Y){if(ge(b.a()))return!0}else if(b.a().V())return!0;b=b.b();b instanceof A||g(new TypeError)}return!1};
q.R=function(b,c,d,f,h){for(var k=this.w,o=[];!(k instanceof y);){try{o.push(k.a().R(b,c,d,f,h))}catch(p){p instanceof Error||g(p),g(new r("couldn't inline "+b+"->"+c+"(unnest:"+d+";nesting:"+f+") in "+this+" : "+p,p))}k=k.b();k instanceof A||g(new TypeError)}return new oe(w(o))};q.Q=function(b,c,d){for(var f=this.w,h=[];!(f instanceof y);){try{h.push(f.a().Q(b,c,d))}catch(k){k instanceof Error||g(k),g(new r("couldn't inline "+b+"->"+c+") in "+this+" : "+k,k))}f=f.b();f instanceof A||g(new TypeError)}return new oe(w(h))};
q.L=function(b){for(var c=this.w,d=[];!(c instanceof y);)d.push(c.a().L(b)),c=c.b(),c instanceof A||g(new TypeError);return new oe(w(d))};q.W=function(b){for(var c=this.w,d=[];!(c instanceof y);)d.push(c.a().W(b)),c=c.b(),c instanceof A||g(new TypeError);return new oe(w(d))};q.j=function(b){b.ra(this);for(var c=this.w;!(c instanceof y);)c.a().j(b),c=c.b(),c instanceof A||g(new TypeError);b.Ea(this)};function ue(b){this.Da=b}ue.prototype=new x;q=ue.prototype;q.className="QuasiQuotation";q.type=function(){return J("quasiquotation")};
q.l=function(b){ve(this,b,this.Da,1)};q.toString=function(){return"`"+this.Da};function we(b){var c=[];xe(b,c,b.Da,1);return c}function xe(b,c,d,f){if(Z(d))f===1?c.push(d.b().a()):xe(b,c,d.b().a(),f-1);else if(ye(d))f===1?c.push(d.b().a()):xe(b,c,d.b().a(),f-1);else if(ze(d))xe(b,c,d.b().a(),f+1);else if(!d.M())for(;!d.M();)if(Z(d)||ze(d))xe(b,c,d,f),d=d.b().b();else{var h=d.a(),d=d.b();ye(h)?xe(b,c,h,f):(Z(h)||ze(h)||Ae(h))&&xe(b,c,h,f)}}
function ve(b,c,d,f){if(Z(d))f===1?d.b().a().l(c):(c.push(new E(Be)),ve(b,c,d.b().a(),f-1),c.push(new Hc(2)));else if(ye(d))f===1?(d.b().a().l(c),c.push(new zc)):(c.push(new E(Ce)),ve(b,c,d.b().a(),f-1),c.push(new Hc(2)),c.push(new yc));else if(ze(d))c.push(new E(De)),ve(b,c,d.b().a(),f+1),c.push(new Hc(2));else if(d.M())c.push(new E(d));else{for(c.push(new Ic);!d.M();)if(Z(d)||ze(d))ve(b,c,d,f),d=d.b().b(),c.push(new Ac);else{var h=d.a(),d=d.b();ye(h)?ve(b,c,h,f):(Z(h)||ze(h)||Ae(h)?ve(b,c,h,f):
c.push(new E(h)),c.push(new yc))}d instanceof y||(c.push(new E(d)),c.push(new Ac));c.push(new Fc)}}function Ee(b,c){return b instanceof A&&b.sc(c)&&b.b().b()instanceof y}function Z(b){return Ee(b,Be)}function ye(b){return Ee(b,Ce)}function ze(b){return Ee(b,De)}function Ae(b){return b instanceof A}q.da=function(b){for(var c=we(this),d=0,f=c.length;d<f;d++)if(c[d].da(b))return!0;return!1};q.V=function(){for(var b=we(this),c=0,d=b.length;c<d;c++){var f=b[c];if(f instanceof Y){if(ge(f))return!0}else if(f.V())return!0}return!1};
q.R=function(b,c,d,f,h){return new ue(Fe(b,c,d,f,h,this.Da,1))};
function Fe(b,c,d,f,h,k,o){if(Z(k))return o===1?w([Be,k.b().a().R(b,c,d,f,h)]):w([Be,Fe(b,c,d,f,h,k.b().a(),o-1)]);else if(ye(k))return o===1?w([Ce,k.b().a().R(b,c,d,f,h)]):w([Ce,Fe(b,c,d,f,h,k.b().a(),o-1)]);else if(ze(k))return w([De,Fe(b,c,d,f,h,k.b().a(),o+1)]);else if(k.M())return k;for(var p=[],z=B;!k.M();)if(Z(k)||ze(k))z=Fe(b,c,d,f,h,k,o),k=k.b().b();else{var K=k.a(),k=k.b();ye(K)?p.push(Fe(b,c,d,f,h,K,o)):Z(K)||ze(K)||Ae(K)?p.push(Fe(b,c,d,f,h,K,o)):p.push(K)}k instanceof y||(z=k);return ab(p,
z)}q.Q=function(b,c,d){return new ue(Ge(b,c,d,this.Da,1))};
function Ge(b,c,d,f,h){if(Z(f))return h===1?w([Be,f.b().a().Q(b,c,d)]):w([Be,Fe(b,c,d,f.b().a(),h-1)]);else if(ye(f))return h===1?w([Ce,f.b().a().Q(b,c,d)]):w([Ce,Ge(b,c,d,f.b().a(),h-1)]);else if(ze(f))return w([De,Ge(b,c,d,f.b().a(),h+1)]);else if(f.M())return f;for(var k=[],o=B;!f.M();)if(Z(f)||ze(f))o=Ge(b,c,d,f,h),f=f.b().b();else{var p=f.a(),f=f.b();ye(p)?k.push(Ge(b,c,d,p,h)):Z(p)||ze(p)||Ae(p)?k.push(Ge(b,c,d,p,h)):k.push(p)}f instanceof y||(o=f);return ab(k,o)}
q.L=function(b){return new ue(He(b,this.Da,1))};function He(b,c,d){if(Z(c))return d===1?w([Be,c.b().a().L(b)]):w([Be,He(b,c.b().a(),d-1)]);else if(ye(c))return d===1?w([Ce,c.b().a().L(b)]):w([Ce,He(b,c.b().a(),d-1)]);else if(ze(c))return w([De,He(b,c.b().a(),d+1)]);else if(c.M())return c;for(var f=[],h=B;!c.M();)if(Z(c)||ze(c))h=He(b,c,d),c=c.b().b();else{var k=c.a(),c=c.b();ye(k)||Z(k)||ze(k)||Ae(k)?f.push(He(b,k,d)):f.push(k)}c instanceof y||(h=c);return ab(f,h)}
q.W=function(b){return new ue(Ie(b,this.Da,1))};function Ie(b,c,d){if(Z(c))return d===1?w([Be,c.b().a().W(b)]):w([Be,Ie(b,c.b().a(),d-1)]);else if(ye(c))return d===1?w([Ce,c.b().a().W(b)]):w([Ce,Ie(b,c.b().a(),d-1)]);else if(ze(c))return w([De,Ie(b,c.b().a(),d+1)]);else if(c.M())return c;for(var f=[],h=B;!c.M();)if(Z(c)||ze(c))h=Ie(b,c,d),c=c.b().b();else{var k=c.a(),c=c.b();ye(k)||Z(k)||ze(k)||Ae(k)?f.push(Ie(b,k,d)):f.push(k)}c instanceof y||(h=c);return ab(f,h)}
q.j=function(b){b.ra(this);for(var c=we(this),d=0,f=c.length;d<f;d++)c[d].j(b);b.Ea(this)};function Je(){}q=Je.prototype;q.ra=l();q.Ea=l();q.Pb=function(b){this.ra(b)};q.mc=function(b){this.ra(b)};q.Ob=function(b){this.ra(b)};q.Vb=function(b){this.Ea(b)};function Ke(b){this.Ib=new A(b,B)}Ke.prototype=new Je;Ke.prototype.Pb=function(b){b.n(this.Ib.a());this.Ib=new A(b,this.Ib)};Ke.prototype.Vb=function(){this.Ib=this.Ib.b()};function Le(){this.ob=[];this.yc=[];this.lb=0;this.xc=-1}Le.prototype=new Je;
q=Le.prototype;q.Pb=function(b){b.Hb()&&this.lb++};q.ra=l();q.Ea=l();q.Vb=function(b){b.Hb()&&this.lb--};q.mc=function(b){b=b.Ja-this.lb;if(this.xc<b)this.xc=b};function Me(b){this.ob=[];this.yc=[];this.Da=b}Me.prototype=new Je;q=Me.prototype;q.count=function(){return this.yc.length};q.Pb=function(b){this.ob.unshift(b);if(b.Hb())this.Da=this.Da.L(0)};q.ra=function(b){this.ob.unshift(b)};q.Ea=function(){this.ob.shift()};q.Vb=function(b){this.ob.shift();if(b.Hb())this.Da=ae(this.Da)};
q.mc=function(b){xd(b,this.Da)&&0<this.ob.length&&this.yc.push(this.ob[0])};function Ne(){this.name=this.target=j;this.Tc=this.$c=this.Zc=0;this.children=[];this.parent=j;this.Vc={};this.Uc={}}function Oe(b,c){var d=c.La(),f=b[d];if(f===i&&(f=new Ne,f.target=c,f.name=d,b[d]=f,c instanceof Y&&(d=c.Zb,d!==j)))d=Oe(b,d),d.children.push(f),f.parent=d;return f}function Pe(b){this.target=b;this.count=0;this.key=b.La()}function Qe(b,c){var d=b[c.La()];d===i&&(d=new Pe(c),b[d.key]=d);return d}
function Re(){this.rc={};this.qd={};this.tc=j;this.now=0}function Se(){}Se.prototype.$a=i;Se.prototype.end=i;Se.prototype.tb=i;function Te(b){b.show();var c=prompt("q to resume execution, f to skip to the end of this frame, any other key to step");if(c!==j)if(/^q$/i.test(c))uc(b,ic);else if(/^f$/i.test(c))b.Ec=b.g-1,uc(b,Ue)}function Ve(){}Ve.prototype=new Se;Ve.prototype.$a=l();Ve.prototype.end=l();Ve.prototype.tb=l();var ic=new Ve;function We(){}We.prototype=new Se;We.prototype.$a=function(b){Te(b)};
We.prototype.end=function(b){na("VM thread finished: returning.");Te(b)};We.prototype.tb=l();var Xe=new We;function Ye(){}Ye.prototype=new Se;Ye.prototype.$a=function(b){b.Ub=!0;for(var c=[],d=[];0<=b.g;)lc(b).a().Fb&&(c.push(lc(b)),d.push(b.fa[b.g])),b.g--;for(var f=c.length-1;0<=f;f--)R(b,d[f],c[f])};Ye.prototype.end=l();Ye.prototype.tb=l();var Ze=new Ye;function $e(){}$e.prototype=new Se;$e.prototype.$a=function(b){b.g<=b.Ec&&uc(b,Xe)};$e.prototype.end=l();$e.prototype.tb=l();var Ue=new $e;
function af(){}af.prototype=new Se;af.prototype.$a=function(b){var c=b.Qa.tc;if(c!==j){var d=Oe(b.Qa.rc,c),c=(new Date).getTime()*1E6-b.Qa.now;d.$c+=c;d.Tc+=c;for(d=d.parent;d!==j;)d.Tc+=c,d=d.parent}var f=wc(b);if(f!==j)b.q=b.fa[b.g],b.Eb=b.ma[b.g],this.ld(f,b),f.la?(c=f.oa(b),c instanceof Dc&&(c=c.p()),d=Oe(b.Qa.rc,c),f=f.e,f!==j&&Qe(d.Vc,f).count++,f=Oe(b.Qa.rc,f),c!==j&&Qe(f.Uc,c).count++,d.Zc++,b.Qa.tc=c):b.Qa.tc=f.e!==j?f.e:B,b.Qa.now=(new Date).getTime()*1E6};af.prototype.end=l();
af.prototype.tb=function(b){b.Qa=new Re;b.Qa.now=(new Date).getTime()*1E6};var bf=new af;function cf(b,c,d){this.e=j;this.Sb=b;this.J=c;this.s=d;this.n(F("AssignmentBuilder.build"))}cf.prototype=new M;cf.prototype.className="AssignmentBuilder.BuildAssignment1";cf.prototype.d=function(b){if(!(this.J instanceof y)){try{this.J.ub()}catch(c){c instanceof ta||g(c),g(new r("assign: unexpected: "+this.J))}D(b,new df(this.Sb,this.J.b(),this.s));ef(b,this.J.a(),this.s)}};
function df(b,c,d){this.e=j;this.Sb=b;this.J=c;this.s=d;this.n(F("AssignmentBuilder.build"))}df.prototype=new M;df.prototype.className="AssignmentBuilder.BuildAssignment2";df.prototype.d=function(b){this.Sb.Ga(Q(b).reduce());D(b,new cf(this.Sb,this.J,this.s))};var ff=B,gf=J("at-string");
function ef(b,c,d){if(c instanceof y)C(b,c);else if(c instanceof Ca&&!(ff instanceof y))D(b,new hf(d)),gf.bound()?va(gf.value(),b,new A(c,B)):C(b,c);else if(c instanceof L&&jf(c))ef(b,kf(Ta(c,"ssexpand")),d);else if(c instanceof A){var f,h=c.a();f=!(h instanceof L)?j:!h.bound()?j:Yb(h.value());if(f!==j)h=c.b(),h instanceof A||g(new TypeError),D(b,new lf(d)),va(f,b,h);else if(f=c.a(),Sa("quote",f))C(b,new fe(c.b().a()));else if(f===De)D(b,new mf),nf(b,c.b().a(),d,1);else if(Sa("fn",f))h=c.b(),h instanceof
A||g(new TypeError),c=h,h=d,h===j&&g(new ReferenceError("can't have null lexical bindings!")),f={},d=c.a(),d instanceof y||(h=[f].concat(h)),D(b,new of(c,h,f)),d instanceof y?C(b,new A(B,B)):(c=h,pf(d,c[0],[0],!1),qf(b,d,c));else if(Sa("if",f)){h=c=c.b();for(f=new ke;0<c.ga();)switch(c.ga()){case 0:break;case 1:f.append(new V);c=c.b();break;case 2:f.append(new me);c=c.b();c instanceof A||g(new TypeError);c.zc(new A(B,B));c=c.b();break;default:f.append(new me),c=c.b().b()}c=h;D(b,new rf(f));D(b,new sf(f,
c,d))}else if(Sa("assign",f)){c=c.b();h=new ie;f=c.ga();f%2!==0&&g(new r("assign: requires even number of arguments"));f=f/2-1;f<0&&g(new r("assign: nothing to assign"));for(h.Y=new he;0<f;)h.Y=new be(h.Y),f--;f=new E(h);f.n(F("AssignmentBuilder.build"));D(b,f);D(b,new cf(h,c,d))}else Sa("compose",f.lc())?(h=f.b(),h instanceof A||g(new TypeError),c=c.b(),c instanceof A||g(new TypeError),ef(b,tf(h,c),d)):Sa("complement",f.lc())?(h=c.b(),h instanceof A||g(new TypeError),c=ef,f=f.b().a(),h=new A(J("no"),
new A(new A(f,h),B)),c(b,h,d)):f instanceof L&&jf(f)?ef(b,new A(kf(Ta(f,"ssexpand")),c.b()),d):D(b,new uf(c,d,c,[]))}else{if(c instanceof L)for(h=0;h<d.length;h++)if(c.name()in d[h]){d=d[h][c.name()];C(b,new T(c,h,d));return}C(b,c)}}function hf(b){this.e=j;this.s=b;this.n(F("Compiler.compile"))}hf.prototype=new M;hf.prototype.className="Compiler.FinishAtString";hf.prototype.d=function(b){var c=Q(b);c instanceof Ca?C(b,c):ef(b,c,this.s)};
function lf(b){this.e=j;this.s=b;this.n(F("Compiler.compilePair"))}lf.prototype=new M;lf.prototype.className="Compiler.ThenCompile";lf.prototype.d=function(b){ef(b,Q(b),this.s)};function mf(){this.e=j;this.n(F("Compiler.compilePair"))}mf.prototype=new M;mf.prototype.className="Compiler.WrapQuasiQuotation";mf.prototype.d=function(b){C(b,new ue(Q(b)))};function tf(b,c){var d=b.a();if(b.b()instanceof y)return new A(d,c);var f=b.b();f instanceof A||g(new TypeError);return new A(d,new A(tf(f,c),B))}
function of(b,c,d){this.e=j;this.Ya=b;this.s=c;this.uc=d;this.n(F("FunctionBodyBuilder.build"))}of.prototype=new M;of.prototype.className="FunctionBodyBuilder.Intermediate";of.prototype.d=function(b){var c=Q(b),d=c.a(),c=c.b(),f=this.Ya.b();f instanceof A||g(new TypeError);D(b,new vf(c,this.uc,f,d,b.N));D(b,new wf(f,this.s,[]))};function vf(b,c,d,f,h){this.e=j;this.v=b;this.uc=c;this.J=d;this.sa=f;this.Bb=h;this.n(F("FunctionBodyBuilder.build"))}vf.prototype=new M;vf.prototype.Yb=!0;
vf.prototype.className="FunctionBodyBuilder.Finish";vf.prototype.nc=function(b){return b instanceof Error};vf.prototype.d=function(b){var c=b.error();if(c!==j)b.Na=j,b.N=this.Bb,g(new r("building function fn "+this.v+" "+this.J+": "+c,c));C(b,xf(this.v,this.uc,Q(b),this.sa))};
function xf(b,c,d,f){var h="rainbow.function.interpreted.optimise.Bind"+yf(b,!1),k=t[h];if(k===i)return f instanceof y?new zf(b,c,d):new Af(b,c,d);try{var o=k.of(b,c,d);o instanceof x||g(new TypeError);return o}catch(p){p instanceof Error||g(p),g(new r("Couldn't instantiate "+h+": "+p,p))}}
function yf(b,c){if(b instanceof y)return"";if(b instanceof A)if(c)if(Bf(b)){var d=b.b().b().a();return d.Ca()?"_Oliteral":d instanceof T?"_Obound":"_Oother"}else return d=b.a(),"_D"+yf(d,!0)+yf(b.b(),!1)+"_d";else return yf(b.a(),!0)+yf(b.b(),!1);else return c?"_A":"_R"}function Cf(b,c,d){!(c instanceof y)&&c instanceof A&&(d&&Bf(c)?c.b().b().a().j(b):(Cf(b,c.a(),!0),Cf(b,c.b(),!1)))}var Df=J("o"),Ef=J("#NIL#");function qf(b,c,d){var f={value:B},h=[];D(b,new Ff(h,f));D(b,new Gf(h,f,c,d))}
function Ff(b,c){this.e=j;this.F=b;this.sa=c;this.n(F("FunctionParameterListBuilder.buildParams_"))}Ff.prototype=new M;Ff.prototype.className="FunctionParameterListBuilder.ReturnParams";Ff.prototype.d=function(b){if(this.F.length===0){var c;c=Q(b)}else c=ab(this.F,Q(b));c=new A(this.sa.value,c);C(b,c)};function Gf(b,c,d,f){this.e=j;this.F=b;this.sa=c;this.qa=d;this.s=f;this.n(F("FunctionParameterListBuilder.buildParams_"))}Gf.prototype=new M;Gf.prototype.className="FunctionParameterListBuilder.BuildParams1";
Gf.prototype.d=function(b){if(this.qa.M()){var c=new E(this.qa);c.n(this);D(b,c)}else{var c=this.qa.a(),d=this.qa.b();if(c instanceof A)if(c instanceof y)this.F.push(Ef),D(b,new Gf(this.F,this.sa,d,this.s));else if(this.sa.value=Ma,Bf(c)){var f=c.b().a();D(b,new Hf(this.F,this.sa,d,this.s,f));ef(b,c.b().b().a(),this.s)}else D(b,new If(this.F,this.sa,d,this.s)),qf(b,c,this.s);else this.F.push(c),D(b,new Gf(this.F,this.sa,d,this.s))}};
function Hf(b,c,d,f,h){this.e=j;this.F=b;this.sa=c;this.qa=d;this.s=f;this.bd=h;this.n(F("FunctionParameterListBuilder.buildParams_"))}Hf.prototype=new M;Hf.prototype.className="FunctionParameterListBuilder.BuildParams2a";Hf.prototype.d=function(b){this.F.push(w([Df,this.bd,Q(b)]));D(b,new Gf(this.F,this.sa,this.qa,this.s))};function If(b,c,d,f){this.e=j;this.F=b;this.sa=c;this.qa=d;this.s=f;this.n(F("FunctionParameterListBuilder.buildParams_"))}If.prototype=new M;If.prototype.className="FunctionParameterListBuilder.BuildParams2b";
If.prototype.d=function(b){this.F.push(Q(b).b());D(b,new Gf(this.F,this.sa,this.qa,this.s))};function Jf(b){for(;!b.M();){if(b.a()instanceof A)return Ma;b=b.b()}return B}function pf(b,c,d,f){b instanceof y||(b instanceof A?f&&Bf(b)?pf(b.b().a(),c,d,!0):(f=b.a(),f instanceof y?(c[Ef.name()]=d[0],d[0]++):pf(f,c,d,!0),pf(b.b(),c,d,!1)):(b instanceof L||g(new TypeError),c[b.name()]=d[0],d[0]++))}
function Kf(b,c,d,f){var h=j;f instanceof L&&!f.Ba(b.name)?h=f:Bf(f)&&!f.b().a().Ba(b.name)?h=w([Df,f.b().a(),f.b().b().a().Q(b,c,d)]):!Bf(f)&&f instanceof A&&(h=f);return h}function Lf(b,c,d,f){var h=j;f instanceof L&&!f.Ba(b.name)?h=f:Bf(f)&&!f.b().a().Ba(b.name)?h=w([Df,f.b().a(),f.b().b().a().R(b,c,!1,0,d)]):!Bf(f)&&f instanceof A&&(h=f);return h}function rf(b){this.e=j;this.pb=b;this.n(F("IfBuilder.build"))}rf.prototype=new M;rf.prototype.className="IfBuilder.Reduce";
rf.prototype.d=function(b){C(b,this.pb.reduce())};function sf(b,c,d){this.e=j;this.pb=b;this.J=c;this.s=d;this.n(F("IfBuilder.build"))}sf.prototype=new M;sf.prototype.className="IfBuilder.BuildIf1";sf.prototype.d=function(b){if(!(this.J instanceof y)){try{this.J.ub()}catch(c){c instanceof ta||g(c),g(new r("if: unexpected: "+this.J))}D(b,new Mf(this.pb,this.J.b(),this.s));ef(b,this.J.a(),this.s)}};function Mf(b,c,d){this.e=j;this.pb=b;this.J=c;this.s=d;this.n(F("AssignmentBuilder.build"))}
Mf.prototype=new M;Mf.prototype.className="IfBuilder.BuildIf2";Mf.prototype.d=function(b){this.pb.Ga(Q(b).reduce());D(b,new sf(this.pb,this.J,this.s))};function uf(b,c,d,f){this.e=j;this.J=b;this.s=c;this.pa=d;this.Ha=f;this.n(F("InvocationBuilder.build"))}uf.prototype=new M;uf.prototype.className="InvocationBuilder.BuildInvocation";
uf.prototype.d=function(b){if(this.J instanceof y)C(b,(new oe(w(this.Ha))).reduce());else{try{this.J.ub()}catch(c){c instanceof ta||g(c),g(new r("can't compile "+this.pa+"; not a proper list"))}D(b,new uf(this.J.b(),this.s,this.pa,this.Ha));D(b,new Nf(this.Ha));ef(b,this.J.a(),this.s)}};function Nf(b){this.e=j;this.Ha=b;this.n(F("InvocationBuilder.build"))}Nf.prototype=new M;Nf.prototype.className="InvocationBuilder.ReducePush";Nf.prototype.d=function(b){this.Ha.push(Q(b).reduce())};
function wf(b,c,d){this.e=j;this.J=b;this.s=c;this.F=d;this.n(F("PairExpander.expand"))}wf.prototype=new M;wf.prototype.className="PairExpander.ExpandPair";wf.prototype.d=function(b){if(this.J instanceof y||!(this.J instanceof A))D(b,new Of(this.F)),ef(b,this.J,this.s);else{D(b,new wf(this.J.b(),this.s,this.F));var c=this.J.a();D(b,new Pf(this.F));ef(b,c,this.s)}};function Pf(b){this.e=j;this.Ha=b;this.n(F("PairExpander.expand"))}Pf.prototype=new M;Pf.prototype.className="PairExpander.ReducePush";
Pf.prototype.d=function(b){this.Ha.push(Q(b).reduce())};function Of(b){this.e=j;this.F=b;this.n(F("PairExpander.expand"))}Of.prototype=new M;Of.prototype.className="PairExpander.FinishPair";Of.prototype.d=function(b){var c=ab(this.F,Q(b).reduce());c instanceof A||g(new TypeError);C(b,c)};var De=J("quasiquote"),Be=J("unquote"),Ce=J("unquote-splicing");function nf(b,c,d,f){c.M()?C(b,c):Z(c)?Qf(b,Be,c,f,d):ye(c)?Qf(b,Ce,c,f,d):ze(c)?(D(b,new Rf(De)),nf(b,c.b().a(),d,f+1)):D(b,new Sf([],c,d,f))}
function Sf(b,c,d,f){this.e=j;this.F=b;this.ua=c;this.s=d;this.lb=f;this.n(F("QuasiQuoteCompiler.compile"))}Sf.prototype=new M;Sf.prototype.className="QuasiQuoteCompiler.CompileQuasiQuote";Sf.prototype.d=function(b){if(this.ua.M())D(b,new Tf(this.F)),nf(b,this.ua,this.s,this.lb);else{var c=this.ua.a();D(b,new Sf(this.F,this.ua.b(),this.s,this.lb));c.M()?this.F.push(c):(D(b,new Uf(this.F)),nf(b,c,this.s,this.lb))}};function Tf(b){this.e=j;this.F=b;this.n(F("QuasiQuoteCompiler.compile"))}
Tf.prototype=new M;Tf.prototype.className="QuasiQuoteCompiler.FinishQuasiQuote";Tf.prototype.d=function(b){C(b,ab(this.F,Q(b)))};function Uf(b){this.e=j;this.F=b;this.n(F("QuasiQuoteCompiler.compile"))}Uf.prototype=new M;Uf.prototype.className="QuasiQuoteCompiler.Push";Uf.prototype.d=function(b){this.F.push(Q(b))};function Qf(b,c,d,f,h){d=d.b().a();D(b,new Rf(c));f===1?ef(b,d,h):nf(b,d,h,f-1)}function Rf(b){this.e=j;this.dd=b;this.n(F("QuasiQuoteCompiler.compile"))}Rf.prototype=new M;
Rf.prototype.className="QuasiQuoteCompiler.Prefix";Rf.prototype.d=function(b){C(b,w([this.dd,Q(b)]))};var Vf={},Wf=J("let"),Xf=J("self"),Yf=J("it");J("afn");var Zf=J("do"),$f=J("with"),ag=J("aif");
function pe(b){if(b.a()===Wf)a:{b=b.b();if(b.a()===Yf){var c=b.b().a(),d=b.b().b();if(d.b()instanceof y&&d.a()instanceof ke&&(d=d.a(),!(d.X instanceof me)?0:d.X.k.toString()==="it")){b=d.P();d=d.X;d instanceof me||g(new TypeError);b=w([ag,c,b,d.next]);break a}}else if(b.a()===Xf&&b.b().a()instanceof y&&(d=b.b().b(),d.a()instanceof ie&&d.b()instanceof y)){c=d.a();var d=c.Y,f="self";if(d.name instanceof L)d=d.name.name()===f;else{if(!(d.name instanceof W))f=d.name,f instanceof T||g(new TypeError);d=
d.name.name.name()===f}if(d&&c.Y.A instanceof Y&&c.Y instanceof he){b=Vf.td(c.Y.A);break a}}b=new A(Wf,b)}return b}function qe(b){var c=b.a(),d=b.b(),f=c.v;if(d.ga()===f.ga())if(d.ga()===0)c=w([Zf].concat(c.body));else if(d.ga()===1)c=w([Wf,f.a(),d.a()].concat(c.body));else{b=d;for(d=[];!(f instanceof y);)d.push(f.a()),d.push(b.a()),f=f.b(),b=b.b();c=w([$f,w(d)].concat(c.body))}else c=b;return c}function $(){}$.prototype=new x;q=$.prototype;q.className="Builtin";
q.c=function(b){this.ba=b;J(b).ha(this);return this};q.h=function(b){g(new r("Builtin:invoke(args):provide implementation! "+this.name()+" args "+b))};q.f=function(b,c){C(b,this.h(c))};q.na=n(0);q.type=function(){return bg};function Ab(b,c,d){d<b.ga()&&(na(c+" got args "+b+" was expecting expecting at most "+d),g(new r(c.toLowerCase()+" expects at most "+d+" arguments: given "+b)))}function cg(b,c,d){b.ga()!==c&&g(new r(d.toLowerCase()+" expects "+c+" arguments: given "+b))}
q.toString=function(){return"[builtin:"+(this.ba===j||this.ba.length===0?this.className:this.ba)+"]"};q.La=function(){return this.toString()};q.name=function(){return this.ba===""?this.className.toLowerCase():this.ba};var bg=J("fn");function Dc(b,c){this.ua=b;this.ea=c}Dc.prototype=new x;q=Dc.prototype;q.className="Closure";q.za=function(b){this.ua.ia(b,this.ea)};q.r=function(b,c){this.ua.u(b,this.ea,c)};q.S=function(b,c,d){this.ua.ya(b,this.ea,c,d)};q.f=function(b,c){this.ua.C(b,this.ea,c)};
q.type=function(){return bg};q.toString=function(){return this.ua.toString()};q.La=function(){return this.ua.La()};q.p=m("ua");function dg(b){return b.length===0?!1:b.charCodeAt(0)===eg?dg(b.substring(1)):b.charAt(b.length-1)===eg?dg(b.substring(0,b.length-1)):b.indexOf(fg)!==-1}function Y(){}Y.prototype=new x;q=Y.prototype;q.I=Y;q.className="InterpretedFunction";q.c=function(b,c,d){this.name=B;this.v=b;this.o=c;this.body=fb(d);this.sd=this.xb=this.Z=this.Zb=this.m=j;gg(this);return this};
q.jc=function(b){if(this.name===b)this.name=B};q.Qb=function(b){this.name=b;for(var b=new Ke(this),c=0,d=this.body.length;c<d;c++)this.body[c].j(b)};q.Rb=function(){return name};q.La=function(){if(this.xb!==j)return this.xb;this.name instanceof y?(this.xb=this.toString(),this.Zb!==j&&(this.xb+=" in "+this.Zb.La())):this.xb=this.Rb().toString();return this.xb};
q.reduce=function(){var b;if(hg&&!this.V()&&!(this.v instanceof y)){var c="rainbow.function.interpreted.optimise.stack.Stack"+yf(this.v,!1),d=t[c];if(d===i)b=this;else try{var f=d.of1(this);f instanceof x||g(new TypeError);b=f}catch(h){h instanceof Error||g(h),g(new r("Couldn't instantiate "+c+": "+h,h))}}else b=this;return b};function gg(b){var c=[];se(b,c);b.m=w(c);b.m.j(new ig(b))}q.n=ba("Zb");function ig(b){this.e=b}ig.prototype=new Je;ig.prototype.Ob=function(b){b.n(this.e)};
function se(b,c){if(b.body.length===0)c.push(new E(B));else for(var d=0;d<b.body.length;d++){var f=d===b.body.length-1;b.body[d].l(c);f||c.push(new Jc("intermediate-fn-expression"))}}q=Y.prototype;q.eb=function(b,c){return this.body.length===1&&this.qc(b,c)&&!this.da(0)&&!this.V()};
q.qc=function(b,c){var d=this.o[b.name()],d=new T(b,0,d),f;if(!(f=c.Ca()))if(!(f=c instanceof fe))if(!(f=c instanceof L))if(!(f=c instanceof T)){d=new Me(d);f=0;for(var h=this.body.length;f<h;f++)this.body[f].j(d);f=d.count()<=1}return f};q.V=function(){for(var b=0,c=this.body.length;b<c;b++){var d=this.body[b];if(d instanceof Y){if(ge(d))return!0}else if(d.V())return!0}return!1};function jg(b,c){for(var d=0,f=b.body.length;d<f;d++)if(b.body[d].da(c))return!0;return!1}
q.Hb=function(){return!(this.v instanceof y)};q.da=function(b){return this.v instanceof y?jg(this,b):jg(this,b+1)};q.za=function(b){return this.ia(b,j)};q.ia=function(b,c){return this.C(b,c,B)};q.r=function(b,c){return this.u(b,j,c)};q.u=function(b,c,d){return this.C(b,c,new A(d,B))};q.S=function(b,c,d){return this.ya(b,j,c,d)};q.ya=function(b,c,d,f){return this.C(b,c,new A(d,new A(f,B)))};q.Pa=function(b,c,d,f){return this.Gb(b,j,c,d,f)};
q.Gb=function(b,c,d,f,h){return this.C(b,c,new A(d,new A(f,new A(h,B))))};q.f=function(b,c){return this.C(b,j,c)};q.C=function(){g(new r("error: invoke(vm, lc, args) not implemented in "+this.className+"; "+this))};q.l=function(b){ge(this)?b.push(new Cc(this)):b.push(new E(this))};q.Ca=function(){return!ge(this)};function ge(b){var c=new Le;b.j(c);return-1<c.xc}q.j=function(b){b.Pb(this);Cf(b,this.v,!1);for(var c=0,d=this.body.length;c<d;c++)this.body[c].j(b);b.Vb(this);this.Z!==j&&this.Z.j(b)};
q.na=function(b){g(new r("Can't compare "+this+" to "+b))};q.toString=function(){if(this.v instanceof A&&this.v.a()===J("_")&&this.v.b()instanceof y&&this.body.length===1&&!(this.body[0]instanceof qb))if(this.body[0]instanceof y)return"[]";else{var b=this.body[0].toString();return"["+b.substring(1,b.length-1)+"]"}return w([J("fn"),this.v].concat(this.body)).toString()};q.type=function(){return bg};q.vb=function(b){return this.body[b]};q.Ic=function(){return this.body[this.body.length-1]};
q.length=function(){return this.body.length};function kg(b,c,d){try{c.b().Ia()}catch(f){f instanceof ta||g(f),lg(b,d)}}function lg(b,c){g(new r("args "+c+" doesn't match signature for "+b))}
q.gb=function(b,c,d){var f=this.o[b.name()];f===i&&g(new ReferenceError);var b=new T(b,0,f),h;for(var k=this.v,o=c,p=B,z=[];!k.M();){var K=Lf(b,o,f,k.a());K!==j&&z.push(K);k=k.b()}k instanceof L&&(o=Lf(b,o,f,k),o!==j&&(p=o));try{h=ab(z,p)}catch(fa){fa instanceof Error||g(fa),g(new r("couldn't curry params "+k+", got list "+z+" and last "+p))}k={};pf(h,k,[0],!1);p=h instanceof y;!p&&d&&(c=c.L(0));d=[];for(z=0;z<this.body.length;z++)d.push(this.body[z].R(b,c,p,0,f).reduce());c=w(d);f=Jf(h);return xf(h,
k,c,f)};q.R=function(b,c,d,f,h){for(var b=this.v instanceof y?b:b.L(0),d=mg(this),k=[],o=0;o<this.body.length;o++)k.push(this.body[o].R(b,c,!1,f+1,h).reduce());b=w(k);d.body=fb(b);gg(d);return d};q.Q=function(b,c,d){if(!(this.v instanceof y))return this;for(var f=mg(this),h=[],k=0;k<this.body.length;k++)h.push(this.body[k].Q(b,c,d).reduce());b=w(h);f.body=fb(b);gg(f);return f};
q.L=function(b){this.v instanceof y||b++;for(var c=mg(this),d=[],f=0;f<this.body.length;f++)d.push(this.body[f].L(b));b=w(d);c.body=fb(b);gg(c);return c};function mg(b){var c=new b.I,d;for(d in b)b.hasOwnProperty(d)&&(c[d]=b[d]);return c}function ng(b,c,d){d.sb(c)||g(new r("error: "+b+" expects "+c+" args, got "+d))}function zf(b,c,d){this.c(b,c,d)}zf.prototype=new Y;zf.prototype.I=zf;zf.prototype.className="SimpleArgs";
zf.prototype.C=function(b,c,d){var f=0,h;for(h in this.o)f++;f=c=new u(f,c);for(h=this.v;!(h instanceof y);)if(h instanceof L){f.add(d);break}else f.add(d.a()),d=d.b(),h=h.b();R(b,c,this.m)};function Af(b,c,d){this.c(b,c,d)}Af.prototype=new Y;Af.prototype.I=Af;Af.prototype.className="ComplexArgs";Af.prototype.C=function(b,c,d){var f=0,h;for(h in this.o)f++;c=new u(f,c);D(b,new og(c,this.m,this));D(b,new pg(c,this.v,d,this))};function og(b,c,d){this.e=j;this.ea=b;this.m=c;this.n(d)}og.prototype=new M;
og.prototype.className="ComplexArgs.Run";og.prototype.d=function(b){R(b,this.ea,this.m)};function pg(b,c,d,f){this.e=j;this.ea=b;this.qa=c;this.Ya=d;this.n(f)}pg.prototype=new M;pg.prototype.className="ComplexArgs.BuildComplex";
pg.prototype.d=function(b){if(this.qa.M())this.qa instanceof L&&this.ea.add(this.Ya);else{var c=this.qa.a(),d=this.Ya.a();D(b,new pg(this.ea,this.qa.b(),this.Ya.b(),this.e));if(c instanceof L)this.ea.add(d);else if(Bf(c))if(c=c.b(),c instanceof A||g(new TypeError),this.Ya instanceof y){D(b,new qg(this.ea,this));var d=this.ea,f=[];c.b().a().l(f);R(b,d,w(f))}else this.ea.add(d);else{try{d.ub()}catch(h){h instanceof ta||g(h),g(new r("Expected list argument for destructuring parameter "+c+", got "+d))}D(b,
new pg(this.ea,c,d,this.e))}this.qa=this.qa.b();this.Ya=this.Ya.b()}};function qg(b,c){this.e=j;this.ea=b;this.n(c)}qg.prototype=new M;qg.prototype.className="ComplexArgs.AddToLc";qg.prototype.d=function(b){this.ea.add(Q(b))};function Bf(b){return!(b instanceof A)?!1:b.a()===rg}var rg=J("o");function sg(){}sg.prototype=new Y;q=sg.prototype;q.I=sg;q.className="StackFunctionSupport";q.eb=function(b,c){return this.qc(b,c)&&!this.da(0)};
q.qc=function(b,c){var d=this.o[b.name()],d=new W(b,d);return c.Ca()||c instanceof fe||c instanceof L||this.body.length===1&&this.body[0]instanceof W&&Kd(d,this.body[0])};q.Hb=n(!1);
q.gb=function(b,c){var d=this.o[b.name()],f=new W(b,d),h;for(var k=this.v,o=B,p=[];!k.M();){var z=Kf(f,c,d,k.a());z!==j&&p.push(z);k=k.b()}k instanceof L&&(z=Kf(f,c,d,k),z!==j&&(o=z));try{h=ab(p,o)}catch(K){K instanceof Error||g(K),g(new r("couldn't curry params "+k+", got list "+p+" and last "+o))}k={};pf(h,k,[0],!1);o=[];for(p=0;p<this.body.length;p++)o.push(this.body[p].Q(f,c,d).reduce());var d=w(o),f=Jf(h),fa;o=yf(h,!1);if(o==="")fa=xf(h,k,d,f);else{f="rainbow.function.interpreted.optimise.stack.Stack"+
o;o=t[f];o===i&&g(new r("no stack-based function implementation for "+h+"; couldn't find "+f));try{var za=o.of3(h,k,d);za instanceof x||g(new TypeError);fa=za}catch(pb){pb instanceof Error||g(pb),g(new r("Couldn't instantiate "+f+": "+pb,pb))}}return fa};function tg(b,c){for(var d=Array(~~c.length),f=0;f<c.length;f++)d[f]=c[f].W(b);return w(d)}function re(){}t["rainbow.function.interpreted.optimise.Bind"]=re;re.prototype=new Y;re.prototype.I=re;re.prototype.className="Bind";
re.of=function(b,c,d){return(new re).c(b,c,d)};re.prototype.ia=function(b,c){R(b,c,this.m)};re.prototype.C=function(b,c,d){try{d.Ia()}catch(f){f instanceof ua||g(f),g(new r("expected 0 args, got "+d))}R(b,c,this.m)};function ug(){}t["rainbow.function.interpreted.optimise.Bind_A"]=ug;ug.prototype=new Y;ug.prototype.I=ug;ug.prototype.className="Bind_A";ug.of=function(b,c,d){return(new ug).c(b,c,d)};ug.prototype.ia=function(){g(new r("function "+this+" expects 1 arg, got none"))};
ug.prototype.u=function(b,c,d){var f=0,h;for(h in this.o)f++;c=new u(f,c);c.add(d);R(b,c,this.m)};ug.prototype.C=function(b,c,d){d instanceof y&&this.ia(b,c);try{d.b().Ia()}catch(f){f instanceof ua||g(f),g(new r("expected 1 arg, got "+d+" calling "+this))}this.u(b,c,d.a())};function vg(){}t["rainbow.function.interpreted.optimise.Bind_A_A"]=vg;vg.prototype=new Y;vg.prototype.I=vg;vg.prototype.className="Bind_A_A";vg.of=function(b,c,d){return(new vg).c(b,c,d)};vg.prototype.ia=function(){g(new r("error: expected 2 args, got none"))};
vg.prototype.u=function(b,c,d){g(new r("error: expected 2 args, got 1: "+d))};vg.prototype.ya=function(b,c,d,f){var h=0,k;for(k in this.o)h++;c=new u(h,c);c.add(d);c.add(f);R(b,c,this.m)};vg.prototype.C=function(b,c,d){try{d.b().b().Ia()}catch(f){f instanceof ua||g(f),g(new r("expected 2 args, got "+d))}this.ya(b,c,d.a(),d.b().a())};function wg(){}t["rainbow.function.interpreted.optimise.Bind_A_A_A"]=wg;wg.prototype=new Y;wg.prototype.I=wg;wg.prototype.className="Bind_A_A_A";
wg.of=function(b,c,d){return(new wg).c(b,c,d)};wg.prototype.Gb=function(b,c,d,f,h){var k=0,o;for(o in this.o)k++;c=new u(k,c);c.add(d);c.add(f);c.add(h);R(b,c,this.m)};wg.prototype.C=function(b,c,d){kg(this,d.b().b().b(),d);this.Gb(b,c,d.a(),d.b().a(),d.b().b().a())};function xg(){}t["rainbow.function.interpreted.optimise.Bind_A_A_R"]=xg;xg.prototype=new Y;xg.prototype.I=xg;xg.prototype.className="Bind_A_A_R";xg.of=function(b,c,d){return(new xg).c(b,c,d)};xg.prototype.ia=function(){g(new r("error: expected at least 2 arg, got none"))};
xg.prototype.u=function(b,c,d){g(new r("error: expected at least 2 args, got one: "+d))};xg.prototype.C=function(b,c,d){var f=0,h;for(h in this.o)f++;c=new u(f,c);c.add(d.a());c.add(d.b().a());c.add(d.b().b());R(b,c,this.m)};function yg(){}t["rainbow.function.interpreted.optimise.Bind_A_Obound"]=yg;yg.prototype=new Y;yg.prototype.I=yg;yg.prototype.className="Bind_A_Obound";
yg.of=function(b,c,d){c=(new yg).c(b,c,d);d=b.b().a().b().b().a();d instanceof T||g(new TypeError);c.T=d;b=b.b().a().b().a();b instanceof L||g(new TypeError);if(c.eb(b,c.T))try{var f=c.gb(b,c.T,!1);f instanceof Y||g(new TypeError);c.Z=f}catch(h){h instanceof Error||g(h),oa(h)}return c};yg.prototype.u=function(b,c,d){if(this.Z!==j)this.Z.u(b,c,d);else{var f=0,h;for(h in this.o)f++;c=new u(f,c);c.add(d);c.add(this.T.t(c));R(b,c,this.m)}};
yg.prototype.ya=function(b,c,d,f){var h=0,k;for(k in this.o)h++;c=new u(h,c);c.add(d);c.add(f);R(b,c,this.m)};yg.prototype.C=function(b,c,d){d instanceof y&&lg(this,d);var f=d.a(),h=d.b();h instanceof y?this.u(b,c,f):(kg(this,h.b(),d),this.ya(b,c,f,h.a()))};function zg(){}t["rainbow.function.interpreted.optimise.Bind_A_Oliteral"]=zg;zg.prototype=new Y;zg.prototype.I=zg;zg.prototype.className="Bind_A_Oliteral";
zg.of=function(b,c,d){c=(new zg).c(b,c,d);c.T=b.b().a().b().b().a();b=b.b().a().b().a();b instanceof L||g(new TypeError);if(c.eb(b,c.T))try{var f=c.gb(b,c.T,!1);f instanceof Y||g(new TypeError);c.Z=f}catch(h){h instanceof Error||g(h),oa(h)}return c};zg.prototype.u=function(b,c,d){if(this.Z!==j)this.Z.u(b,c,d);else{var f=0,h;for(h in this.o)f++;c=new u(f,c);c.add(d);c.add(this.T);R(b,c,this.m)}};zg.prototype.ya=function(b,c,d,f){var h=0,k;for(k in this.o)h++;c=new u(h,c);c.add(d);c.add(f);R(b,c,this.m)};
zg.prototype.C=function(b,c,d){d instanceof y&&lg(this,d);var f=d.a(),h=d.b();h instanceof y?this.u(b,c,f):(kg(this,h.b(),d),this.ya(b,c,f,h.a()))};function Ag(){}t["rainbow.function.interpreted.optimise.Bind_A_Oother"]=Ag;Ag.prototype=new Y;Ag.prototype.I=Ag;Ag.prototype.className="Bind_A_Oother";Ag.of=function(b,c,d){c=(new Ag).c(b,c,d);d=[];b.b().a().b().b().a().l(d);c.wc=w(d);return c};
Ag.prototype.u=function(b,c,d){var f=0,h;for(h in this.o)f++;c=new u(f,c);c.add(d);D(b,new Bg(c,this.m,this));R(b,c,this.wc)};Ag.prototype.ya=function(b,c,d,f){var h=0,k;for(k in this.o)h++;c=new u(h,c);c.add(d);c.add(f);R(b,c,this.m)};Ag.prototype.C=function(b,c,d){d instanceof y&&lg(this,d);var f=d.a(),h=d.b();h instanceof y?this.u(b,c,f):(kg(this,h.b(),d),this.ya(b,c,f,h.a()))};function Cg(){}t["rainbow.function.interpreted.optimise.Bind_A_R"]=Cg;Cg.prototype=new Y;Cg.prototype.I=Cg;
Cg.prototype.className="Bind_A_R";Cg.of=function(b,c,d){return(new Cg).c(b,c,d)};Cg.prototype.ia=function(){g(new r("error: expected at least 1 arg, got none"))};Cg.prototype.C=function(b,c,d){var f=0,h;for(h in this.o)f++;c=new u(f,c);c.add(d.a());c.add(d.b());R(b,c,this.m)};function Dg(){}t["rainbow.function.interpreted.optimise.Bind_D_A_A_A_d"]=Dg;Dg.prototype=new Y;Dg.prototype.I=Dg;Dg.prototype.className="Bind_D_A_A_A_d";Dg.of=function(b,c,d){return(new Dg).c(b,c,d)};
Dg.prototype.u=function(b,c,d){var f=0,h;for(h in this.o)f++;c=new u(f,c);d instanceof A||g(new TypeError);c.add(d.a());d=d.b();d instanceof A||g(new TypeError);c.add(d.a());d=d.b();d instanceof A||g(new TypeError);c.add(d.a());R(b,c,this.m)};Dg.prototype.C=function(b,c,d){try{d.b().Ia()}catch(f){f instanceof ua||g(f),g(new r("expected 1 arg, got extra "+d.b()+" calling "+this))}this.u(b,c,d.a())};function Eg(){}t["rainbow.function.interpreted.optimise.Bind_D_A_A_d"]=Eg;Eg.prototype=new Y;
Eg.prototype.I=Eg;Eg.prototype.className="Bind_D_A_A_d";Eg.of=function(b,c,d){return(new Eg).c(b,c,d)};Eg.prototype.u=function(b,c,d){var f=0,h;for(h in this.o)f++;c=new u(f,c);d instanceof A||g(new TypeError);c.add(d.a());d=d.b();d instanceof A||g(new TypeError);c.add(d.a());R(b,c,this.m)};Eg.prototype.C=function(b,c,d){kg(this,d.b(),d);this.u(b,c,d.a())};function Fg(){}t["rainbow.function.interpreted.optimise.Bind_Obound"]=Fg;Fg.prototype=new Y;Fg.prototype.I=Fg;Fg.prototype.className="Bind_Obound";
Fg.of=function(b,c,d){c=(new Fg).c(b,c,d);b=b.a();b instanceof A||g(new TypeError);b=b.b().b().a();b instanceof T||g(new TypeError);c.ad=b;return c};Fg.prototype.ia=function(b,c){var d=0,f;for(f in this.o)d++;c=new u(d,c);c.add(this.ad.t(c));R(b,c,this.m)};Fg.prototype.u=function(b,c,d){var f=0,h;for(h in this.o)f++;c=new u(f,c);c.add(d);R(b,c,this.m)};
Fg.prototype.C=function(b,c,d){if(d instanceof y)this.ia(b,c);else{try{d.b().Ia()}catch(f){f instanceof ua||g(f),g(new r("expected 0 or 1 args, got extra "+d.b()+" calling "+this))}this.u(b,c,d.a())}};function Gg(){}t["rainbow.function.interpreted.optimise.Bind_Oliteral"]=Gg;Gg.prototype=new Y;Gg.prototype.I=Gg;Gg.prototype.className="Bind_Oliteral";
Gg.of=function(b,c,d){c=(new Gg).c(b,c,d);c.T=b.a().b().b().a();b=b.a().b().a();b instanceof L||g(new TypeError);if(c.eb(b,c.T))b=c.gb(b,c.T,!1),b instanceof Y||g(new TypeError),c.Z=b;return c};Gg.prototype.ia=function(b,c){if(this.Z!==j)this.Z.ia(b,c);else{var d=0,f;for(f in this.o)d++;c=new u(d,c);c.add(this.T);R(b,c,this.m)}};Gg.prototype.u=function(b,c,d){var f=0,h;for(h in this.o)f++;c=new u(f,c);c.add(d);R(b,c,this.m)};
Gg.prototype.C=function(b,c,d){if(d instanceof y)this.ia(b,c);else{try{d.b().Ia()}catch(f){f instanceof ua||g(f),g(new r("expected 0 or 1 args, got extra "+d.b()+" calling "+this))}this.u(b,c,d.a())}};function Hg(){}t["rainbow.function.interpreted.optimise.Bind_Oother"]=Hg;Hg.prototype=new Y;Hg.prototype.I=Hg;Hg.prototype.className="Bind_Oother";Hg.of=function(b,c,d){var f=(new Hg).c(b,c,d);f.c(b,c,d);f.T=b.a().b().b().a();b=[];f.T.l(b);f.wc=w(b);return f};
Hg.prototype.ia=function(b,c){var d=0,f;for(f in this.o)d++;c=new u(d,c);D(b,new Bg(c,this.m,this));R(b,c,this.wc)};Hg.prototype.u=function(b,c,d){var f=0,h;for(h in this.o)f++;c=new u(f,c);c.add(d);R(b,c,this.m)};Hg.prototype.C=function(b,c,d){if(d instanceof y)this.ia(b,c);else{try{d.b().Ia()}catch(f){f instanceof ua||g(f),g(new r("expected 0 or 1 args, got extra "+d.b()+" calling "+this))}this.u(b,c,d.a())}};function Ig(){}t["rainbow.function.interpreted.optimise.Bind_R"]=Ig;Ig.prototype=new Y;
Ig.prototype.I=Ig;Ig.prototype.className="Bind_R";Ig.of=function(b,c,d){return(new Ig).c(b,c,d)};Ig.prototype.C=function(b,c,d){var f=0,h;for(h in this.o)f++;c=new u(f,c);c.add(d);R(b,c,this.m)};function Jg(){}t["rainbow.function.interpreted.optimise.stack.Stack_A"]=Jg;Jg.prototype=new sg;Jg.prototype.I=Jg;Jg.prototype.className="Stack_A";Jg.of1=function(b){return Jg.of3(b.v,b.o,tg(b.o,b.body))};Jg.of3=function(b,c,d){return(new Jg).c(b,c,d)};Jg.prototype.r=function(b,c){S(b,j,this.m,[c])};
Jg.prototype.u=function(b,c,d){S(b,c,this.m,[d])};Jg.prototype.f=function(b,c){ng(this,1,c);this.r(b,c.a())};Jg.prototype.C=function(b,c,d){ng(this,1,d);this.u(b,c,d.a())};function Kg(){}t["rainbow.function.interpreted.optimise.stack.Stack_A_A"]=Kg;Kg.prototype=new sg;Kg.prototype.I=Kg;Kg.prototype.className="Stack_A_A";Kg.of1=function(b){return Kg.of3(b.v,b.o,tg(b.o,b.body))};Kg.of3=function(b,c,d){return(new Kg).c(b,c,d)};Kg.prototype.S=function(b,c,d){S(b,j,this.m,[c,d])};
Kg.prototype.ya=function(b,c,d,f){S(b,c,this.m,[d,f])};Kg.prototype.f=function(b,c){ng(this,2,c);this.S(b,c.a(),c.b().a())};Kg.prototype.C=function(b,c,d){ng(this,2,d);this.ya(b,c,d.a(),d.b().a())};function Lg(){}t["rainbow.function.interpreted.optimise.stack.Stack_A_A_A"]=Lg;Lg.prototype=new sg;Lg.prototype.I=Lg;Lg.prototype.className="Stack_A_A_A";Lg.of1=function(b){return Lg.of3(b.v,b.o,tg(b.o,b.body))};Lg.of3=function(b,c,d){return(new Lg).c(b,c,d)};
Lg.prototype.Pa=function(b,c,d,f){S(b,j,this.m,[c,d,f])};Lg.prototype.Gb=function(b,c,d,f,h){S(b,c,this.m,[d,f,h])};Lg.prototype.f=function(b,c){ng(this,3,c);this.Pa(b,c.a(),c.b().a(),c.b().b().a())};Lg.prototype.C=function(b,c,d){ng(this,3,d);this.Gb(b,c,d.a(),d.b().a(),d.b().b().a())};function Mg(){}t["rainbow.function.interpreted.optimise.stack.Stack_A_A_A_A"]=Mg;Mg.prototype=new sg;Mg.prototype.I=Mg;Mg.prototype.className="Stack_A_A_A_A";Mg.of1=function(b){return Mg.of3(b.v,b.o,tg(b.o,b.body))};
Mg.of3=function(b,c,d){return(new Mg).c(b,c,d)};Mg.prototype.f=function(b,c){ng(this,4,c);var d=c.a(),f=c.b().a(),h=c.b().b().a(),k=c.b().b().b().a();S(b,j,this.m,[d,f,h,k])};Mg.prototype.C=function(b,c,d){ng(this,4,d);var f=d.a(),h=d.b().a(),k=d.b().b().a(),d=d.b().b().b().a();S(b,c,this.m,[f,h,k,d])};function Ng(){}t["rainbow.function.interpreted.optimise.stack.Stack_A_A_R"]=Ng;Ng.prototype=new sg;Ng.prototype.I=Ng;Ng.prototype.className="Stack_A_A_R";
Ng.of1=function(b){return Ng.of3(b.v,b.o,tg(b.o,b.body))};Ng.of3=function(b,c,d){return(new Ng).c(b,c,d)};Ng.prototype.C=function(b,c,d){S(b,c,this.m,[d.a(),d.b().a(),d.b().b()])};function Og(){}t["rainbow.function.interpreted.optimise.stack.Stack_A_R"]=Og;Og.prototype=new sg;Og.prototype.I=Og;Og.prototype.className="Stack_A_R";Og.of1=function(b){return Og.of3(b.v,b.o,tg(b.o,b.body))};Og.of3=function(b,c,d){return(new Og).c(b,c,d)};Og.prototype.C=function(b,c,d){S(b,c,this.m,[d.a(),d.b()])};
function Pg(){}t["rainbow.function.interpreted.optimise.stack.Stack_R"]=Pg;Pg.prototype=new sg;Pg.prototype.I=Pg;Pg.prototype.className="Stack_R";Pg.of1=function(b){return Pg.of3(b.v,b.o,tg(b.o,b.body))};Pg.of3=function(b,c,d){return(new Pg).c(b,c,d)};Pg.prototype.C=function(b,c,d){S(b,c,this.m,[d])};function Qg(){}t["rainbow.function.interpreted.optimise.stack.Stack_D_A_A_A_A_d"]=Qg;Qg.prototype=new sg;Qg.prototype.I=Qg;Qg.prototype.className="Stack_D_A_A_A_A_d";
Qg.of1=function(b){return Qg.of3(b.v,b.o,tg(b.o,b.body))};Qg.of3=function(b,c,d){return(new Qg).c(b,c,d)};Qg.prototype.r=function(b,c){S(b,j,this.m,[c.a(),c.b().a(),c.b().b().a(),c.b().b().b().a()])};Qg.prototype.u=function(b,c,d){S(b,c,this.m,[d.a(),d.b().a(),d.b().b().a(),d.b().b().b().a()])};Qg.prototype.f=function(b,c){ng(this,1,c);this.r(b,c.a())};Qg.prototype.C=function(b,c,d){ng(this,1,d);this.u(b,c,d.a())};function Rg(){}t["rainbow.function.interpreted.optimise.stack.Stack_D_A_A_d"]=Rg;
Rg.prototype=new sg;Rg.prototype.I=Rg;Rg.prototype.className="Stack_D_A_A_d";Rg.of1=function(b){return Rg.of3(b.v,b.o,tg(b.o,b.body))};Rg.of3=function(b,c,d){return(new Rg).c(b,c,d)};Rg.prototype.r=function(b,c){S(b,j,this.m,[c.a(),c.b().a()])};Rg.prototype.u=function(b,c,d){S(b,c,this.m,[d.a(),d.b().a()])};Rg.prototype.f=function(b,c){ng(this,1,c);this.r(b,c.a())};Rg.prototype.C=function(b,c,d){ng(this,1,d);this.u(b,c,d.a())};function Sg(){}
t["rainbow.function.interpreted.optimise.stack.Stack_A_Oliteral"]=Sg;Sg.prototype=new sg;Sg.prototype.I=Sg;Sg.prototype.className="Stack_A_Oliteral";Sg.of1=function(b){var c=new Sg,d=tg(b.o,b.body),b=c.c(b.v,b.o,d);b.T=b.v.b().a().b().b().a();c=b.v.b().a().b().a();c instanceof L||g(new TypeError);if(b.eb(c,b.T))c=b.gb(c,b.T,!1),c instanceof Y||g(new TypeError),b.Z=c;return b};Sg.of3=function(b,c,d){c=(new Sg).c(b,c,d);c.T=b.a().b().b().a();return c};q=Sg.prototype;
q.r=function(b,c){this.Z!==j?this.Z.r(b,c):S(b,j,this.m,[c,this.T])};q.S=function(b,c,d){S(b,j,this.m,[c,d])};q.u=function(b,c,d){this.Z!==j?this.Z.u(b,c,d):S(b,c,this.m,[d,this.T])};q.ya=function(b,c,d,f){S(b,c,this.m,[d,f])};q.f=function(b,c){if(c instanceof y)lg(this,c);else{var d=c.a();c.b()instanceof y?this.r(b,d):this.S(b,d,c.b().a())}};q.C=function(b,c,d){if(d instanceof y)lg(this,d);else{var f=d.a();d.b()instanceof y?this.u(b,c,f):this.rd(b,c,f,d.b().a())}};function Tg(){}
t["rainbow.function.interpreted.optimise.stack.Stack_Oliteral"]=Tg;Tg.prototype=new sg;Tg.prototype.I=Tg;Tg.prototype.className="Stack_Oliteral";Tg.of1=function(b){var c=new Tg,d=tg(b.o,b.body),b=c.c(b.v,b.o,d);b.T=b.v.a().b().b().a();c=b.v.a().b().a();c instanceof L||g(new TypeError);if(b.eb(c,b.T))c=b.gb(c,b.T,!1),c instanceof Y||g(new TypeError),b.Z=c;return b};Tg.of3=function(b,c,d){c=(new Tg).c(b,c,d);c.T=b.a().b().b().a();return c};q=Tg.prototype;
q.za=function(b){this.Z!==j?this.Z.r(b):S(b,j,this.m,[this.T])};q.r=function(b,c){S(b,j,this.m,[c])};q.ia=function(b,c){this.Z!==j?this.Z.u(b,c):S(b,c,this.m,[this.T])};q.u=function(b,c,d){S(b,c,this.m,[d])};q.f=function(b,c){c instanceof y?this.za(b):(ng(this,1,c),this.r(b,c.a()))};q.C=function(b,c,d){d instanceof y?this.ia(b):(ng(this,1,d),this.u(b,c,d.a()))};function Ug(){this.c("macex")}Ug.prototype=new $;Ug.prototype.className="Macex";
Ug.prototype.f=function(b,c){if(c instanceof y)C(b,B);else{var d=c.a();if(d instanceof A){var f=d.a();f instanceof L?f.bound()?(f=f.value(),f=Yb(f),f===j?C(b,d):(d=d.b(),d instanceof A||g(new TypeError),D(b,new Vg(this)),va(f,b,d))):C(b,d):C(b,d)}else C(b,d)}};function Vg(b){this.e=j;this.n(b)}Vg.prototype=new M;Vg.prototype.className="Macex.Again";Vg.prototype.d=function(b){this.e.f(b,new A(Q(b),B))};function Wg(){this.c("uniq")}Wg.prototype=new $;Wg.prototype.className="Uniq";
Wg.prototype.r=function(b){C(b,J("gs"+ ++Xg))};Wg.prototype.h=function(b){try{b.Ia()}catch(c){c instanceof ua||g(new r("uniq: expects no args, got "+b))}return J("gs"+ ++Xg)};var Xg=0;function Yg(){this.c("details")}Yg.prototype=new $;Yg.prototype.className="Details";Yg.prototype.h=function(b){b=b.a();try{b instanceof pa||g(new TypeError)}catch(c){c instanceof TypeError||g(c),g(new r("Wrong argument type: "+this+" expected an exception, got "+b))}return b.message()};function Zg(){this.c("err")}
Zg.prototype=new $;Zg.prototype.className="Err";Zg.prototype.h=function(b){g(new r(Eb(b.a(),this).value()))};function $g(){this.c("on-err")}$g.prototype=new $;$g.prototype.className="OnErr";$g.prototype.h=function(b){var c=new Bc(b.a(),vm.N);c.n(this);D(vm,c);b.b().a().f(vm,B)};function ah(){this.c("protect");this.kd=new bh(this)}ah.prototype=new $;ah.prototype.className="Protect";function bh(b){this.hd=b}bh.prototype=new Je;bh.prototype.Ob=function(b){b.n(this.hd)};
ah.prototype.f=function(b,c){var d=new A(new Ec(c.b().a()),new A(new Jc("clear up 'protect/after' return value"),B));d.j(this.kd);R(b,j,d);c.a().f(b,B)};function ch(){this.c("apply")}ch.prototype=new $;q=ch.prototype;q.className="Apply";q.za=function(){g(new r("apply: expects at least 2 args, got none"))};q.r=function(b,c){g(new r("apply: expects at least 2 args, got "+c))};q.S=function(b,c,d){d instanceof A||g(new TypeError);c.f(b,d)};q.Pa=function(b,c,d,f){c.f(b,new A(d,f))};
q.f=function(b,c){var d=c.a(),f=c.b();f instanceof A||g(new TypeError);d.f(b,dh(this,f))};function dh(b,c){return c.b()instanceof y?hb(c.a(),b):new A(c.a(),dh(b,hb(c.b(),b)))}function eh(){this.c("eval")}eh.prototype=new $;eh.prototype.className="Eval";eh.prototype.f=function(b,c){D(b,new fh(this));ef(b,c.a(),[])};function fh(b){this.e=j;this.n(b)}fh.prototype=new M;fh.prototype.className="Eval.ReduceAndExecute";fh.prototype.d=function(b){var c=[];Q(b).reduce().l(c);R(b,j,w(c))};
function gh(){this.c("ssexpand")}gh.prototype=new $;gh.prototype.className="SSExpand";gh.prototype.h=function(b){return kf(Ta(b.a(),this))};
function kf(b){b=b.name();if(/:/.test(b)||/^~/.test(b)){b=b.split(":");if(b.length===1)b=hh(b[0]);else{for(var c=[J("compose")],d=0,f=b.length;d<f;d++)c.push(hh(b[d]));b=ab(c,B)}return b}else if(dg(b)){c=[J("andf")];d=0;for(b=ih(b).length;d<b;d++)f=Ea(s),f instanceof L||g(new TypeError),c.add(jh(f));return w(c)}else if(/[.!]/.test(b)){for(var c=b.replace(/#/g,"#h").replace(/%/g,"#p").replace(/([.!])/g,"%$1%").split(/%+/),d=[],f=!1,h=0,k=c.length;h<k;h++)if(c[h]!==""){var o=Ea(c[h].replace(/#p/g,"%").replace(/#h/g,
"#"));o===Ia||o===Va?f?g(new r("Bad syntax "+b)):f=!0:f=!1;d.unshift(o)}f&&d.unshift(J("#<eof>"));return kh(d,0)}else g(new r("Unknown syntax "+b))}function ih(b){return b.length===0?[""]:b.charCodeAt(0)===eg?(b=ih(b.substring(1)),b[0]=fg+b[0],b):b.charCodeAt(b.length-1)===eg?(b=ih(b.substring(0,b.length-1)),b[b.length-1]+=fg,b):b.split(fg)}
function kh(b,c){var d=jh(b[c++]),f=j;c<b.length&&(f=b[c++],f instanceof L||g(new TypeError));d=f===Va?w([J("quote"),d]):d;return c<b.length?w([kh(b,c),d]):f!==j?w([J("get"),d]):d}function lh(b){try{return ya(b)}catch(c){c instanceof qa||g(c),g(new r("Couldn't read value of symbol: "+b,c))}}function jh(b){if(b instanceof y)return b;b instanceof L||g(new TypeError);return lh(b.name())}function hh(b){return/^~/.test(b)?w([J("complement"),lh(b.substring(1))]):lh(b)}var fg="&",eg="&".charCodeAt(0);
function mh(){this.c("ssyntax")}mh.prototype=new $;mh.prototype.className="SSyntax";mh.prototype.h=function(b){return b.a()instanceof L&&jf(b.a())?Ma:B};function jf(b){var c;c=b.name();if(!(c=/:/.test(c)||/^~/.test(c)))if(!(c=dg(b.name())))c=/[.!]/.test(b.name());return c}function nh(){this.c("java-debug")}nh.prototype=new $;nh.prototype.className="JavaDebug";nh.prototype.h=function(b){return b.a()};function oh(){this.c("car")}oh.prototype=new $;oh.prototype.className="Car";
oh.prototype.r=function(b,c){C(b,c.a())};oh.prototype.h=function(b){cg(b,1,this.className);return b.a().a()};function ph(){this.c("cdr")}ph.prototype=new $;ph.prototype.className="Cdr";ph.prototype.r=function(b,c){C(b,c.b())};ph.prototype.h=function(b){cg(b,1,this.className);return b.a().b()};function qh(){this.c("cons")}qh.prototype=new $;qh.prototype.className="Cons";qh.prototype.S=function(b,c,d){C(b,new A(c,d))};qh.prototype.h=function(b){cg(b,2,this.className);return new A(b.a(),b.b().a())};
function rh(){this.c("len")}rh.prototype=new $;rh.prototype.className="Len";rh.prototype.h=function(b){Ab(b,this.className,1);return new P(b.a().ga(),1)};function sh(){this.c("newstring")}sh.prototype=new $;sh.prototype.className="NewString";sh.prototype.h=function(b){var c=b.a();c instanceof O||g(new TypeError);var d=vb;b.b()instanceof y||(d=b.b().a(),d instanceof N||g(new TypeError));for(var b=[],f=0;f<c.H();f++)b.push(d.value());return F(b.join(""))};function th(){this.c("scar")}th.prototype=new $;
th.prototype.className="Scar";th.prototype.S=function(b,c,d){C(vm,c.Mb(d))};th.prototype.h=function(b){return b.a().Mb(b.b().a())};function uh(){this.c("scdr")}uh.prototype=new $;uh.prototype.className="Scdr";uh.prototype.h=function(b){var c=b.a();c instanceof A||g(new TypeError);b=b.b().a();c.zc(b);return b};function vh(){this.c("acos")}vh.prototype=new $;vh.prototype.className="Acos";vh.prototype.h=function(b){Ab(b,this.className,1);b=Math.acos(Wa(b.a(),this).B());return new H(b)};
function wh(){this.c("+")}wh.prototype=new $;q=wh.prototype;q.className="Add";q.za=function(b){C(b,Ub)};q.r=function(b,c){C(b,c)};q.S=function(b,c,d){C(b,c.add(d))};q.Pa=function(b,c,d,f){C(b,c.add(d).add(f))};q.h=function(b){if(b instanceof y)return Ub;for(var c=b.a(),b=b.b();!(b instanceof y);)c=c.add(b.a()),b=b.b();return c};function xh(){this.c("asin")}xh.prototype=new $;xh.prototype.className="Asin";xh.prototype.h=function(b){Ab(b,this.className,1);b=Math.asin(Wa(b.a(),this).B());return new H(b)};
function yh(){this.c("atan")}yh.prototype=new $;yh.prototype.className="Atan";yh.prototype.h=function(b){Ab(b,this.className,1);b=Math.atan(Wa(b.a(),this).B());return new H(b)};function zh(){this.c("complex-parts")}zh.prototype=new $;zh.prototype.className="ComplexParts";zh.prototype.h=function(b){Ab(b,this.className,1);b=Nb(b.a(),this);return w([new H(b.O),new H(b.K)])};function Ah(){this.c("cos")}Ah.prototype=new $;Ah.prototype.className="Cosine";
Ah.prototype.h=function(b){Ab(b,this.className,1);b=Math.cos(Wa(b.a(),this).B());return new H(b)};function Bh(){this.c("/")}Bh.prototype=new $;Bh.prototype.className="Divide";Bh.prototype.h=function(b){b instanceof y&&g(new r("Function `/` expected at least 1 arg"));return Ch(b).pc(b)};function Dh(){this.c("expt")}Dh.prototype=new $;Dh.prototype.className="Expt";
Dh.prototype.h=function(b){Ab(b,this.className,2);var c=b.a();c instanceof O||g(new TypeError);b=b.b().a();b instanceof O||g(new TypeError);return c instanceof I?Rb(c,b):b instanceof I?Rb(new I(c.B(),0),b):(c=c.B(),b=b.B(),new H(Math.pow(c,b)))};function Eh(){this.c("log")}Eh.prototype=new $;Eh.prototype.className="Logarithm";Eh.prototype.h=function(b){Ab(b,this.className,1);b=Wa(b.a(),this);return b instanceof I?b.log():new H(Math.log(b.B()))};function Fh(){this.c("make-complex")}Fh.prototype=new $;
Fh.prototype.className="MakeComplex";Fh.prototype.h=function(b){Ab(b,this.className,2);var c=Wa(b.a(),this),b=Wa(b.b().a(),this);return new I(c.B(),b.B())};function Gh(){for(;;){var b=Math.floor(Math.ed()*9007199254740992);if(b<9007199254740992)return b}}function Ch(b){return b instanceof y?Hh:b.a()instanceof H?Ih:b.a()instanceof I?complexOps:(b.b()instanceof A||g(new TypeError),Ch(b.b()))}function Jh(){}Jh.prototype.ic=i;Jh.prototype.multiply=i;Jh.prototype.pc=i;function Kh(){}Kh.prototype=new Jh;
Kh.prototype.ic=function(b){return Ga(Lh(this,b))};function Lh(b,c){if(c instanceof y)return 0;var d=c.a();d instanceof O||g(new TypeError);var d=d.B(),f=c.b();f instanceof A||g(new TypeError);return d+Lh(b,f)}Kh.prototype.multiply=function(b){return Ga(Mh(this,b))};Kh.prototype.pc=function(b){var c=b.b(),d=b.a();d instanceof O||g(new TypeError);c=c instanceof y?1/d.B():d.B();b=b.b();b instanceof A||g(new TypeError);return Ga(c/Mh(this,b))};
function Mh(b,c){if(c instanceof y)return 1;var d=c.a();d instanceof O||g(new TypeError);var d=d.B(),f=c.b();f instanceof A||g(new TypeError);f=Mh(b,f);return d*f}var Ih=new Kh;function Nh(){}Nh.prototype=new Jh;Nh.prototype.ic=function(b){if(b instanceof y)return Ub;else{var c=b.a();c instanceof P||g(new TypeError);b=b.b();b instanceof A||g(new TypeError);return c.wb(this.ic(b))}};
Nh.prototype.multiply=function(b){if(b instanceof y)return Vb;var c=b.a();c instanceof P||g(new TypeError);b=b.b();b instanceof A||g(new TypeError);return Tb(c,this.multiply(b))};Nh.prototype.pc=function(b){var c=b.b(),d=b.a();d instanceof P||g(new TypeError);c=c instanceof y?new P(d.U,d.ca):d;b=b.b();b instanceof A||g(new TypeError);b=this.multiply(b);b=new P(b.U,b.ca);return Tb(c,b)};var Hh=new Nh;function Oh(){this.c("mod")}Oh.prototype=new $;Oh.prototype.className="Mod";
Oh.prototype.S=function(b,c,d){c instanceof O||g(new TypeError);d instanceof O||g(new TypeError);C(b,c.Lc(d))};Oh.prototype.f=function(b,c){Ab(c,this.className,2);this.S(b,c.a(),c.b().a())};function Ph(){this.c("*")}Ph.prototype=new $;q=Ph.prototype;q.className="Multiply";q.za=function(b){C(b,Vb)};q.r=function(b,c){C(b,c)};q.S=function(b,c,d){C(b,c.multiply(d))};q.Pa=function(b,c,d,f){C(b,c.multiply(d).multiply(f))};
q.h=function(b){if(b instanceof y)return Vb;for(var c=b.a(),b=b.b();!(b instanceof y);)c=c.multiply(b.a()),b=b.b();return c};function Qh(){this.c("polar-coordinates")}Qh.prototype=new $;Qh.prototype.className="PolarCoordinates";Qh.prototype.h=function(b){Ab(b,this.className,1);b=Nb(b.a(),this);return w([new H(Math.sqrt(b.O*b.O+b.K*b.K)),new H(Math.atan2(b.K,b.O))])};function Rh(){this.c("quotient")}Rh.prototype=new $;Rh.prototype.className="Quotient";
Rh.prototype.h=function(b){cg(b,2,this.className);var c=Xa(b.a(),this),d=Xa(b.b().a(),this);(!c.ja()||!d.ja())&&g(new r("Type error: "+this+" : expected integer, got "+b));b=c.H()/d.H();return G(b<0?Math.ceil(b):Math.floor(b))};function Sh(){this.c("rand")}Sh.prototype=new $;Sh.prototype.className="Rand";
Sh.prototype.h=function(b){if(b instanceof y)return new H(Math.ed());else{var c=b.a();c instanceof O||g(new TypeError);c.ja()||g(new r("rand: requires one exact integer argument, got "+b));return new P(Math.abs(Gh()%c.H()),1)}};function Th(){this.c("sin")}Th.prototype=new $;Th.prototype.className="Sine";Th.prototype.h=function(b){Ab(b,this.className,1);b=Math.sin(Wa(b.a(),this).B());return new H(b)};function Uh(){this.c("sqrt")}Uh.prototype=new $;Uh.prototype.className="Sqrt";
Uh.prototype.r=function(b,c){C(b,c.sqrt())};Uh.prototype.f=function(b,c){cg(c,1,this.className);this.r(b,c.a())};function Vh(){this.c("-")}Vh.prototype=new $;q=Vh.prototype;q.className="Subtract";q.r=function(){g(new r("- : expected at least 1 arg"))};q.r=function(b,c){c instanceof O||g(new TypeError);C(b,c.kb())};q.S=function(b,c,d){d instanceof O||g(new TypeError);C(b,c.add(d.kb()))};
q.h=function(b){b instanceof y&&g(new r("Function `-` expected at least 1 arg"));var c=b.a();c instanceof O||g(new TypeError);c=c.kb();b=b.b();b instanceof A||g(new TypeError);b instanceof y?b=c:(b=new A(c,b),b=Ch(b).ic(b).kb());return b};function Wh(){this.c("tan")}Wh.prototype=new $;Wh.prototype.className="Tangent";Wh.prototype.h=function(b){Ab(b,this.className,1);b=Math.tan(Wa(b.a(),this).B());return new H(b)};function Xh(){this.c("trunc")}Xh.prototype=new $;Xh.prototype.className="Trunc";
Xh.prototype.h=function(b){Ab(b,this.className,1);b=b.a();b instanceof O||g(new TypeError);b=b.B();return new P(Math.floor(b),1)};function Yh(){this.c("bound")}Yh.prototype=new $;Yh.prototype.className="Bound";Yh.prototype.za=function(){g(new r("bound: requires 1 arg"))};Yh.prototype.r=function(b,c){c instanceof L||g(new TypeError);C(b,ob(c.bound()))};Yh.prototype.h=function(b){Ab(b,this.className,1);b=Ta(b.a(),this);return ob(b.bound())};function Zh(){this.c("exact")}Zh.prototype=new $;
Zh.prototype.className="Exact";Zh.prototype.h=function(b){b=Wa(b.a(),this);return ob(b instanceof P&&b.ja())};function $h(){this.c(">")}$h.prototype=new $;q=$h.prototype;q.className="GreaterThan";q.za=function(b){C(b,Ma)};q.r=function(b){C(b,Ma)};q.S=function(b,c,d){C(b,c.na(d)<=0?B:Ma)};q.h=function(b){if(b.ga()<2)return Ma;var c=b.a(),b=b.b();for(b instanceof A||g(new TypeError);!(b instanceof y);){var d=b.a();if(c.na(d)<=0)return B;c=d;b=b.b();b instanceof A||g(new TypeError)}return Ma};
function ai(){this.c("is")}ai.prototype=new $;q=ai.prototype;q.className="Is";q.za=function(b){C(b,Ma)};q.r=function(b){C(b,Ma)};q.S=function(b,c,d){C(b,ob(c.Ba(d)))};q.h=function(b){return bi(this,b.a(),b.b())};function bi(b,c,d){return d instanceof y?Ma:!c.Ba(d.a())?B:bi(b,c,d.b())}function ci(){this.c("<")}ci.prototype=new $;q=ci.prototype;q.className="LessThan";q.za=function(b){C(b,Ma)};q.r=function(b){C(b,Ma)};q.S=function(b,c,d){C(b,c.na(d)<0?Ma:B)};
q.h=function(b){var c=b.a(),b=b.b();for(b instanceof A||g(new TypeError);!(b instanceof y);){var d=b.a();if(c.na(d)>=0)return B;c=d;b=b.b();b instanceof A||g(new TypeError)}return Ma};function di(){this.c("rainbow-debug")}di.prototype=new $;di.prototype.className="RainbowDebug";di.prototype.f=function(b){uc(b,Xe);C(b,J(this.ba))};function ei(){this.c("rainbow-profile")}ei.prototype=new $;ei.prototype.className="RainbowProfile";ei.prototype.za=function(b){this.profile(b);C(b,B)};
ei.prototype.r=function(b,c){c instanceof ac||g(new TypeError);this.profile(c);C(b,B)};ei.prototype.profile=function(b){uc(b,bf)};function fi(){this.c("rainbow-profile-report")}fi.prototype=new $;fi.prototype.className="RainbowProfileReport";fi.prototype.za=function(b){C(b,this.fd(b))};fi.prototype.r=function(b,c){c instanceof ac||g(new TypeError);C(b,this.fd(b))};function gi(){this.c("current-gc-milliseconds")}gi.prototype=new $;gi.prototype.className="CurrentGcMilliseconds";gi.prototype.f=function(){return G(1)};
function hi(){this.c("current-process-milliseconds")}hi.prototype=new $;hi.prototype.className="CurrentProcessMilliseconds";hi.prototype.f=function(){return G(1)};function ii(){this.c("declare")}ii.prototype=new $;ii.prototype.className="Declare";ii.prototype.S=function(b,c,d){c===ji?(c=ff,ff=d,C(b,c)):C(b,B)};ii.prototype.f=function(b,c){this.S(b,c.a(),c.b().a())};var ji=J("atstrings");function ki(){this.c("msec")}ki.prototype=new $;ki.prototype.className="MSec";ki.prototype.h=function(){return G((new Date).getTime())};
function li(){this.c("seconds")}li.prototype=new $;li.prototype.className="Seconds";li.prototype.h=function(){var b=(new Date).getTime()/1E3;return G(b<0?Math.ceil(b):Math.floor(b))};function mi(){this.c("maptable")}mi.prototype=new $;mi.prototype.className="MapTable";mi.prototype.S=function(b,c,d){C(b,d);d instanceof sa||g(new TypeError);C(b,ec(d));c=new Mc(c);c.n(this);D(b,c)};mi.prototype.f=function(b,c){cg(c,2,this.className);this.S(b,c.a(),c.b().a())};function ni(){this.c("sref")}
ni.prototype=new $;ni.prototype.className="Sref";ni.prototype.Pa=function(b,c,d,f){C(b,c.hc(d,f))};ni.prototype.f=function(b,c){cg(c,3,this.className);this.Pa(b,c.a(),c.b().a(),c.b().b().a())};function oi(){this.c("table")}oi.prototype=new $;oi.prototype.className="Table";oi.prototype.f=function(b,c){var d=new sa;C(b,d);if(!(c instanceof y)){var f=new Jc("table-initialiser");f.n(this);D(b,f);c.a().f(b,w([d]))}};function pi(){this.c("atomic-invoke")}pi.prototype=new $;pi.prototype.className="AtomicInvoke";
pi.prototype.r=function(b,c){for(;b!==qi&&qi!==j;);qi=b;ri++;var d=new si;d.n(this);D(b,d);c.f(b,B)};pi.prototype.f=function(b,c){this.r(b,c.a())};function si(){this.e=j}si.prototype=new M;si.prototype.className="AtomicInvoke.ReleaseLock";si.prototype.d=function(){ri--;ri===0&&(qi=j)};var qi=j,ri=0;function ti(){this.c("break-thread")}ti.prototype=new $;ti.prototype.className="BreakThread";ti.prototype.h=function(b){b=b.a();b instanceof ac||g(new TypeError);uc(b,Ze);return B};
function ui(){this.c("ccc")}ui.prototype=new $;ui.prototype.className="CCC";ui.prototype.r=function(b,c){c instanceof y&&g(new r("Can't ccc nil!"));c.r(b,new vi(b))};ui.prototype.f=function(b,c){Ab(c,this.className,1);this.r(b,c.a())};function vi(b){this.Nb=b;this.od=!1}vi.prototype=new x;q=vi.prototype;q.className="CCC.ContinuationWrapper";
q.r=function(b,c){var d;a:{for(d=0;d<b.g;d++)if(b.D[d]!==this.Nb.D[d]){d-=1;break a}d=b.g}for(var f=[],h=[];d<b.g;)lc(b).a().Fb&&(f.push(lc(b)),h.push(b.fa[b.g])),b.g--;d=[f,h];this.Nb.copyTo(b);C(b,c);for(f=d[0].length-1;0<=f;f--)h=d[1][f],h instanceof u||g(new TypeError),d[0][f]instanceof A||g(new TypeError),R(b,h,instructions)};q.f=function(b,c){this.r(b,c.a())};q.type=function(){return bg};q.toString=function(){return"#<continuation ip:"+this.Nb.g+";ap:"+this.Nb.N+";VM#"+this.Nb.Ac+">"};
function wi(){this.c("dead")}wi.prototype=new $;wi.prototype.className="Dead";wi.prototype.f=function(b,c){var d=c.a();d instanceof ac||g(new TypeError);return ob(d.Ub)};function xi(){this.c("kill-thread")}xi.prototype=new $;xi.prototype.className="KillThread";xi.prototype.f=function(b,c){var d=c.a();d instanceof ac||g(new TypeError);uc(d,Ze);return B};function yi(){this.c("thread-local")}yi.prototype=new $;yi.prototype.className="NewThreadLocal";yi.prototype.h=function(){return new Jb};
function zi(){this.c("thread-local-ref")}zi.prototype=new $;zi.prototype.className="ThreadLocalGet";zi.prototype.h=function(b){return Lb(b.a(),this).get()};function Ai(){this.c("thread-local-set")}Ai.prototype=new $;Ai.prototype.className="ThreadLocalSet";Ai.prototype.h=function(b){var c=Lb(b.a(),this),b=b.b().a();c.set(b);return b};function Bi(){this.c("annotate")}Bi.prototype=new $;Bi.prototype.className="Annotate";
Bi.prototype.h=function(b){var c=b.a(),b=b.b().a();return c===b.type()?b:new Xb(c,b)};function Ci(){this.c("coerce");Di()}Ci.prototype=new $;Ci.prototype.className="Coerce";Ci.prototype.S=function(b,c,d){var f=c.type();if(f===d)C(b,c);else try{d instanceof L||g(new TypeError),f instanceof L||g(new TypeError),(d.rb[f]||j).r(b,c)}catch(h){h instanceof Ei&&g(new r("Can't coerce "+c+" to "+d)),g(new r("Can't coerce "+c+" ( a "+c.type()+" ) to "+d,h))}};
Ci.prototype.Pa=function(b,c,d,f){var h=c.type();if(h===d)C(b,c);else try{d instanceof L||g(new TypeError),h instanceof L||g(new TypeError),(d.rb[h]||j).S(b,c,f)}catch(k){k instanceof Ei&&g(new r("Can't coerce "+c+" to "+d)),g(new r("Can't coerce "+c+" ( a "+c.type()+" ) to "+d,k))}};Ci.prototype.f=function(b,c){c.sb(2)?this.S(b,c.a(),c.b().a()):c.sb(3)?this.Pa(b,c.a(),c.b().a(),c.b().b().a()):g(new r("coerce expects 2 or 3 args, got "+c))};function Fi(){this.c("rep")}Fi.prototype=new $;
Fi.prototype.className="Rep";Fi.prototype.h=function(b){var c=b.a();if(c instanceof Xb){b=b.a();try{b instanceof Xb||g(new TypeError)}catch(d){d instanceof TypeError||g(d),g(new r("Wrong argument type: "+this+" expected a Tagged, got "+b))}b=b.nb}else b=c;return b};function Gi(){this.c("type")}Gi.prototype=new $;Gi.prototype.className="Type";Gi.prototype.r=function(b,c){C(b,c.type())};Gi.prototype.h=function(b){Ab(b,this.className,1);return b.a().type()};
var Cb=J("string"),Hi=J("sym"),Ii=J("int"),Ji=J("num"),Ki=J("cons"),Li=J("char");
function Di(){Ua(Ki,Cb,new Db("string-cons",function(b){b instanceof Ca||g(new TypeError);for(var b=b.value(),c=[],d=0;d<b.length;d++)c.push(Da(b.charCodeAt(d)));return w(c)}));Ua(Cb,Ki,new Db("cons-string",function(b){b instanceof A||g(new TypeError);for(var c=[];!(b instanceof y);)c.push(b.a().Ua()),b=b.b(),b instanceof A||g(new TypeError);return F(c.join(""))}));Ua(Cb,Ii,new Db("int-string",function(b){return this.qb(b,Wb)},function(b,c){c instanceof O||g(new TypeError);b instanceof O||g(new TypeError);
var d;b instanceof I?d=F(b.toString()):b instanceof H&&c.H()!==10?g(new Ei):d=b instanceof P?b.stringify(c):Mi(b,c);return d}));Ua(Cb,Ji,new Db("num-string",function(b){return this.qb(b,Wb)},function(b,c){c instanceof O||g(new TypeError);b instanceof O||g(new TypeError);var d;b instanceof I?d=F(b.toString()):b instanceof H&&c.H()!==10?g(new Ei):d=b instanceof P?b.stringify(c):Mi(b,c);return d}));Ua(Hi,Cb,new Db("string-sym",function(b){b instanceof Ca||g(new TypeError);return Ea(b.value())}));Ua(Cb,
Hi,new Db("sym-string",function(b){return b instanceof y?F(""):F(b.Ua())}));Ua(Ii,Li,new Db("char-int",function(b){b instanceof N||g(new TypeError);b=b.value();return G(b)},function(b){return this.Cb(b)}));Ua(Ii,Ji,new Db("num-int",function(b){b instanceof O||g(new TypeError);return b.round()},function(b){return this.Cb(b)}));Ua(Ji,Ii,new Db("int-num",aa()));Ua(Li,Ii,new Db("int-char",function(b){b instanceof O||g(new TypeError);b.ja()||g(new Ei);return Da(b.H())}));Ua(Cb,Li,new Db("char-string",
function(b){b instanceof N||g(new TypeError);b=b.value();return F(String.fromCharCode(b))}));Ua(Hi,Li,new Db("char-sym",function(b){b instanceof N||g(new TypeError);b=b.value();return Ea(String.fromCharCode(b))}));Ua(Ji,Cb,new Db("string-num",function(b){return this.qb(b,Wb)},function(b,c){c instanceof O||g(new TypeError);b instanceof Ca||g(new TypeError);var d=b.value().toLowerCase();if(d==="+inf.0")d=new H(1/0);else if(d==="-inf.0")d=new H(-1/0);else if(d==="+nan.0")d=new H(0/0);else{var f;if(/i$/i.test(d))try{f=
Mb()}catch(h){h instanceof qa||g(h),g(new Ei)}else/\./.test(d)||c.H()<15&&/.e./.test(d)?d=Ni(d,c.H()):/\//.test(d)?d=Qi(d,c.H()):(f=c.H(),d=G(parseInt(d,~~f))),f=d;d=f}return d}));Ua(Ii,Cb,new Db("string-int",function(b){return this.qb(b,Wb)},function(b,c){c instanceof O||g(new TypeError);b instanceof Ca||g(new TypeError);var d=b.value().toLowerCase();if(d==="+inf.0"||d==="-inf.0"||d==="+nan.0"||/i$/i.test(d))g(new Ei);else if(/\./.test(d)||c.H()<15&&/.e./i.test(d))return d=Ni(d,c.H()),d instanceof
H||g(new TypeError),d.fc();else if(/\//.test(d))return d=Qi(d,c.H()),d instanceof P||g(new TypeError),d.fc();else{var f=c.H();return G(parseInt(d,~~f))}}))}function Mi(b,c){if(c.H()===10)return F(b.toString());else{var d=b.H().toString(~~c.H());return F(""+d+".0")}}function Qi(b,c){var d=b.split(/\//g);2<d.length&&g(new Ei);return new P(parseInt(d[0],~~c),parseInt(d[1],~~c))}
function Ni(b,c){var d=!1;/^-/.test(b)&&(d=!0,b=b.substring(1));b=b.toUpperCase();/E/.test(b)||(b+="E0");if(/\./.test(b))/^\./.test(b)&&(b="0"+b);else var f=b.split(/E/g),b=f[0]+".0E"+f[1];var f=b.split(/\./g),h=parseInt(f[0],~~c),f=f[1].split(/E/g);/^\+/.test(f[1])&&(f[1]=f[1].substring(1));f=(h+parseInt(f[0],~~c)/Math.pow(c,f[0].length))*Math.pow(c,parseInt(f[1],~~c));d&&(f=-f);return Ga(f)}function Db(b,c,d){this.ba=b;if(c!==i)this.Cb=c;if(d!==i)this.qb=d}Db.prototype=new x;q=Db.prototype;
q.className="Typing.Coercion";q.type=function(){return J("fn")};q.Cb=function(){g(new r("not implemented: "+name+".coerce 1 arg"))};q.qb=function(){g(new r("not implemented: "+name+".coerce 2 args"))};q.r=function(b,c){C(b,this.Cb(c))};q.S=function(b,c,d){C(b,this.qb(c,d))};function Ei(){}Ei.prototype=Error();function Ri(b){this.pa=b}Ri.prototype=new qb;q=Ri.prototype;q.className="Input";
q.dc=function(b,c){return this.pa.dc(function(c,f){return c?b(new r("Cannot read byte from "+this,c)):f===j?b(j,B):b(j,G(f))},c)};function Si(b,c,d){return b.pa.ec(function(b,d){return b?c(new r("reading character: "+b)):d===j?c(j,B):c(j,Da(d))},d)}function Ti(b,c,d,f){return Aa(b.pa,function(b,f){return b?d(new r("Can't parse input: "+b,b)):f===j?d(j,c):d(j,f)},f)}q.type=function(){return Ui};q.va=m("pa");q.close=function(){this.nd=!0;this.pa.close()};
function Vi(b,c){try{return b instanceof Ri||g(new TypeError),b}catch(d){d instanceof TypeError||g(d),g(new r("Wrong argument type: "+c+" expected input-port, got "+b))}}var Ui=J("input");function Wi(b){this.bb=b}Wi.prototype=new qb;q=Wi.prototype;q.className="Output";q.write=function(b){this.bb.Sa(""+b)};q.type=function(){return Xi};q.va=m("bb");q.close=function(){this.bb.close()};q.kc=function(b){this.bb.kc(b)};
function Yi(b,c){try{return b instanceof Wi||g(new TypeError),b}catch(d){d instanceof TypeError||g(d),g(new r("Wrong argument type: "+c+" expected output-port, got "+b))}}q.flush=function(){this.bb.flush()};var Xi=J("output");
function Ba(b){function c(){if(b.length<=h)return!1;var c=b.charCodeAt(h++);f.push(c>>>8&255,c&255);return!0}function d(){return f.length!==0||c()?f.shift():j}var f=[],h=0;Ri.call(this,{dc:function(b){b(j,d());return!0},ec:function(b){var c=d(),f=d();b(j,f===j?j:c<<8|f);return!0},cb:function(b){b(j,2<=f.length||c()?f[0]<<8|f[1]:j);return!0},close:l()})}Ba.prototype=new Ri(i);Ba.prototype.className="StringInputPort";
function Zi(){var b=this;b.Jb=[];b.jb=j;Wi.call(this,{Sa:function(c){if(b.jb===j)b.Jb.push(c);else for(var d=0,f=c.length;d<f;d++){var h=c.charCodeAt(d);b.Jb.push(String.fromCharCode(b.jb<<8|h>>>8&255));b.jb=h&255}},kc:function(c){b.jb===j?b.jb=c:(b.Jb.push(String.fromCharCode(b.jb<<8|c)),b.jb=j)},close:l(),flush:l()})}Zi.prototype=new Wi(i);Zi.prototype.className="StringOutputPort";Zi.prototype.value=function(){var b=this.Jb.join("");this.Jb=[b];return F(b)};Zi.prototype.toString=n("#<string-output-port>");
function $i(){this.bb=ka}$i.prototype=new Wi(i);$i.prototype.className="IO.Anon_STD_OUT_";$i.prototype.close=l();$i.prototype.toString=n("IO.STD_OUT");var aj=new $i;function bj(){this.bb=la}bj.prototype=new Wi(i);bj.prototype.className="IO.Anon_STD_ERR_";bj.prototype.close=l();bj.prototype.toString=n("IO.STD_ERR");var cj=new bj;function dj(){this.pa=ja}dj.prototype=new Ri(i);dj.prototype.className="IO.Anon_STD_IN_";dj.prototype.close=l();dj.prototype.toString=n("IO.STD_IN");
var ej={value:new dj},fj={value:aj};function gj(b,c){return b instanceof y?fj.value:Yi(b,c)}function hj(b,c){return b instanceof y?ej.value:Vi(b,c)}function ij(b){for(;!(b instanceof y);){var c=b.a();c instanceof Ri?c.close():c instanceof Wi?c.close():c instanceof ArcSocket?c.close():g(new r("close: expected Input or Output object; got "+c));b=b.b();b instanceof A||g(new TypeError)}return B}function jj(){this.c("close")}jj.prototype=new $;jj.prototype.className="Close_Builtin";jj.prototype.h=function(b){return ij(b)};
function kj(){this.c("disp")}kj.prototype=new $;kj.prototype.className="Disp";kj.prototype.r=function(b,c){fj.value.write(c.Ua());C(b,B)};kj.prototype.h=function(b){var c=gj(b.b().a(),this),b=b.a();c.write(b.Ua());return B};function lj(){this.c("flushout")}lj.prototype=new $;lj.prototype.className="FlushOut";lj.prototype.h=function(){fj.value.flush();return Ma};function mj(){this.c("force-close")}mj.prototype=new $;mj.prototype.className="ForceClose";mj.prototype.h=function(b){return ij(b)};
function nj(){this.c("stderr")}nj.prototype=new $;nj.prototype.className="StdErr";nj.prototype.h=function(){return cj};function oj(){this.c("stderr")}oj.prototype=new $;oj.prototype.className="StdIn";oj.prototype.h=function(b){cg(b,0,this.className);return ej.value};function pj(){this.c("stdout")}pj.prototype=new $;pj.prototype.className="StdOut";pj.prototype.h=function(){return fj.value};function qj(){this.c("write")}qj.prototype=new $;qj.prototype.className="Write";
qj.prototype.h=function(b){gj(b.b().a(),this).write(b.a());return B};function rj(){this.c("writeb")}rj.prototype=new $;rj.prototype.className="WriteB";rj.prototype.h=function(b){var c=gj(b.b().a(),this),b=Xa(b.a(),this);b.ja()||g(new r("write byte: expected byte, got "+b));c.kc(b.H());return B};function sj(){this.c("writec")}sj.prototype=new $;sj.prototype.className="WriteC";sj.prototype.h=function(b){var c=gj(b.b().a(),this),d=tb(b.a(),this);c.bb.Sa(String.fromCharCode(d.value()));return b.a()};
function tj(){this.c("instring")}tj.prototype=new $;tj.prototype.className="InString";tj.prototype.h=function(b){return new Ba(Eb(b.a(),this).value())};function uj(){this.c("inside")}uj.prototype=new $;uj.prototype.className="Inside";uj.prototype.h=function(b){b=b.a();try{b instanceof Zi||g(new TypeError)}catch(c){c instanceof TypeError||g(c),g(new r("Wrong argument type: "+this+" expected a StringOutputPort, got "+b))}return b.value()};function vj(){this.c("outstring")}vj.prototype=new $;
vj.prototype.className="OutString";vj.prototype.h=function(){return new Zi};function wj(){this.c("call-w/stdin")}wj.prototype=new $;wj.prototype.className="CallWStdIn";wj.prototype.f=function(b,c){var d=new Kc(ej,ej.value);d.n(this);D(b,d);ej.value=Vi(c.a(),this);c.b().a().f(b,B)};function xj(){this.c("call-w/stdout")}xj.prototype=new $;xj.prototype.className="CallWStdOut";xj.prototype.f=function(b,c){var d=new Kc(fj,fj.value);d.n(this);D(b,d);fj.value=Yi(c.a(),this);c.b().a().f(b,B)};
function yj(){this.c("readb")}yj.prototype=new $;yj.prototype.className="ReadB";yj.prototype.r=function(b,c){D(b,new zj(hj(c,this)))};yj.prototype.f=function(b,c){D(b,new zj(hj(c.a(),this)))};function zj(b){this.e=j;this.Kb=b;this.n(parent);this.Gc=this.Qc=!1;this.F=i}zj.prototype=new M;zj.prototype.Xb=!0;zj.prototype.className="ReadB.Go";zj.prototype.vc=function(b,c,d){return this.Kb.dc(function(d,h){if(d)return void c(d);C(b,h);c(j)},d)};zj.prototype.d=function(){g(Error())};
function Aj(){this.c("readc")}Aj.prototype=new $;Aj.prototype.className="ReadC";Aj.prototype.r=function(b,c){D(b,new Bj(hj(c,this)))};Aj.prototype.f=function(b,c){D(b,new Bj(hj(c.a(),this)))};function Bj(b){this.e=j;this.Kb=b;this.n(parent);this.Gc=this.Qc=!1;this.F=i}Bj.prototype=new M;Bj.prototype.Xb=!0;Bj.prototype.className="ReadC.Go";Bj.prototype.vc=function(b,c,d){return Si(this.Kb,function(d,h){if(d)return void c(d);C(b,h);c(j)},d)};Bj.prototype.d=function(){g(Error())};
function Cj(){this.c("sread")}Cj.prototype=new $;Cj.prototype.className="Sread";Cj.prototype.f=function(b,c){D(b,new Dj(Vi(c.a(),this),c.b().a()))};function Dj(b,c){this.e=j;this.Kb=b;this.Xc=c;this.n(parent);this.Gc=this.Qc=!1;this.F=i}Dj.prototype=new M;Dj.prototype.Xb=!0;Dj.prototype.className="Sread.Go";Dj.prototype.vc=function(b,c,d){return Ti(this.Kb,this.Xc,function(d,h){if(d)return void c(d);C(b,h);c(j)},d)};Dj.prototype.d=function(){g(Error())};var hg=!0;
function Ej(b){var c=(new Date).getTime(),d=Fj();new ki;new li;new hi;new gi;new ii;J("pi").ha(new H(Math.PI));J("e").ha(new H(Math.E));new Xh;new Dh;new Sh;new Uh;new Rh;new Oh;new wh;new Vh;new Ph;new Bh;new Th;new Ah;new Wh;new xh;new vh;new yh;new Eh;new zh;new Fh;new Qh;new Gi;new Bi;new Fi;new Ci;new nh;new Gj;new xi;new ti;new wi;new pi;new ui;new yi;new zi;new Ai;new Wg;new Ug;new ah;new Zg;new $g;new Yg;new sh;new oh;new ph;new th;new uh;new qh;new rh;new Yh;new ci;new $h;new Zh;new ai;new ch;
new eh;new gh;new mh;new oi;new mi;new ni;new wj;new xj;new oj;new pj;new nj;new kj;new qj;new Cj;new rj;new sj;new yj;new Aj;new lj;new jj;new mj;new tj;new vj;new uj;new di;new ei;new fi;var f=new ac;J("*argv*").ha(w(d));J("call*").ha(new sa);J("sig").ha(new sa);Hj(f,function(d){if(d)return void b(d);na("repl in "+((new Date).getTime()-c)+"ms");Ij(f,b,i)})}
function Fj(){for(var b=[],c=[],d=0,f=b.length;d<f;d++){var h=b[d];Object.prototype.toString.call(h)!=="[object String]"&&g(new TypeError);c.push(ya(""+h))}return c}function Hj(b,c){var d=[],f=i;function h(d,k){if(d)return void c(d);if(k===j)return void c();Jj(b,k,function(b){if(b)return void c(b);Aa(K,h,f)},f)}for(var k=[],o=0,p=d.length;o<p;o++){var z=d[o];Object.prototype.toString.call(z)!=="[object String]"&&g(new TypeError);k.push(z+" ")}var K=(new Ba(k.join(""))).va();Aa(K,h,f)}
function Ij(b,c,d){ma("arc> ");for(var f=!0,h=!1;!h;)if(Aa(ja,function(k,o){if(k){if(!(k instanceof qa))return void c(k);oa(k);f||Ij(b,c,d)}else o===j?(h=!0,f||c()):Jj(b,o,function(h){if(h)return void c(h);f||Ij(b,c,d)},d)||(f=!1)},d)||(f=!1),!f)return;c()}function Jj(b,c,d,f){return Kj(b,c,function(b,c){if(b){if(!(b instanceof r))return void d(b);na("Message    : "+b.message);ma("Java stack : ");oa(b,ka)}else na(c);d()},f)}function Lj(b){this.e=b}Lj.prototype=new Je;Lj.prototype.className="Console.Anon_mkVisitor_";
Lj.prototype.Ob=function(b){b.n(this.e)};function Kj(b,c,d,f){D(b,new Mj(c));return bc(b,d,f)}function Mj(b){this.e=j;this.ua=b;this.n(F("Console.compileAndEvalAsync_"))}Mj.prototype=new M;Mj.prototype.className="Console.CompileAndEval";Mj.prototype.d=function(b){D(b,new Nj);ef(b,this.ua,[])};function Nj(){this.e=j;this.n(F("Console.compileAndEvalAsync_"))}Nj.prototype=new M;Nj.prototype.className="Console.AndEval";
Nj.prototype.d=function(b){var c=Q(b).reduce(),d=[];c.l(d);d=w(d);d.j(new Lj(c));R(b,j,d)};function Gj(){this.c("new-thread")}Gj.prototype=new $;Gj.prototype.className="NewThread";Gj.prototype.h=function(){g(new r("Rainbow.js doesn't support new-thread."))};function Bg(b,c,d){this.e=j;this.ea=b;this.m=c;this.n(d)}Bg.prototype=new M;Bg.prototype.className="BindAndRun";Bg.prototype.d=function(b){this.ea.add(Q(b));R(b,this.ea,this.m)};function Oj(b,c,d){b.addEventListener?b.addEventListener(c,d,!1):b.attachEvent("on"+c,d)}
Oj(window,"load",function(){function b(){var b=z.value+"\n";z.value="";da.cc.Sa(b)}function c(b){if(b.Pc!==i)return b.Pc();for(var c=[],d=!0;d;)b.ec(function(b,f){b&&g(b);f!==j?d=!1:c.push(String.fromCharCode(f))},!0)||(d=!1);return c.join("")}function d(b){p.appendChild(document.createTextNode(b));fa||(fa=!0,setTimeout(function(){fa=!1;p.scrollTop=p.scrollHeight},0))}function f(b){b&&g(b);b=c(da.Oa);b!==""&&(d(b),ea.cc.Sa(b),da.Oa.cb(f))}function h(b){b&&g(b);b=c(ga.Oa);b!==""&&(d(b),ga.Oa.cb(h))}
function k(b){b&&g(b);b=c(ia.Oa);b!==""&&(d(b),ia.Oa.cb(k))}var o=document.getElementById("repl"),p=document.createElement("pre");p.className="scrollback";p.appendChild(document.createTextNode(""));o.appendChild(p);var z=document.createElement("textarea");z.className="prompt";Oj(z,"keydown",function(b){if((b.which||b.keyCode)===13)b.preventDefault?b.preventDefault():b.returnValue=!1});Oj(z,"keyup",function(c){(c.which||c.keyCode)===13&&b()});o.appendChild(z);var K=document.createElement("button");
K.className="eval";K.appendChild(document.createTextNode("Eval"));Oj(K,"click",function(){b()});o.appendChild(K);var fa=!1;da.Oa.cb(f);ga.Oa.cb(h);ia.Oa.cb(k);Ej(l())});
